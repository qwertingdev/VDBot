"use strict";var _blockCallbacks;function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var EmojiConvertor=function(){function e(){var e=this;return e.img_set="apple",e.img_sets={apple:{path:"/emoji-data/img-apple-64/",sheet:"/img/sheets/sheet_apple_64_indexed_128.png",mask:1},google:{path:"/emoji-data/img-google-64/",sheet:"/emoji-data/sheet_google_64.png",mask:2},twitter:{path:"/emoji-data/img-twitter-64/",sheet:"/emoji-data/sheet_twitter_64.png",mask:4},emojione:{path:"/emoji-data/img-emojione-64/",sheet:"/emoji-data/sheet_emojione_64.png",mask:8},facebook:{path:"/emoji-data/img-facebook-64/",sheet:"/emoji-data/sheet_facebook_64.png",mask:16},messenger:{path:"/emoji-data/img-messenger-64/",sheet:"/emoji-data/sheet_messenger_64.png",mask:32}},e.use_css_imgs=!1,e.colons_mode=!1,e.text_mode=!1,e.include_title=!1,e.include_text=!1,e.allow_native=!0,e.use_sheet=!0,e.avoid_ms_emoji=!0,e.allow_caps=!1,e.img_suffix="",e.inits={},e.map={},e.init_env(),e}return e.prototype.replace_emoticons=function(e){var t=this.replace_emoticons_with_colons(e);return this.replace_colons(t)},e.prototype.colonToUnicode=function(e){return e?(this.init_unified(),this.map.unified_inverted[e]||""):""},e.prototype.replace_emoticons_with_colons=function(d){var m=this;m.init_emoticons();var f=0,u=[],e=d.replace(m.rx_emoticons,function(e,t,a,n){var s=f;f=n+e.length;var o=-1!==a.indexOf("("),r=-1!==a.indexOf(")");if((o||r)&&-1==u.indexOf(a)&&u.push(a),r&&!o){var i=d.substring(s,n);if(-1!==i.indexOf("(")&&-1===i.indexOf(")"))return e}if("\n8)"===e){var l=d.substring(0,n);if(/\n?(6\)|7\))/.test(l))return e}var c=m.data[m.map.emoticons[a]][3][0];return c?t+":"+c+":":e});if(u.length){var t=u.map(m.escape_rx),a=new RegExp("(\\(.+)("+t.join("|")+")(.+\\))","g");e=e.replace(a,function(e,t,a,n){var s=m.data[m.map.emoticons[a]][3][0];return s?t+":"+s+":"+n:e})}return e},e.prototype.replace_colons=function(e){var o=this;return o.init_colons(),e.replace(o.rx_colons,function(e){var t=e.substr(1,e.length-2);if(-1<(t=t.toLowerCase()).indexOf("::skin-tone-")){var a,n="skin-tone-"+t.substr(-1,1),s=o.map.colons[n];return t=t.substr(0,t.length-13),(a=o.map.colons[t])?o.replacement(a,t,":",{idx:s,actual:n,wrapper:":"}):":"+t+":"+o.replacement(s,n,":")}return(a=o.map.colons[t])?o.replacement(a,t,":"):e})},e.prototype.replace_unified=function(e){var o=this;return o.init_unified(),e.replace(o.rx_unified,function(e,t,a){var n=o.map.unified[t];if(!n)return e;var s=null;return"🏻"==a&&(s="1f3fb"),"🏼"==a&&(s="1f3fc"),"🏽"==a&&(s="1f3fd"),"🏾"==a&&(s="1f3fe"),"🏿"==a&&(s="1f3ff"),s?o.replacement(n,null,null,{idx:s,actual:a,wrapper:""},!0):o.replacement(n,null,null,null,!0)})},e.prototype.addAliases=function(e){for(var t in this.init_colons(),e)this.map.colons[t]=e[t]},e.prototype.removeAliases=function(e){for(var t=this,a=0;a<e.length;a++){var n=e[a];delete t.map.colons[n];e:for(var s in t.data)for(var o=0;o<t.data[s][3].length;o++)if(n==t.data[s][3][o]){t.map.colons[n]=s;break e}}},e.prototype.replacement=function(e,t,a,n,s){var o=this,r=e,i="";n&&"object"===_typeof(n)&&(i=o.replacement(n.idx,n.actual,n.wrapper),n.idx);var l=o.img_set;if(a=a||"",o.colons_mode)return":"+o.data[e][3][0]+":"+i;var c=t?a+t+a:o.data[e][8]||a+o.data[e][3][0]+a;if(o.text_mode)return c+i;if(o.init_env(),"unified"==o.replace_mode&&o.allow_native&&o.data[e][0][0])return o.data[e][0][0]+i;if("softbank"==o.replace_mode&&o.allow_native&&o.data[e][1])return o.data[e][1]+i;if("google"==o.replace_mode&&o.allow_native&&o.data[e][2])return o.data[e][2]+i;o.data[e][7]||(o.img_sets[l].path,o.img_suffix);var d=o.include_title?' title="'+(t||o.data[e][3][0])+'"':"",m=o.include_text?a+(t||o.data[e][3][0])+a:"",f=o.data[e][4],u=o.data[e][5];function _(e){var t=parseInt("1111111111",2);function a(e){return"\\u"+e.toString(16).toUpperCase()}if(e<=65535)return a(e);var n=56320+((e-=65536)&t);return a(55296+(e>>10))+a(n)}if(s){var h=_(o.data[e][0][0].codePointAt(0));return h.length<5?(h="00"+h,h+=_(o.data[e][0][0].codePointAt(2))):~o.data[e][3][0].indexOf("flag-")&&(h+=_(o.data[e][0][0].codePointAt(2))),'<img src="https://vk.com/images/emoji/'+(h=h.replace(/\\u/g,""))+'.png" alt="'+o.data[e][0][0]+'">'}var p=100/(o.sheet_size-1);return'<span class="emoji-outer emoji-sizer"><span class="emoji-inner" style="'+("background: url("+o.img_sets[l].sheet+");background-position:"+p*f+"% "+p*u+"%;background-size:"+o.sheet_size+"00%")+'"'+d+' data-codepoints="'+r+'">'+m+"</span></span>"+i},e.prototype.init_emoticons=function(){var e=this;if(!e.inits.emoticons){e.init_colons(),e.inits.emoticons=1;var t=[];for(var a in e.map.emoticons={},e.emoticons_data){var n=a.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;");e.map.colons[e.emoticons_data[a]]&&(e.map.emoticons[n]=e.map.colons[e.emoticons_data[a]],t.push(e.escape_rx(n)))}e.rx_emoticons=new RegExp("(^|\\s)("+t.join("|")+")(?=$|[\\s|\\?\\.,!])","g")}},e.prototype.init_colons=function(){var e=this;if(!e.inits.colons)for(var t in e.inits.colons=1,e.rx_colons=new RegExp(":[a-zA-Z0-9-_+]+:(:skin-tone-[2-6]:)?","g"),e.map.colons={},e.data)for(var a=0;a<e.data[t][3].length;a++)e.map.colons[e.data[t][3][a]]=t},e.prototype.init_unified=function(){var e=this;if(!e.inits.unified){e.inits.unified=1;var t=[];for(var a in e.map.unified={},e.map.unified_inverted={},e.data)for(var n=0;n<e.data[a][0].length;n++)t.push(e.data[a][0][n].replace("*","\\*")),e.map.unified[e.data[a][0][n]]=a,e.map.unified_inverted[e.data[a][3][0]]=e.data[a][0][0];t=t.sort(function(e,t){return t.length-e.length}),e.rx_unified=new RegExp("("+t.join("|")+")(\ud83c[\udffb-\udfff])?","g")}},e.prototype.init_env=function(){var t=this;if(!t.inits.env){if(t.inits.env=1,t.replace_mode="img",t.supports_css=!1,"undefined"!=typeof navigator){var a=navigator.userAgent;if(window.getComputedStyle)try{var e=window.getComputedStyle(document.body);(e["background-size"]||e.backgroundSize)&&(t.supports_css=!0)}catch(e){a.match(/Firefox/i)&&(t.supports_css=!0)}if(a.match(/(iPhone|iPod|iPad|iPhone\s+Simulator)/i)){if(a.match(/OS\s+[12345]/i))return void(t.replace_mode="softbank");if(a.match(/OS\s+[6789]/i))return void(t.replace_mode="unified")}if(a.match(/Mac OS X 10[._ ](?:[789]|1\d)/i))return void(t.replace_mode="unified");if(!t.avoid_ms_emoji&&(a.match(/Windows NT 6.[1-9]/i)||a.match(/Windows NT 10.[0-9]/i))&&!a.match(/Chrome/i)&&!a.match(/MSIE 8/i))return void(t.replace_mode="unified")}0,t.supports_css&&(t.replace_mode="css")}},e.prototype.escape_rx=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},e.prototype.sheet_size=41,e.prototype.data={"00a9":[["©️","©"],"","󾬩",["copyright"],0,0,11,0],"00ae":[["®️","®"],"","󾬭",["registered"],0,1,11,0],"203c":[["‼️","‼"],"","󾬆",["bangbang"],0,2,15,0],2049:[["⁉️","⁉"],"","󾬅",["interrobang"],0,3,15,0],2122:[["™️","™"],"","󾬪",["tm"],0,4,11,0],2139:[["ℹ️","ℹ"],"","󾭇",["information_source"],0,5,15,0],2194:[["↔️","↔"],"","󾫶",["left_right_arrow"],0,6,15,0],2195:[["↕️","↕"],"","󾫷",["arrow_up_down"],0,7,15,0],2196:[["↖️","↖"],"","󾫲",["arrow_upper_left"],0,8,15,0],2197:[["↗️","↗"],"","󾫰",["arrow_upper_right"],0,9,15,0],2198:[["↘️","↘"],"","󾫱",["arrow_lower_right"],0,10,15,0],2199:[["↙️","↙"],"","󾫳",["arrow_lower_left"],0,11,15,0],"21a9":[["↩️","↩"],"","󾮃",["leftwards_arrow_with_hook"],0,12,15,0],"21aa":[["↪️","↪"],"","󾮈",["arrow_right_hook"],0,13,15,0],"231a":[["⌚️","⌚"],"","󾀝",["watch"],0,14,15,0],"231b":[["⌛️","⌛"],"","󾀜",["hourglass"],0,15,15,0],2328:[["⌨️","⌨"],"","",["keyboard"],0,16,15,0],"23cf":[["⏏"],"","",["eject"],0,17,2,0],"23e9":[["⏩"],"","󾫾",["fast_forward"],0,18,15,0],"23ea":[["⏪"],"","󾫿",["rewind"],0,19,15,0],"23eb":[["⏫"],"","󾬃",["arrow_double_up"],0,20,15,0],"23ec":[["⏬"],"","󾬂",["arrow_double_down"],0,21,15,0],"23ed":[["⏭"],"","",["black_right_pointing_double_triangle_with_vertical_bar"],0,22,15,0],"23ee":[["⏮"],"","",["black_left_pointing_double_triangle_with_vertical_bar"],0,23,15,0],"23ef":[["⏯"],"","",["black_right_pointing_triangle_with_double_vertical_bar"],0,24,15,0],"23f0":[["⏰"],"","󾀪",["alarm_clock"],0,25,15,0],"23f1":[["⏱"],"","",["stopwatch"],0,26,15,0],"23f2":[["⏲"],"","",["timer_clock"],0,27,15,0],"23f3":[["⏳"],"","󾀛",["hourglass_flowing_sand"],0,28,15,0],"23f8":[["⏸"],"","",["double_vertical_bar"],0,29,15,0],"23f9":[["⏹"],"","",["black_square_for_stop"],0,30,15,0],"23fa":[["⏺"],"","",["black_circle_for_record"],0,31,15,0],"24c2":[["Ⓜ️","Ⓜ"],"","󾟡",["m"],0,32,15,0],"25aa":[["▪️","▪"],"","󾭮",["black_small_square"],0,33,15,0],"25ab":[["▫️","▫"],"","󾭭",["white_small_square"],0,34,15,0],"25b6":[["▶️","▶"],"","󾫼",["arrow_forward"],0,35,15,0],"25c0":[["◀️","◀"],"","󾫽",["arrow_backward"],0,36,15,0],"25fb":[["◻️","◻"],"","󾭱",["white_medium_square"],0,37,15,0],"25fc":[["◼️","◼"],"","󾭲",["black_medium_square"],0,38,15,0],"25fd":[["◽️","◽"],"","󾭯",["white_medium_small_square"],0,39,15,0],"25fe":[["◾️","◾"],"","󾭰",["black_medium_small_square"],0,40,15,0],2600:[["☀️","☀"],"","󾀀",["sunny"],1,0,15,0],2601:[["☁️","☁"],"","󾀁",["cloud"],1,1,15,0],2602:[["☂️","☂"],"","",["umbrella"],1,2,15,0],2603:[["☃️","☃"],"","",["snowman"],1,3,15,0],2604:[["☄️","☄"],"","",["comet"],1,4,15,0],"260e":[["☎️","☎"],"","󾔣",["phone","telephone"],1,5,15,0],2611:[["☑️","☑"],"","󾮋",["ballot_box_with_check"],1,6,15,0],2614:[["☔️","☔"],"","󾀂",["umbrella_with_rain_drops"],1,7,15,0],2615:[["☕️","☕"],"","󾦁",["coffee"],1,8,15,0],2618:[["☘"],"","",["shamrock"],1,9,15,0],"261d":[["☝️","☝"],"","󾮘",["point_up"],1,10,15,0],2620:[["☠️","☠"],"","",["skull_and_crossbones"],1,16,15,0],2622:[["☢️","☢"],"","",["radioactive_sign"],1,17,15,0],2623:[["☣️","☣"],"","",["biohazard_sign"],1,18,15,0],2626:[["☦️","☦"],"","",["orthodox_cross"],1,19,15,0],"262a":[["☪️","☪"],"","",["star_and_crescent"],1,20,15,0],"262e":[["☮️","☮"],"","",["peace_symbol"],1,21,15,0],"262f":[["☯️","☯"],"","",["yin_yang"],1,22,15,0],2638:[["☸️","☸"],"","",["wheel_of_dharma"],1,23,15,0],2639:[["☹️","☹"],"","",["white_frowning_face"],1,24,15,0],"263a":[["☺️","☺"],"","󾌶",["relaxed"],1,25,15,0],2648:[["♈️","♈"],"","󾀫",["aries"],1,26,15,0],2649:[["♉️","♉"],"","󾀬",["taurus"],1,27,15,0],"264a":[["♊️","♊"],"","󾀭",["gemini"],1,28,15,0],"264b":[["♋️","♋"],"","󾀮",["cancer"],1,29,15,0],"264c":[["♌️","♌"],"","󾀯",["leo"],1,30,15,0],"264d":[["♍️","♍"],"","󾀰",["virgo"],1,31,15,0],"264e":[["♎️","♎"],"","󾀱",["libra"],1,32,15,0],"264f":[["♏️","♏"],"","󾀲",["scorpius"],1,33,15,0],2650:[["♐️","♐"],"","󾀳",["sagittarius"],1,34,15,0],2651:[["♑️","♑"],"","󾀴",["capricorn"],1,35,15,0],2652:[["♒️","♒"],"","󾀵",["aquarius"],1,36,15,0],2653:[["♓️","♓"],"","󾀶",["pisces"],1,37,15,0],2660:[["♠️","♠"],"","󾬛",["spades"],1,38,15,0],2663:[["♣️","♣"],"","󾬝",["clubs"],1,39,15,0],2665:[["♥️","♥"],"","󾬚",["hearts"],1,40,15,0],2666:[["♦️","♦"],"","󾬜",["diamonds"],2,0,15,0],2668:[["♨️","♨"],"","󾟺",["hotsprings"],2,1,15,0],"267b":[["♻️","♻"],"","󾬬",["recycle"],2,2,15,0],"267f":[["♿️","♿"],"","󾬠",["wheelchair"],2,3,15,0],2692:[["⚒"],"","",["hammer_and_pick"],2,4,15,0],2693:[["⚓️","⚓"],"","󾓁",["anchor"],2,5,15,0],2694:[["⚔"],"","",["crossed_swords"],2,6,15,0],2696:[["⚖"],"","",["scales"],2,7,15,0],2697:[["⚗"],"","",["alembic"],2,8,15,0],2699:[["⚙"],"","",["gear"],2,9,15,0],"269b":[["⚛"],"","",["atom_symbol"],2,10,15,0],"269c":[["⚜"],"","",["fleur_de_lis"],2,11,15,0],"26a0":[["⚠️","⚠"],"","󾬣",["warning"],2,12,15,0],"26a1":[["⚡️","⚡"],"","󾀄",["zap"],2,13,15,0],"26aa":[["⚪️","⚪"],"","󾭥",["white_circle"],2,14,15,0],"26ab":[["⚫️","⚫"],"","󾭦",["black_circle"],2,15,15,0],"26b0":[["⚰"],"","",["coffin"],2,16,15,0],"26b1":[["⚱"],"","",["funeral_urn"],2,17,15,0],"26bd":[["⚽️","⚽"],"","󾟔",["soccer"],2,18,15,0],"26be":[["⚾️","⚾"],"","󾟑",["baseball"],2,19,15,0],"26c4":[["⛄️","⛄"],"","󾀃",["snowman_without_snow"],2,20,15,0],"26c5":[["⛅️","⛅"],"","󾀏",["partly_sunny"],2,21,15,0],"26c8":[["⛈"],"","",["thunder_cloud_and_rain"],2,22,15,0],"26ce":[["⛎"],"","󾀷",["ophiuchus"],2,23,15,0],"26cf":[["⛏"],"","",["pick"],2,24,15,0],"26d1":[["⛑"],"","",["helmet_with_white_cross"],2,25,15,0],"26d3":[["⛓"],"","",["chains"],2,26,15,0],"26d4":[["⛔️","⛔"],"","󾬦",["no_entry"],2,27,15,0],"26e9":[["⛩"],"","",["shinto_shrine"],2,28,15,0],"26ea":[["⛪️","⛪"],"","󾒻",["church"],2,29,15,0],"26f0":[["⛰"],"","",["mountain"],2,30,15,0],"26f1":[["⛱"],"","",["umbrella_on_ground"],2,31,15,0],"26f2":[["⛲️","⛲"],"","󾒼",["fountain"],2,32,15,0],"26f3":[["⛳️","⛳"],"","󾟒",["golf"],2,33,15,0],"26f4":[["⛴"],"","",["ferry"],2,34,15,0],"26f5":[["⛵️","⛵"],"","󾟪",["boat","sailboat"],2,35,15,0],"26f7":[["⛷"],"","",["skier"],2,36,15,0],"26f8":[["⛸"],"","",["ice_skate"],2,37,15,0],"26f9":[["⛹"],"","",["person_with_ball"],2,38,15,0],"26fa":[["⛺️","⛺"],"","󾟻",["tent"],3,3,15,0],"26fd":[["⛽️","⛽"],"","󾟵",["fuelpump"],3,4,15,0],2702:[["✂️","✂"],"","󾔾",["scissors"],3,5,15,0],2705:[["✅"],"","󾭊",["white_check_mark"],3,6,15,0],2708:[["✈️","✈"],"","󾟩",["airplane"],3,7,15,0],2709:[["✉️","✉"],"","󾔩",["email","envelope"],3,8,15,0],"270a":[["✊"],"","󾮓",["fist"],3,9,15,0],"270b":[["✋"],"","󾮕",["hand","raised_hand"],3,15,15,0],"270c":[["✌️","✌"],"","󾮔",["v"],3,21,15,0],"270d":[["✍️","✍"],"","",["writing_hand"],3,27,15,0],"270f":[["✏️","✏"],"","󾔹",["pencil2"],3,33,15,0],2712:[["✒️","✒"],"","󾔶",["black_nib"],3,34,15,0],2714:[["✔️","✔"],"","󾭉",["heavy_check_mark"],3,35,15,0],2716:[["✖️","✖"],"","󾭓",["heavy_multiplication_x"],3,36,15,0],"271d":[["✝️","✝"],"","",["latin_cross"],3,37,15,0],2721:[["✡️","✡"],"","",["star_of_david"],3,38,15,0],2728:[["✨"],"","󾭠",["sparkles"],3,39,15,0],2733:[["✳️","✳"],"","󾭢",["eight_spoked_asterisk"],3,40,15,0],2734:[["✴️","✴"],"","󾭡",["eight_pointed_black_star"],4,0,15,0],2744:[["❄️","❄"],"","󾀎",["snowflake"],4,1,15,0],2747:[["❇️","❇"],"","󾭷",["sparkle"],4,2,15,0],"274c":[["❌"],"","󾭅",["x"],4,3,15,0],"274e":[["❎"],"","󾭆",["negative_squared_cross_mark"],4,4,15,0],2753:[["❓"],"","󾬉",["question"],4,5,15,0],2754:[["❔"],"","󾬊",["grey_question"],4,6,15,0],2755:[["❕"],"","󾬋",["grey_exclamation"],4,7,15,0],2757:[["❗️","❗"],"","󾬄",["exclamation","heavy_exclamation_mark"],4,8,15,0],2763:[["❣️","❣"],"","",["heavy_heart_exclamation_mark_ornament"],4,9,15,0],2764:[["❤️","❤"],"","󾬌",["heart"],4,10,15,0,"<3"],2795:[["➕"],"","󾭑",["heavy_plus_sign"],4,11,15,0],2796:[["➖"],"","󾭒",["heavy_minus_sign"],4,12,15,0],2797:[["➗"],"","󾭔",["heavy_division_sign"],4,13,15,0],"27a1":[["➡️","➡"],"","󾫺",["arrow_right"],4,14,15,0],"27b0":[["➰"],"","󾬈",["curly_loop"],4,15,15,0],"27bf":[["➿"],"","󾠫",["loop"],4,16,15,0],2934:[["⤴️","⤴"],"","󾫴",["arrow_heading_up"],4,17,15,0],2935:[["⤵️","⤵"],"","󾫵",["arrow_heading_down"],4,18,15,0],"2b05":[["⬅️","⬅"],"","󾫻",["arrow_left"],4,19,15,0],"2b06":[["⬆️","⬆"],"","󾫸",["arrow_up"],4,20,15,0],"2b07":[["⬇️","⬇"],"","󾫹",["arrow_down"],4,21,15,0],"2b1b":[["⬛️","⬛"],"","󾭬",["black_large_square"],4,22,15,0],"2b1c":[["⬜️","⬜"],"","󾭫",["white_large_square"],4,23,15,0],"2b50":[["⭐️","⭐"],"","󾭨",["star"],4,24,15,0],"2b55":[["⭕️","⭕"],"","󾭄",["o"],4,25,15,0],3030:[["〰️","〰"],"","󾬇",["wavy_dash"],4,26,15,0],"303d":[["〽️","〽"],"","󾠛",["part_alternation_mark"],4,27,15,0],3297:[["㊗️","㊗"],"","󾭃",["congratulations"],4,28,15,0],3299:[["㊙️","㊙"],"","󾬫",["secret"],4,29,15,0],"1f004":[["🀄️","🀄"],"","󾠋",["mahjong"],4,30,15,0],"1f0cf":[["🃏"],"","󾠒",["black_joker"],4,31,15,0],"1f170":[["🅰️","🅰"],"","󾔋",["a"],4,32,15,0],"1f171":[["🅱️","🅱"],"","󾔌",["b"],4,33,15,0],"1f17e":[["🅾️","🅾"],"","󾔎",["o2"],4,34,15,0],"1f17f":[["🅿️","🅿"],"","󾟶",["parking"],4,35,15,0],"1f18e":[["🆎"],"","󾔍",["ab"],4,36,15,0],"1f191":[["🆑"],"","󾮄",["cl"],4,37,15,0],"1f192":[["🆒"],"","󾬸",["cool"],4,38,15,0],"1f193":[["🆓"],"","󾬡",["free"],4,39,15,0],"1f194":[["🆔"],"","󾮁",["id"],4,40,15,0],"1f195":[["🆕"],"","󾬶",["new"],5,0,15,0],"1f196":[["🆖"],"","󾬨",["ng"],5,1,15,0],"1f197":[["🆗"],"","󾬧",["ok"],5,2,15,0],"1f198":[["🆘"],"","󾭏",["sos"],5,3,15,0],"1f199":[["🆙"],"","󾬷",["up"],5,4,15,0],"1f19a":[["🆚"],"","󾬲",["vs"],5,5,15,0],"1f201":[["🈁"],"","󾬤",["koko"],5,6,15,0],"1f202":[["🈂️","🈂"],"","󾬿",["sa"],5,7,15,0],"1f21a":[["🈚️","🈚"],"","󾬺",["u7121"],5,8,15,0],"1f22f":[["🈯️","🈯"],"","󾭀",["u6307"],5,9,15,0],"1f232":[["🈲"],"","󾬮",["u7981"],5,10,15,0],"1f233":[["🈳"],"","󾬯",["u7a7a"],5,11,15,0],"1f234":[["🈴"],"","󾬰",["u5408"],5,12,15,0],"1f235":[["🈵"],"","󾬱",["u6e80"],5,13,15,0],"1f236":[["🈶"],"","󾬹",["u6709"],5,14,15,0],"1f237":[["🈷️","🈷"],"","󾬻",["u6708"],5,15,15,0],"1f238":[["🈸"],"","󾬼",["u7533"],5,16,15,0],"1f239":[["🈹"],"","󾬾",["u5272"],5,17,15,0],"1f23a":[["🈺"],"","󾭁",["u55b6"],5,18,15,0],"1f250":[["🉐"],"","󾬽",["ideograph_advantage"],5,19,15,0],"1f251":[["🉑"],"","󾭐",["accept"],5,20,15,0],"1f300":[["🌀"],"","󾀅",["cyclone"],5,21,15,0],"1f301":[["🌁"],"","󾀆",["foggy"],5,22,15,0],"1f302":[["🌂"],"","󾀇",["closed_umbrella"],5,23,15,0],"1f303":[["🌃"],"","󾀈",["night_with_stars"],5,24,15,0],"1f304":[["🌄"],"","󾀉",["sunrise_over_mountains"],5,25,15,0],"1f305":[["🌅"],"","󾀊",["sunrise"],5,26,15,0],"1f306":[["🌆"],"","󾀋",["city_sunset"],5,27,15,0],"1f307":[["🌇"],"","󾀌",["city_sunrise"],5,28,15,0],"1f308":[["🌈"],"","󾀍",["rainbow"],5,29,15,0],"1f309":[["🌉"],"","󾀐",["bridge_at_night"],5,30,15,0],"1f30a":[["🌊"],"","󾀸",["ocean"],5,31,15,0],"1f30b":[["🌋"],"","󾀺",["volcano"],5,32,15,0],"1f30c":[["🌌"],"","󾀻",["milky_way"],5,33,15,0],"1f30d":[["🌍"],"","",["earth_africa"],5,34,15,0],"1f30e":[["🌎"],"","",["earth_americas"],5,35,15,0],"1f30f":[["🌏"],"","󾀹",["earth_asia"],5,36,15,0],"1f310":[["🌐"],"","",["globe_with_meridians"],5,37,15,0],"1f311":[["🌑"],"","󾀑",["new_moon"],5,38,15,0],"1f312":[["🌒"],"","",["waxing_crescent_moon"],5,39,15,0],"1f313":[["🌓"],"","󾀓",["first_quarter_moon"],5,40,15,0],"1f314":[["🌔"],"","󾀒",["moon","waxing_gibbous_moon"],6,0,15,0],"1f315":[["🌕"],"","󾀕",["full_moon"],6,1,15,0],"1f316":[["🌖"],"","",["waning_gibbous_moon"],6,2,15,0],"1f317":[["🌗"],"","",["last_quarter_moon"],6,3,15,0],"1f318":[["🌘"],"","",["waning_crescent_moon"],6,4,15,0],"1f319":[["🌙"],"","󾀔",["crescent_moon"],6,5,15,0],"1f31a":[["🌚"],"","",["new_moon_with_face"],6,6,15,0],"1f31b":[["🌛"],"","󾀖",["first_quarter_moon_with_face"],6,7,15,0],"1f31c":[["🌜"],"","",["last_quarter_moon_with_face"],6,8,15,0],"1f31d":[["🌝"],"","",["full_moon_with_face"],6,9,15,0],"1f31e":[["🌞"],"","",["sun_with_face"],6,10,15,0],"1f31f":[["🌟"],"","󾭩",["star2"],6,11,15,0],"1f320":[["🌠"],"","󾭪",["stars"],6,12,15,0],"1f321":[["🌡"],"","",["thermometer"],6,13,15,0],"1f324":[["🌤"],"","",["mostly_sunny","sun_small_cloud"],6,14,15,0],"1f325":[["🌥"],"","",["barely_sunny","sun_behind_cloud"],6,15,15,0],"1f326":[["🌦"],"","",["partly_sunny_rain","sun_behind_rain_cloud"],6,16,15,0],"1f327":[["🌧"],"","",["rain_cloud"],6,17,15,0],"1f328":[["🌨"],"","",["snow_cloud"],6,18,15,0],"1f329":[["🌩"],"","",["lightning","lightning_cloud"],6,19,15,0],"1f32a":[["🌪"],"","",["tornado","tornado_cloud"],6,20,15,0],"1f32b":[["🌫"],"","",["fog"],6,21,15,0],"1f32c":[["🌬"],"","",["wind_blowing_face"],6,22,15,0],"1f32d":[["🌭"],"","",["hotdog"],6,23,15,0],"1f32e":[["🌮"],"","",["taco"],6,24,15,0],"1f32f":[["🌯"],"","",["burrito"],6,25,15,0],"1f330":[["🌰"],"","󾁌",["chestnut"],6,26,15,0],"1f331":[["🌱"],"","󾀾",["seedling"],6,27,15,0],"1f332":[["🌲"],"","",["evergreen_tree"],6,28,15,0],"1f333":[["🌳"],"","",["deciduous_tree"],6,29,15,0],"1f334":[["🌴"],"","󾁇",["palm_tree"],6,30,15,0],"1f335":[["🌵"],"","󾁈",["cactus"],6,31,15,0],"1f336":[["🌶"],"","",["hot_pepper"],6,32,15,0],"1f337":[["🌷"],"","󾀽",["tulip"],6,33,15,0],"1f338":[["🌸"],"","󾁀",["cherry_blossom"],6,34,15,0],"1f339":[["🌹"],"","󾁁",["rose"],6,35,15,0],"1f33a":[["🌺"],"","󾁅",["hibiscus"],6,36,15,0],"1f33b":[["🌻"],"","󾁆",["sunflower"],6,37,15,0],"1f33c":[["🌼"],"","󾁍",["blossom"],6,38,15,0],"1f33d":[["🌽"],"","󾁊",["corn"],6,39,15,0],"1f33e":[["🌾"],"","󾁉",["ear_of_rice"],6,40,15,0],"1f33f":[["🌿"],"","󾁎",["herb"],7,0,15,0],"1f340":[["🍀"],"","󾀼",["four_leaf_clover"],7,1,15,0],"1f341":[["🍁"],"","󾀿",["maple_leaf"],7,2,15,0],"1f342":[["🍂"],"","󾁂",["fallen_leaf"],7,3,15,0],"1f343":[["🍃"],"","󾁃",["leaves"],7,4,15,0],"1f344":[["🍄"],"","󾁋",["mushroom"],7,5,15,0],"1f345":[["🍅"],"","󾁕",["tomato"],7,6,15,0],"1f346":[["🍆"],"","󾁖",["eggplant"],7,7,15,0],"1f347":[["🍇"],"","󾁙",["grapes"],7,8,15,0],"1f348":[["🍈"],"","󾁗",["melon"],7,9,15,0],"1f349":[["🍉"],"","󾁔",["watermelon"],7,10,15,0],"1f34a":[["🍊"],"","󾁒",["tangerine"],7,11,15,0],"1f34b":[["🍋"],"","",["lemon"],7,12,15,0],"1f34c":[["🍌"],"","󾁐",["banana"],7,13,15,0],"1f34d":[["🍍"],"","󾁘",["pineapple"],7,14,15,0],"1f34e":[["🍎"],"","󾁑",["apple"],7,15,15,0],"1f34f":[["🍏"],"","󾁛",["green_apple"],7,16,15,0],"1f350":[["🍐"],"","",["pear"],7,17,15,0],"1f351":[["🍑"],"","󾁚",["peach"],7,18,15,0],"1f352":[["🍒"],"","󾁏",["cherries"],7,19,15,0],"1f353":[["🍓"],"","󾁓",["strawberry"],7,20,15,0],"1f354":[["🍔"],"","󾥠",["hamburger"],7,21,15,0],"1f355":[["🍕"],"","󾥵",["pizza"],7,22,15,0],"1f356":[["🍖"],"","󾥲",["meat_on_bone"],7,23,15,0],"1f357":[["🍗"],"","󾥶",["poultry_leg"],7,24,15,0],"1f358":[["🍘"],"","󾥩",["rice_cracker"],7,25,15,0],"1f359":[["🍙"],"","󾥡",["rice_ball"],7,26,15,0],"1f35a":[["🍚"],"","󾥪",["rice"],7,27,15,0],"1f35b":[["🍛"],"","󾥬",["curry"],7,28,15,0],"1f35c":[["🍜"],"","󾥣",["ramen"],7,29,15,0],"1f35d":[["🍝"],"","󾥫",["spaghetti"],7,30,15,0],"1f35e":[["🍞"],"","󾥤",["bread"],7,31,15,0],"1f35f":[["🍟"],"","󾥧",["fries"],7,32,15,0],"1f360":[["🍠"],"","󾥴",["sweet_potato"],7,33,15,0],"1f361":[["🍡"],"","󾥨",["dango"],7,34,15,0],"1f362":[["🍢"],"","󾥭",["oden"],7,35,15,0],"1f363":[["🍣"],"","󾥮",["sushi"],7,36,15,0],"1f364":[["🍤"],"","󾥿",["fried_shrimp"],7,37,15,0],"1f365":[["🍥"],"","󾥳",["fish_cake"],7,38,15,0],"1f366":[["🍦"],"","󾥦",["icecream"],7,39,15,0],"1f367":[["🍧"],"","󾥱",["shaved_ice"],7,40,15,0],"1f368":[["🍨"],"","󾥷",["ice_cream"],8,0,15,0],"1f369":[["🍩"],"","󾥸",["doughnut"],8,1,15,0],"1f36a":[["🍪"],"","󾥹",["cookie"],8,2,15,0],"1f36b":[["🍫"],"","󾥺",["chocolate_bar"],8,3,15,0],"1f36c":[["🍬"],"","󾥻",["candy"],8,4,15,0],"1f36d":[["🍭"],"","󾥼",["lollipop"],8,5,15,0],"1f36e":[["🍮"],"","󾥽",["custard"],8,6,15,0],"1f36f":[["🍯"],"","󾥾",["honey_pot"],8,7,15,0],"1f370":[["🍰"],"","󾥢",["cake"],8,8,15,0],"1f371":[["🍱"],"","󾥯",["bento"],8,9,15,0],"1f372":[["🍲"],"","󾥰",["stew"],8,10,15,0],"1f373":[["🍳"],"","󾥥",["egg"],8,11,15,0],"1f374":[["🍴"],"","󾦀",["fork_and_knife"],8,12,15,0],"1f375":[["🍵"],"","󾦄",["tea"],8,13,15,0],"1f376":[["🍶"],"","󾦅",["sake"],8,14,15,0],"1f377":[["🍷"],"","󾦆",["wine_glass"],8,15,15,0],"1f378":[["🍸"],"","󾦂",["cocktail"],8,16,15,0],"1f379":[["🍹"],"","󾦈",["tropical_drink"],8,17,15,0],"1f37a":[["🍺"],"","󾦃",["beer"],8,18,15,0],"1f37b":[["🍻"],"","󾦇",["beers"],8,19,15,0],"1f37c":[["🍼"],"","",["baby_bottle"],8,20,15,0],"1f37d":[["🍽"],"","",["knife_fork_plate"],8,21,15,0],"1f37e":[["🍾"],"","",["champagne"],8,22,15,0],"1f37f":[["🍿"],"","",["popcorn"],8,23,15,0],"1f380":[["🎀"],"","󾔏",["ribbon"],8,24,15,0],"1f381":[["🎁"],"","󾔐",["gift"],8,25,15,0],"1f382":[["🎂"],"","󾔑",["birthday"],8,26,15,0],"1f383":[["🎃"],"","󾔟",["jack_o_lantern"],8,27,15,0],"1f384":[["🎄"],"","󾔒",["christmas_tree"],8,28,15,0],"1f385":[["🎅"],"","󾔓",["santa"],8,29,15,0],"1f386":[["🎆"],"","󾔕",["fireworks"],8,35,15,0],"1f387":[["🎇"],"","󾔝",["sparkler"],8,36,15,0],"1f388":[["🎈"],"","󾔖",["balloon"],8,37,15,0],"1f389":[["🎉"],"","󾔗",["tada"],8,38,15,0],"1f38a":[["🎊"],"","󾔠",["confetti_ball"],8,39,15,0],"1f38b":[["🎋"],"","󾔡",["tanabata_tree"],8,40,15,0],"1f38c":[["🎌"],"","󾔔",["crossed_flags"],9,0,15,0],"1f38d":[["🎍"],"","󾔘",["bamboo"],9,1,15,0],"1f38e":[["🎎"],"","󾔙",["dolls"],9,2,15,0],"1f38f":[["🎏"],"","󾔜",["flags"],9,3,15,0],"1f390":[["🎐"],"","󾔞",["wind_chime"],9,4,15,0],"1f391":[["🎑"],"","󾀗",["rice_scene"],9,5,15,0],"1f392":[["🎒"],"","󾔛",["school_satchel"],9,6,15,0],"1f393":[["🎓"],"","󾔚",["mortar_board"],9,7,15,0],"1f396":[["🎖"],"","",["medal"],9,8,15,0],"1f397":[["🎗"],"","",["reminder_ribbon"],9,9,15,0],"1f399":[["🎙"],"","",["studio_microphone"],9,10,15,0],"1f39a":[["🎚"],"","",["slider"],9,11,15,0],"1f39b":[["🎛"],"","",["control_knobs"],9,12,15,0],"1f39e":[["🎞"],"","",["film_frames"],9,13,15,0],"1f39f":[["🎟"],"","",["admission_tickets"],9,14,15,0],"1f3a0":[["🎠"],"","󾟼",["carousel_horse"],9,15,15,0],"1f3a1":[["🎡"],"","󾟽",["ferris_wheel"],9,16,15,0],"1f3a2":[["🎢"],"","󾟾",["roller_coaster"],9,17,15,0],"1f3a3":[["🎣"],"","󾟿",["fishing_pole_and_fish"],9,18,15,0],"1f3a4":[["🎤"],"","󾠀",["microphone"],9,19,15,0],"1f3a5":[["🎥"],"","󾠁",["movie_camera"],9,20,15,0],"1f3a6":[["🎦"],"","󾠂",["cinema"],9,21,15,0],"1f3a7":[["🎧"],"","󾠃",["headphones"],9,22,15,0],"1f3a8":[["🎨"],"","󾠄",["art"],9,23,15,0],"1f3a9":[["🎩"],"","󾠅",["tophat"],9,24,15,0],"1f3aa":[["🎪"],"","󾠆",["circus_tent"],9,25,15,0],"1f3ab":[["🎫"],"","󾠇",["ticket"],9,26,15,0],"1f3ac":[["🎬"],"","󾠈",["clapper"],9,27,15,0],"1f3ad":[["🎭"],"","󾠉",["performing_arts"],9,28,15,0],"1f3ae":[["🎮"],"","󾠊",["video_game"],9,29,15,0],"1f3af":[["🎯"],"","󾠌",["dart"],9,30,15,0],"1f3b0":[["🎰"],"","󾠍",["slot_machine"],9,31,15,0],"1f3b1":[["🎱"],"","󾠎",["8ball"],9,32,15,0],"1f3b2":[["🎲"],"","󾠏",["game_die"],9,33,15,0],"1f3b3":[["🎳"],"","󾠐",["bowling"],9,34,15,0],"1f3b4":[["🎴"],"","󾠑",["flower_playing_cards"],9,35,15,0],"1f3b5":[["🎵"],"","󾠓",["musical_note"],9,36,15,0],"1f3b6":[["🎶"],"","󾠔",["notes"],9,37,15,0],"1f3b7":[["🎷"],"","󾠕",["saxophone"],9,38,15,0],"1f3b8":[["🎸"],"","󾠖",["guitar"],9,39,15,0],"1f3b9":[["🎹"],"","󾠗",["musical_keyboard"],9,40,15,0],"1f3ba":[["🎺"],"","󾠘",["trumpet"],10,0,15,0],"1f3bb":[["🎻"],"","󾠙",["violin"],10,1,15,0],"1f3bc":[["🎼"],"","󾠚",["musical_score"],10,2,15,0],"1f3bd":[["🎽"],"","󾟐",["running_shirt_with_sash"],10,3,15,0],"1f3be":[["🎾"],"","󾟓",["tennis"],10,4,15,0],"1f3bf":[["🎿"],"","󾟕",["ski"],10,5,15,0],"1f3c0":[["🏀"],"","󾟖",["basketball"],10,6,15,0],"1f3c1":[["🏁"],"","󾟗",["checkered_flag"],10,7,15,0],"1f3c2":[["🏂"],"","󾟘",["snowboarder"],10,8,15,0],"1f3c3":[["🏃"],"","󾟙",["runner","running"],10,9,15,0],"1f3c4":[["🏄"],"","󾟚",["surfer"],10,15,15,0],"1f3c5":[["🏅"],"","",["sports_medal"],10,21,15,0],"1f3c6":[["🏆"],"","󾟛",["trophy"],10,22,15,0],"1f3c7":[["🏇"],"","",["horse_racing"],10,23,15,0],"1f3c8":[["🏈"],"","󾟝",["football"],10,24,15,0],"1f3c9":[["🏉"],"","",["rugby_football"],10,25,15,0],"1f3ca":[["🏊"],"","󾟞",["swimmer"],10,26,15,0],"1f3cb":[["🏋"],"","",["weight_lifter"],10,32,15,0],"1f3cc":[["🏌"],"","",["golfer"],10,38,15,0],"1f3cd":[["🏍"],"","",["racing_motorcycle"],10,39,15,0],"1f3ce":[["🏎"],"","",["racing_car"],10,40,15,0],"1f3cf":[["🏏"],"","",["cricket_bat_and_ball"],11,0,15,0],"1f3d0":[["🏐"],"","",["volleyball"],11,1,15,0],"1f3d1":[["🏑"],"","",["field_hockey_stick_and_ball"],11,2,15,0],"1f3d2":[["🏒"],"","",["ice_hockey_stick_and_puck"],11,3,15,0],"1f3d3":[["🏓"],"","",["table_tennis_paddle_and_ball"],11,4,15,0],"1f3d4":[["🏔"],"","",["snow_capped_mountain"],11,5,15,0],"1f3d5":[["🏕"],"","",["camping"],11,6,15,0],"1f3d6":[["🏖"],"","",["beach_with_umbrella"],11,7,15,0],"1f3d7":[["🏗"],"","",["building_construction"],11,8,15,0],"1f3d8":[["🏘"],"","",["house_buildings"],11,9,15,0],"1f3d9":[["🏙"],"","",["cityscape"],11,10,15,0],"1f3da":[["🏚"],"","",["derelict_house_building"],11,11,15,0],"1f3db":[["🏛"],"","",["classical_building"],11,12,15,0],"1f3dc":[["🏜"],"","",["desert"],11,13,15,0],"1f3dd":[["🏝"],"","",["desert_island"],11,14,15,0],"1f3de":[["🏞"],"","",["national_park"],11,15,15,0],"1f3df":[["🏟"],"","",["stadium"],11,16,15,0],"1f3e0":[["🏠"],"","󾒰",["house"],11,17,15,0],"1f3e1":[["🏡"],"","󾒱",["house_with_garden"],11,18,15,0],"1f3e2":[["🏢"],"","󾒲",["office"],11,19,15,0],"1f3e3":[["🏣"],"","󾒳",["post_office"],11,20,15,0],"1f3e4":[["🏤"],"","",["european_post_office"],11,21,15,0],"1f3e5":[["🏥"],"","󾒴",["hospital"],11,22,15,0],"1f3e6":[["🏦"],"","󾒵",["bank"],11,23,15,0],"1f3e7":[["🏧"],"","󾒶",["atm"],11,24,15,0],"1f3e8":[["🏨"],"","󾒷",["hotel"],11,25,15,0],"1f3e9":[["🏩"],"","󾒸",["love_hotel"],11,26,15,0],"1f3ea":[["🏪"],"","󾒹",["convenience_store"],11,27,15,0],"1f3eb":[["🏫"],"","󾒺",["school"],11,28,15,0],"1f3ec":[["🏬"],"","󾒽",["department_store"],11,29,15,0],"1f3ed":[["🏭"],"","󾓀",["factory"],11,30,15,0],"1f3ee":[["🏮"],"","󾓂",["izakaya_lantern","lantern"],11,31,15,0],"1f3ef":[["🏯"],"","󾒾",["japanese_castle"],11,32,15,0],"1f3f0":[["🏰"],"","󾒿",["european_castle"],11,33,15,0],"1f3f3":[["🏳"],"","",["waving_white_flag"],11,34,15,0],"1f3f4":[["🏴"],"","",["waving_black_flag"],11,35,15,0],"1f3f5":[["🏵"],"","",["rosette"],11,36,15,0],"1f3f7":[["🏷"],"","",["label"],11,37,15,0],"1f3f8":[["🏸"],"","",["badminton_racquet_and_shuttlecock"],11,38,15,0],"1f3f9":[["🏹"],"","",["bow_and_arrow"],11,39,15,0],"1f3fa":[["🏺"],"","",["amphora"],11,40,15,0],"1f3fb":[["🏻"],"","",["skin-tone-2"],12,0,15,0],"1f3fc":[["🏼"],"","",["skin-tone-3"],12,1,15,0],"1f3fd":[["🏽"],"","",["skin-tone-4"],12,2,15,0],"1f3fe":[["🏾"],"","",["skin-tone-5"],12,3,15,0],"1f3ff":[["🏿"],"","",["skin-tone-6"],12,4,15,0],"1f400":[["🐀"],"","",["rat"],12,5,15,0],"1f401":[["🐁"],"","",["mouse2"],12,6,15,0],"1f402":[["🐂"],"","",["ox"],12,7,15,0],"1f403":[["🐃"],"","",["water_buffalo"],12,8,15,0],"1f404":[["🐄"],"","",["cow2"],12,9,15,0],"1f405":[["🐅"],"","",["tiger2"],12,10,15,0],"1f406":[["🐆"],"","",["leopard"],12,11,15,0],"1f407":[["🐇"],"","",["rabbit2"],12,12,15,0],"1f408":[["🐈"],"","",["cat2"],12,13,15,0],"1f409":[["🐉"],"","",["dragon"],12,14,15,0],"1f40a":[["🐊"],"","",["crocodile"],12,15,15,0],"1f40b":[["🐋"],"","",["whale2"],12,16,15,0],"1f40c":[["🐌"],"","󾆹",["snail"],12,17,15,0],"1f40d":[["🐍"],"","󾇓",["snake"],12,18,15,0],"1f40e":[["🐎"],"","󾟜",["racehorse"],12,19,15,0],"1f40f":[["🐏"],"","",["ram"],12,20,15,0],"1f410":[["🐐"],"","",["goat"],12,21,15,0],"1f411":[["🐑"],"","󾇏",["sheep"],12,22,15,0],"1f412":[["🐒"],"","󾇎",["monkey"],12,23,15,0],"1f413":[["🐓"],"","",["rooster"],12,24,15,0],"1f414":[["🐔"],"","󾇔",["chicken"],12,25,15,0],"1f415":[["🐕"],"","",["dog2"],12,26,15,0],"1f416":[["🐖"],"","",["pig2"],12,27,15,0],"1f417":[["🐗"],"","󾇕",["boar"],12,28,15,0],"1f418":[["🐘"],"","󾇌",["elephant"],12,29,15,0],"1f419":[["🐙"],"","󾇅",["octopus"],12,30,15,0],"1f41a":[["🐚"],"","󾇆",["shell"],12,31,15,0],"1f41b":[["🐛"],"","󾇋",["bug"],12,32,15,0],"1f41c":[["🐜"],"","󾇚",["ant"],12,33,15,0],"1f41d":[["🐝"],"","󾇡",["bee","honeybee"],12,34,15,0],"1f41e":[["🐞"],"","󾇢",["beetle"],12,35,15,0],"1f41f":[["🐟"],"","󾆽",["fish"],12,36,15,0],"1f420":[["🐠"],"","󾇉",["tropical_fish"],12,37,15,0],"1f421":[["🐡"],"","󾇙",["blowfish"],12,38,15,0],"1f422":[["🐢"],"","󾇜",["turtle"],12,39,15,0],"1f423":[["🐣"],"","󾇝",["hatching_chick"],12,40,15,0],"1f424":[["🐤"],"","󾆺",["baby_chick"],13,0,15,0],"1f425":[["🐥"],"","󾆻",["hatched_chick"],13,1,15,0],"1f426":[["🐦"],"","󾇈",["bird"],13,2,15,0],"1f427":[["🐧"],"","󾆼",["penguin"],13,3,15,0],"1f428":[["🐨"],"","󾇍",["koala"],13,4,15,0],"1f429":[["🐩"],"","󾇘",["poodle"],13,5,15,0],"1f42a":[["🐪"],"","",["dromedary_camel"],13,6,15,0],"1f42b":[["🐫"],"","󾇖",["camel"],13,7,15,0],"1f42c":[["🐬"],"","󾇇",["dolphin","flipper"],13,8,15,0],"1f42d":[["🐭"],"","󾇂",["mouse"],13,9,15,0],"1f42e":[["🐮"],"","󾇑",["cow"],13,10,15,0],"1f42f":[["🐯"],"","󾇀",["tiger"],13,11,15,0],"1f430":[["🐰"],"","󾇒",["rabbit"],13,12,15,0],"1f431":[["🐱"],"","󾆸",["cat"],13,13,15,0],"1f432":[["🐲"],"","󾇞",["dragon_face"],13,14,15,0],"1f433":[["🐳"],"","󾇃",["whale"],13,15,15,0],"1f434":[["🐴"],"","󾆾",["horse"],13,16,15,0],"1f435":[["🐵"],"","󾇄",["monkey_face"],13,17,15,0],"1f436":[["🐶"],"","󾆷",["dog"],13,18,15,0],"1f437":[["🐷"],"","󾆿",["pig"],13,19,15,0],"1f438":[["🐸"],"","󾇗",["frog"],13,20,15,0],"1f439":[["🐹"],"","󾇊",["hamster"],13,21,15,0],"1f43a":[["🐺"],"","󾇐",["wolf"],13,22,15,0],"1f43b":[["🐻"],"","󾇁",["bear"],13,23,15,0],"1f43c":[["🐼"],"","󾇟",["panda_face"],13,24,15,0],"1f43d":[["🐽"],"","󾇠",["pig_nose"],13,25,15,0],"1f43e":[["🐾"],"","󾇛",["feet","paw_prints"],13,26,15,0],"1f43f":[["🐿"],"","",["chipmunk"],13,27,15,0],"1f440":[["👀"],"","󾆐",["eyes"],13,28,15,0],"1f441":[["👁"],"","",["eye"],13,29,15,0],"1f442":[["👂"],"","󾆑",["ear"],13,30,15,0],"1f443":[["👃"],"","󾆒",["nose"],13,36,15,0],"1f444":[["👄"],"","󾆓",["lips"],14,1,15,0],"1f445":[["👅"],"","󾆔",["tongue"],14,2,15,0],"1f446":[["👆"],"","󾮙",["point_up_2"],14,3,15,0],"1f447":[["👇"],"","󾮚",["point_down"],14,9,15,0],"1f448":[["👈"],"","󾮛",["point_left"],14,15,15,0],"1f449":[["👉"],"","󾮜",["point_right"],14,21,15,0],"1f44a":[["👊"],"","󾮖",["facepunch","punch"],14,27,15,0],"1f44b":[["👋"],"","󾮝",["wave"],14,33,15,0],"1f44c":[["👌"],"","󾮟",["ok_hand"],14,39,15,0],"1f44d":[["👍"],"","󾮗",["+1","thumbsup"],15,4,15,0],"1f44e":[["👎"],"","󾮠",["-1","thumbsdown"],15,10,15,0],"1f44f":[["👏"],"","󾮞",["clap"],15,16,15,0],"1f450":[["👐"],"","󾮡",["open_hands"],15,22,15,0],"1f451":[["👑"],"","󾓑",["crown"],15,28,15,0],"1f452":[["👒"],"","󾓔",["womans_hat"],15,29,15,0],"1f453":[["👓"],"","󾓎",["eyeglasses"],15,30,15,0],"1f454":[["👔"],"","󾓓",["necktie"],15,31,15,0],"1f455":[["👕"],"","󾓏",["shirt","tshirt"],15,32,15,0],"1f456":[["👖"],"","󾓐",["jeans"],15,33,15,0],"1f457":[["👗"],"","󾓕",["dress"],15,34,15,0],"1f458":[["👘"],"","󾓙",["kimono"],15,35,15,0],"1f459":[["👙"],"","󾓚",["bikini"],15,36,15,0],"1f45a":[["👚"],"","󾓛",["womans_clothes"],15,37,15,0],"1f45b":[["👛"],"","󾓜",["purse"],15,38,15,0],"1f45c":[["👜"],"","󾓰",["handbag"],15,39,15,0],"1f45d":[["👝"],"","󾓱",["pouch"],15,40,15,0],"1f45e":[["👞"],"","󾓌",["mans_shoe","shoe"],16,0,15,0],"1f45f":[["👟"],"","󾓍",["athletic_shoe"],16,1,15,0],"1f460":[["👠"],"","󾓖",["high_heel"],16,2,15,0],"1f461":[["👡"],"","󾓗",["sandal"],16,3,15,0],"1f462":[["👢"],"","󾓘",["boot"],16,4,15,0],"1f463":[["👣"],"","󾕓",["footprints"],16,5,15,0],"1f464":[["👤"],"","󾆚",["bust_in_silhouette"],16,6,15,0],"1f465":[["👥"],"","",["busts_in_silhouette"],16,7,15,0],"1f466":[["👦"],"","󾆛",["boy"],16,8,15,0],"1f467":[["👧"],"","󾆜",["girl"],16,14,15,0],"1f468":[["👨"],"","󾆝",["man"],16,20,15,0],"1f469":[["👩"],"","󾆞",["woman"],16,26,15,0],"1f46a":[["👨‍👩‍👦","👪"],"","󾆟",["family","man-woman-boy"],16,32,15,0],"1f46b":[["👫"],"","󾆠",["couple","man_and_woman_holding_hands"],16,33,15,0],"1f46c":[["👬"],"","",["two_men_holding_hands"],16,34,15,0],"1f46d":[["👭"],"","",["two_women_holding_hands"],16,35,15,0],"1f46e":[["👮"],"","󾆡",["cop"],16,36,15,0],"1f46f":[["👯"],"","󾆢",["dancers"],17,1,15,0],"1f470":[["👰"],"","󾆣",["bride_with_veil"],17,2,15,0],"1f471":[["👱"],"","󾆤",["person_with_blond_hair"],17,8,15,0],"1f472":[["👲"],"","󾆥",["man_with_gua_pi_mao"],17,14,15,0],"1f473":[["👳"],"","󾆦",["man_with_turban"],17,20,15,0],"1f474":[["👴"],"","󾆧",["older_man"],17,26,15,0],"1f475":[["👵"],"","󾆨",["older_woman"],17,32,15,0],"1f476":[["👶"],"","󾆩",["baby"],17,38,15,0],"1f477":[["👷"],"","󾆪",["construction_worker"],18,3,15,0],"1f478":[["👸"],"","󾆫",["princess"],18,9,15,0],"1f479":[["👹"],"","󾆬",["japanese_ogre"],18,15,15,0],"1f47a":[["👺"],"","󾆭",["japanese_goblin"],18,16,15,0],"1f47b":[["👻"],"","󾆮",["ghost"],18,17,15,0],"1f47c":[["👼"],"","󾆯",["angel"],18,18,15,0],"1f47d":[["👽"],"","󾆰",["alien"],18,24,15,0],"1f47e":[["👾"],"","󾆱",["space_invader"],18,25,15,0],"1f47f":[["👿"],"","󾆲",["imp"],18,26,15,0],"1f480":[["💀"],"","󾆳",["skull"],18,27,15,0],"1f481":[["💁"],"","󾆴",["information_desk_person"],18,28,15,0],"1f482":[["💂"],"","󾆵",["guardsman"],18,34,15,0],"1f483":[["💃"],"","󾆶",["dancer"],18,40,15,0],"1f484":[["💄"],"","󾆕",["lipstick"],19,5,15,0],"1f485":[["💅"],"","󾆖",["nail_care"],19,6,15,0],"1f486":[["💆"],"","󾆗",["massage"],19,12,15,0],"1f487":[["💇"],"","󾆘",["haircut"],19,18,15,0],"1f488":[["💈"],"","󾆙",["barber"],19,24,15,0],"1f489":[["💉"],"","󾔉",["syringe"],19,25,15,0],"1f48a":[["💊"],"","󾔊",["pill"],19,26,15,0],"1f48b":[["💋"],"","󾠣",["kiss"],19,27,15,0],"1f48c":[["💌"],"","󾠤",["love_letter"],19,28,15,0],"1f48d":[["💍"],"","󾠥",["ring"],19,29,15,0],"1f48e":[["💎"],"","󾠦",["gem"],19,30,15,0],"1f48f":[["💏"],"","󾠧",["couplekiss"],19,31,15,0],"1f490":[["💐"],"","󾠨",["bouquet"],19,32,15,0],"1f491":[["💑"],"","󾠩",["couple_with_heart"],19,33,15,0],"1f492":[["💒"],"","󾠪",["wedding"],19,34,15,0],"1f493":[["💓"],"","󾬍",["heartbeat"],19,35,15,0],"1f494":[["💔"],"","󾬎",["broken_heart"],19,36,15,0,"</3"],"1f495":[["💕"],"","󾬏",["two_hearts"],19,37,15,0],"1f496":[["💖"],"","󾬐",["sparkling_heart"],19,38,15,0],"1f497":[["💗"],"","󾬑",["heartpulse"],19,39,15,0],"1f498":[["💘"],"","󾬒",["cupid"],19,40,15,0],"1f499":[["💙"],"","󾬓",["blue_heart"],20,0,15,0,"<3"],"1f49a":[["💚"],"","󾬔",["green_heart"],20,1,15,0,"<3"],"1f49b":[["💛"],"","󾬕",["yellow_heart"],20,2,15,0,"<3"],"1f49c":[["💜"],"","󾬖",["purple_heart"],20,3,15,0,"<3"],"1f49d":[["💝"],"","󾬗",["gift_heart"],20,4,15,0],"1f49e":[["💞"],"","󾬘",["revolving_hearts"],20,5,15,0],"1f49f":[["💟"],"","󾬙",["heart_decoration"],20,6,15,0],"1f4a0":[["💠"],"","󾭕",["diamond_shape_with_a_dot_inside"],20,7,15,0],"1f4a1":[["💡"],"","󾭖",["bulb"],20,8,15,0],"1f4a2":[["💢"],"","󾭗",["anger"],20,9,15,0],"1f4a3":[["💣"],"","󾭘",["bomb"],20,10,15,0],"1f4a4":[["💤"],"","󾭙",["zzz"],20,11,15,0],"1f4a5":[["💥"],"","󾭚",["boom","collision"],20,12,15,0],"1f4a6":[["💦"],"","󾭛",["sweat_drops"],20,13,15,0],"1f4a7":[["💧"],"","󾭜",["droplet"],20,14,15,0],"1f4a8":[["💨"],"","󾭝",["dash"],20,15,15,0],"1f4a9":[["💩"],"","󾓴",["hankey","poop","shit"],20,16,15,0],"1f4aa":[["💪"],"","󾭞",["muscle"],20,17,15,0],"1f4ab":[["💫"],"","󾭟",["dizzy"],20,23,15,0],"1f4ac":[["💬"],"","󾔲",["speech_balloon"],20,24,15,0],"1f4ad":[["💭"],"","",["thought_balloon"],20,25,15,0],"1f4ae":[["💮"],"","󾭺",["white_flower"],20,26,15,0],"1f4af":[["💯"],"","󾭻",["100"],20,27,15,0],"1f4b0":[["💰"],"","󾓝",["moneybag"],20,28,15,0],"1f4b1":[["💱"],"","󾓞",["currency_exchange"],20,29,15,0],"1f4b2":[["💲"],"","󾓠",["heavy_dollar_sign"],20,30,15,0],"1f4b3":[["💳"],"","󾓡",["credit_card"],20,31,15,0],"1f4b4":[["💴"],"","󾓢",["yen"],20,32,15,0],"1f4b5":[["💵"],"","󾓣",["dollar"],20,33,15,0],"1f4b6":[["💶"],"","",["euro"],20,34,15,0],"1f4b7":[["💷"],"","",["pound"],20,35,15,0],"1f4b8":[["💸"],"","󾓤",["money_with_wings"],20,36,15,0],"1f4b9":[["💹"],"","󾓟",["chart"],20,37,15,0],"1f4ba":[["💺"],"","󾔷",["seat"],20,38,15,0],"1f4bb":[["💻"],"","󾔸",["computer"],20,39,15,0],"1f4bc":[["💼"],"","󾔻",["briefcase"],20,40,15,0],"1f4bd":[["💽"],"","󾔼",["minidisc"],21,0,15,0],"1f4be":[["💾"],"","󾔽",["floppy_disk"],21,1,15,0],"1f4bf":[["💿"],"","󾠝",["cd"],21,2,15,0],"1f4c0":[["📀"],"","󾠞",["dvd"],21,3,15,0],"1f4c1":[["📁"],"","󾕃",["file_folder"],21,4,15,0],"1f4c2":[["📂"],"","󾕄",["open_file_folder"],21,5,15,0],"1f4c3":[["📃"],"","󾕀",["page_with_curl"],21,6,15,0],"1f4c4":[["📄"],"","󾕁",["page_facing_up"],21,7,15,0],"1f4c5":[["📅"],"","󾕂",["date"],21,8,15,0],"1f4c6":[["📆"],"","󾕉",["calendar"],21,9,15,0],"1f4c7":[["📇"],"","󾕍",["card_index"],21,10,15,0],"1f4c8":[["📈"],"","󾕋",["chart_with_upwards_trend"],21,11,15,0],"1f4c9":[["📉"],"","󾕌",["chart_with_downwards_trend"],21,12,15,0],"1f4ca":[["📊"],"","󾕊",["bar_chart"],21,13,15,0],"1f4cb":[["📋"],"","󾕈",["clipboard"],21,14,15,0],"1f4cc":[["📌"],"","󾕎",["pushpin"],21,15,15,0],"1f4cd":[["📍"],"","󾔿",["round_pushpin"],21,16,15,0],"1f4ce":[["📎"],"","󾔺",["paperclip"],21,17,15,0],"1f4cf":[["📏"],"","󾕐",["straight_ruler"],21,18,15,0],"1f4d0":[["📐"],"","󾕑",["triangular_ruler"],21,19,15,0],"1f4d1":[["📑"],"","󾕒",["bookmark_tabs"],21,20,15,0],"1f4d2":[["📒"],"","󾕏",["ledger"],21,21,15,0],"1f4d3":[["📓"],"","󾕅",["notebook"],21,22,15,0],"1f4d4":[["📔"],"","󾕇",["notebook_with_decorative_cover"],21,23,15,0],"1f4d5":[["📕"],"","󾔂",["closed_book"],21,24,15,0],"1f4d6":[["📖"],"","󾕆",["book","open_book"],21,25,15,0],"1f4d7":[["📗"],"","󾓿",["green_book"],21,26,15,0],"1f4d8":[["📘"],"","󾔀",["blue_book"],21,27,15,0],"1f4d9":[["📙"],"","󾔁",["orange_book"],21,28,15,0],"1f4da":[["📚"],"","󾔃",["books"],21,29,15,0],"1f4db":[["📛"],"","󾔄",["name_badge"],21,30,15,0],"1f4dc":[["📜"],"","󾓽",["scroll"],21,31,15,0],"1f4dd":[["📝"],"","󾔧",["memo","pencil"],21,32,15,0],"1f4de":[["📞"],"","󾔤",["telephone_receiver"],21,33,15,0],"1f4df":[["📟"],"","󾔢",["pager"],21,34,15,0],"1f4e0":[["📠"],"","󾔨",["fax"],21,35,15,0],"1f4e1":[["📡"],"","󾔱",["satellite_antenna"],21,36,15,0],"1f4e2":[["📢"],"","󾔯",["loudspeaker"],21,37,15,0],"1f4e3":[["📣"],"","󾔰",["mega"],21,38,15,0],"1f4e4":[["📤"],"","󾔳",["outbox_tray"],21,39,15,0],"1f4e5":[["📥"],"","󾔴",["inbox_tray"],21,40,15,0],"1f4e6":[["📦"],"","󾔵",["package"],22,0,15,0],"1f4e7":[["📧"],"","󾮒",["e-mail"],22,1,15,0],"1f4e8":[["📨"],"","󾔪",["incoming_envelope"],22,2,15,0],"1f4e9":[["📩"],"","󾔫",["envelope_with_arrow"],22,3,15,0],"1f4ea":[["📪"],"","󾔬",["mailbox_closed"],22,4,15,0],"1f4eb":[["📫"],"","󾔭",["mailbox"],22,5,15,0],"1f4ec":[["📬"],"","",["mailbox_with_mail"],22,6,15,0],"1f4ed":[["📭"],"","",["mailbox_with_no_mail"],22,7,15,0],"1f4ee":[["📮"],"","󾔮",["postbox"],22,8,15,0],"1f4ef":[["📯"],"","",["postal_horn"],22,9,15,0],"1f4f0":[["📰"],"","󾠢",["newspaper"],22,10,15,0],"1f4f1":[["📱"],"","󾔥",["iphone"],22,11,15,0],"1f4f2":[["📲"],"","󾔦",["calling"],22,12,15,0],"1f4f3":[["📳"],"","󾠹",["vibration_mode"],22,13,15,0],"1f4f4":[["📴"],"","󾠺",["mobile_phone_off"],22,14,15,0],"1f4f5":[["📵"],"","",["no_mobile_phones"],22,15,15,0],"1f4f6":[["📶"],"","󾠸",["signal_strength"],22,16,15,0],"1f4f7":[["📷"],"","󾓯",["camera"],22,17,15,0],"1f4f8":[["📸"],"","",["camera_with_flash"],22,18,15,0],"1f4f9":[["📹"],"","󾓹",["video_camera"],22,19,15,0],"1f4fa":[["📺"],"","󾠜",["tv"],22,20,15,0],"1f4fb":[["📻"],"","󾠟",["radio"],22,21,15,0],"1f4fc":[["📼"],"","󾠠",["vhs"],22,22,15,0],"1f4fd":[["📽"],"","",["film_projector"],22,23,15,0],"1f4ff":[["📿"],"","",["prayer_beads"],22,24,15,0],"1f500":[["🔀"],"","",["twisted_rightwards_arrows"],22,25,15,0],"1f501":[["🔁"],"","",["repeat"],22,26,15,0],"1f502":[["🔂"],"","",["repeat_one"],22,27,15,0],"1f503":[["🔃"],"","󾮑",["arrows_clockwise"],22,28,15,0],"1f504":[["🔄"],"","",["arrows_counterclockwise"],22,29,15,0],"1f505":[["🔅"],"","",["low_brightness"],22,30,15,0],"1f506":[["🔆"],"","",["high_brightness"],22,31,15,0],"1f507":[["🔇"],"","",["mute"],22,32,15,0],"1f508":[["🔈"],"","",["speaker"],22,33,15,0],"1f509":[["🔉"],"","",["sound"],22,34,15,0],"1f50a":[["🔊"],"","󾠡",["loud_sound"],22,35,15,0],"1f50b":[["🔋"],"","󾓼",["battery"],22,36,15,0],"1f50c":[["🔌"],"","󾓾",["electric_plug"],22,37,15,0],"1f50d":[["🔍"],"","󾮅",["mag"],22,38,15,0],"1f50e":[["🔎"],"","󾮍",["mag_right"],22,39,15,0],"1f50f":[["🔏"],"","󾮐",["lock_with_ink_pen"],22,40,15,0],"1f510":[["🔐"],"","󾮊",["closed_lock_with_key"],23,0,15,0],"1f511":[["🔑"],"","󾮂",["key"],23,1,15,0],"1f512":[["🔒"],"","󾮆",["lock"],23,2,15,0],"1f513":[["🔓"],"","󾮇",["unlock"],23,3,15,0],"1f514":[["🔔"],"","󾓲",["bell"],23,4,15,0],"1f515":[["🔕"],"","",["no_bell"],23,5,15,0],"1f516":[["🔖"],"","󾮏",["bookmark"],23,6,15,0],"1f517":[["🔗"],"","󾭋",["link"],23,7,15,0],"1f518":[["🔘"],"","󾮌",["radio_button"],23,8,15,0],"1f519":[["🔙"],"","󾮎",["back"],23,9,15,0],"1f51a":[["🔚"],"","󾀚",["end"],23,10,15,0],"1f51b":[["🔛"],"","󾀙",["on"],23,11,15,0],"1f51c":[["🔜"],"","󾀘",["soon"],23,12,15,0],"1f51d":[["🔝"],"","󾭂",["top"],23,13,15,0],"1f51e":[["🔞"],"","󾬥",["underage"],23,14,15,0],"1f51f":[["🔟"],"","󾠻",["keycap_ten"],23,15,15,0],"1f520":[["🔠"],"","󾭼",["capital_abcd"],23,16,15,0],"1f521":[["🔡"],"","󾭽",["abcd"],23,17,15,0],"1f522":[["🔢"],"","󾭾",["1234"],23,18,15,0],"1f523":[["🔣"],"","󾭿",["symbols"],23,19,15,0],"1f524":[["🔤"],"","󾮀",["abc"],23,20,15,0],"1f525":[["🔥"],"","󾓶",["fire"],23,21,15,0],"1f526":[["🔦"],"","󾓻",["flashlight"],23,22,15,0],"1f527":[["🔧"],"","󾓉",["wrench"],23,23,15,0],"1f528":[["🔨"],"","󾓊",["hammer"],23,24,15,0],"1f529":[["🔩"],"","󾓋",["nut_and_bolt"],23,25,15,0],"1f52a":[["🔪"],"","󾓺",["hocho","knife"],23,26,15,0],"1f52b":[["🔫"],"","󾓵",["gun"],23,27,15,0],"1f52c":[["🔬"],"","",["microscope"],23,28,15,0],"1f52d":[["🔭"],"","",["telescope"],23,29,15,0],"1f52e":[["🔮"],"","󾓷",["crystal_ball"],23,30,15,0],"1f52f":[["🔯"],"","󾓸",["six_pointed_star"],23,31,15,0],"1f530":[["🔰"],"","󾁄",["beginner"],23,32,15,0],"1f531":[["🔱"],"","󾓒",["trident"],23,33,15,0],"1f532":[["🔲"],"","󾭤",["black_square_button"],23,34,15,0],"1f533":[["🔳"],"","󾭧",["white_square_button"],23,35,15,0],"1f534":[["🔴"],"","󾭣",["red_circle"],23,36,15,0],"1f535":[["🔵"],"","󾭤",["large_blue_circle"],23,37,15,0],"1f536":[["🔶"],"","󾭳",["large_orange_diamond"],23,38,15,0],"1f537":[["🔷"],"","󾭴",["large_blue_diamond"],23,39,15,0],"1f538":[["🔸"],"","󾭵",["small_orange_diamond"],23,40,15,0],"1f539":[["🔹"],"","󾭶",["small_blue_diamond"],24,0,15,0],"1f53a":[["🔺"],"","󾭸",["small_red_triangle"],24,1,15,0],"1f53b":[["🔻"],"","󾭹",["small_red_triangle_down"],24,2,15,0],"1f53c":[["🔼"],"","󾬁",["arrow_up_small"],24,3,15,0],"1f53d":[["🔽"],"","󾬀",["arrow_down_small"],24,4,15,0],"1f549":[["🕉"],"","",["om_symbol"],24,5,15,0],"1f54a":[["🕊"],"","",["dove_of_peace"],24,6,15,0],"1f54b":[["🕋"],"","",["kaaba"],24,7,15,0],"1f54c":[["🕌"],"","",["mosque"],24,8,15,0],"1f54d":[["🕍"],"","",["synagogue"],24,9,15,0],"1f54e":[["🕎"],"","",["menorah_with_nine_branches"],24,10,15,0],"1f550":[["🕐"],"","󾀞",["clock1"],24,11,15,0],"1f551":[["🕑"],"","󾀟",["clock2"],24,12,15,0],"1f552":[["🕒"],"","󾀠",["clock3"],24,13,15,0],"1f553":[["🕓"],"","󾀡",["clock4"],24,14,15,0],"1f554":[["🕔"],"","󾀢",["clock5"],24,15,15,0],"1f555":[["🕕"],"","󾀣",["clock6"],24,16,15,0],"1f556":[["🕖"],"","󾀤",["clock7"],24,17,15,0],"1f557":[["🕗"],"","󾀥",["clock8"],24,18,15,0],"1f558":[["🕘"],"","󾀦",["clock9"],24,19,15,0],"1f559":[["🕙"],"","󾀧",["clock10"],24,20,15,0],"1f55a":[["🕚"],"","󾀨",["clock11"],24,21,15,0],"1f55b":[["🕛"],"","󾀩",["clock12"],24,22,15,0],"1f55c":[["🕜"],"","",["clock130"],24,23,15,0],"1f55d":[["🕝"],"","",["clock230"],24,24,15,0],"1f55e":[["🕞"],"","",["clock330"],24,25,15,0],"1f55f":[["🕟"],"","",["clock430"],24,26,15,0],"1f560":[["🕠"],"","",["clock530"],24,27,15,0],"1f561":[["🕡"],"","",["clock630"],24,28,15,0],"1f562":[["🕢"],"","",["clock730"],24,29,15,0],"1f563":[["🕣"],"","",["clock830"],24,30,15,0],"1f564":[["🕤"],"","",["clock930"],24,31,15,0],"1f565":[["🕥"],"","",["clock1030"],24,32,15,0],"1f566":[["🕦"],"","",["clock1130"],24,33,15,0],"1f567":[["🕧"],"","",["clock1230"],24,34,15,0],"1f56f":[["🕯"],"","",["candle"],24,35,15,0],"1f570":[["🕰"],"","",["mantelpiece_clock"],24,36,15,0],"1f573":[["🕳"],"","",["hole"],24,37,15,0],"1f574":[["🕴"],"","",["man_in_business_suit_levitating"],24,38,15,0],"1f575":[["🕵"],"","",["sleuth_or_spy"],24,39,15,0],"1f576":[["🕶"],"","",["dark_sunglasses"],25,4,15,0],"1f577":[["🕷"],"","",["spider"],25,5,15,0],"1f578":[["🕸"],"","",["spider_web"],25,6,15,0],"1f579":[["🕹"],"","",["joystick"],25,7,15,0],"1f587":[["🖇"],"","",["linked_paperclips"],25,8,15,0],"1f58a":[["🖊"],"","",["lower_left_ballpoint_pen"],25,9,15,0],"1f58b":[["🖋"],"","",["lower_left_fountain_pen"],25,10,15,0],"1f58c":[["🖌"],"","",["lower_left_paintbrush"],25,11,15,0],"1f58d":[["🖍"],"","",["lower_left_crayon"],25,12,15,0],"1f590":[["🖐"],"","",["raised_hand_with_fingers_splayed"],25,13,15,0],"1f595":[["🖕"],"","",["middle_finger","reversed_hand_with_middle_finger_extended"],25,19,15,0],"1f596":[["🖖"],"","",["spock-hand"],25,25,15,0],"1f5a5":[["🖥"],"","",["desktop_computer"],25,31,15,0],"1f5a8":[["🖨"],"","",["printer"],25,32,15,0],"1f5b1":[["🖱"],"","",["three_button_mouse"],25,33,15,0],"1f5b2":[["🖲"],"","",["trackball"],25,34,15,0],"1f5bc":[["🖼"],"","",["frame_with_picture"],25,35,15,0],"1f5c2":[["🗂"],"","",["card_index_dividers"],25,36,15,0],"1f5c3":[["🗃"],"","",["card_file_box"],25,37,15,0],"1f5c4":[["🗄"],"","",["file_cabinet"],25,38,15,0],"1f5d1":[["🗑"],"","",["wastebasket"],25,39,15,0],"1f5d2":[["🗒"],"","",["spiral_note_pad"],25,40,15,0],"1f5d3":[["🗓"],"","",["spiral_calendar_pad"],26,0,15,0],"1f5dc":[["🗜"],"","",["compression"],26,1,15,0],"1f5dd":[["🗝"],"","",["old_key"],26,2,15,0],"1f5de":[["🗞"],"","",["rolled_up_newspaper"],26,3,15,0],"1f5e1":[["🗡"],"","",["dagger_knife"],26,4,15,0],"1f5e3":[["🗣"],"","",["speaking_head_in_silhouette"],26,5,15,0],"1f5e8":[["🗨"],"","",["left_speech_bubble"],26,6,7,0],"1f5ef":[["🗯"],"","",["right_anger_bubble"],26,7,15,0],"1f5f3":[["🗳"],"","",["ballot_box_with_ballot"],26,8,15,0],"1f5fa":[["🗺"],"","",["world_map"],26,9,15,0],"1f5fb":[["🗻"],"","󾓃",["mount_fuji"],26,10,15,0],"1f5fc":[["🗼"],"","󾓄",["tokyo_tower"],26,11,15,0],"1f5fd":[["🗽"],"","󾓆",["statue_of_liberty"],26,12,15,0],"1f5fe":[["🗾"],"","󾓇",["japan"],26,13,15,0],"1f5ff":[["🗿"],"","󾓈",["moyai"],26,14,15,0],"1f600":[["😀"],"","",["grinning"],26,15,15,0,":D"],"1f601":[["😁"],"","󾌳",["grin"],26,16,15,0],"1f602":[["😂"],"","󾌴",["joy"],26,17,15,0],"1f603":[["😃"],"","󾌰",["smiley"],26,18,15,0,":)"],"1f604":[["😄"],"","󾌸",["smile"],26,19,15,0,":)"],"1f605":[["😅"],"","󾌱",["sweat_smile"],26,20,15,0],"1f606":[["😆"],"","󾌲",["laughing","satisfied"],26,21,15,0],"1f607":[["😇"],"","",["innocent"],26,22,15,0],"1f608":[["😈"],"","",["smiling_imp"],26,23,15,0],"1f609":[["😉"],"","󾍇",["wink"],26,24,15,0,";)"],"1f60a":[["😊"],"","󾌵",["blush"],26,25,15,0,":)"],"1f60b":[["😋"],"","󾌫",["yum"],26,26,15,0],"1f60c":[["😌"],"","󾌾",["relieved"],26,27,15,0],"1f60d":[["😍"],"","󾌧",["heart_eyes"],26,28,15,0],"1f60e":[["😎"],"","",["sunglasses"],26,29,15,0],"1f60f":[["😏"],"","󾍃",["smirk"],26,30,15,0],"1f610":[["😐"],"","",["neutral_face"],26,31,15,0],"1f611":[["😑"],"","",["expressionless"],26,32,15,0],"1f612":[["😒"],"","󾌦",["unamused"],26,33,15,0,":("],"1f613":[["😓"],"","󾍄",["sweat"],26,34,15,0],"1f614":[["😔"],"","󾍀",["pensive"],26,35,15,0],"1f615":[["😕"],"","",["confused"],26,36,15,0],"1f616":[["😖"],"","󾌿",["confounded"],26,37,15,0],"1f617":[["😗"],"","",["kissing"],26,38,15,0],"1f618":[["😘"],"","󾌬",["kissing_heart"],26,39,15,0],"1f619":[["😙"],"","",["kissing_smiling_eyes"],26,40,15,0],"1f61a":[["😚"],"","󾌭",["kissing_closed_eyes"],27,0,15,0],"1f61b":[["😛"],"","",["stuck_out_tongue"],27,1,15,0,":p"],"1f61c":[["😜"],"","󾌩",["stuck_out_tongue_winking_eye"],27,2,15,0,";p"],"1f61d":[["😝"],"","󾌪",["stuck_out_tongue_closed_eyes"],27,3,15,0],"1f61e":[["😞"],"","󾌣",["disappointed"],27,4,15,0,":("],"1f61f":[["😟"],"","",["worried"],27,5,15,0],"1f620":[["😠"],"","󾌠",["angry"],27,6,15,0],"1f621":[["😡"],"","󾌽",["rage"],27,7,15,0],"1f622":[["😢"],"","󾌹",["cry"],27,8,15,0,":'("],"1f623":[["😣"],"","󾌼",["persevere"],27,9,15,0],"1f624":[["😤"],"","󾌨",["triumph"],27,10,15,0],"1f625":[["😥"],"","󾍅",["disappointed_relieved"],27,11,15,0],"1f626":[["😦"],"","",["frowning"],27,12,15,0],"1f627":[["😧"],"","",["anguished"],27,13,15,0],"1f628":[["😨"],"","󾌻",["fearful"],27,14,15,0],"1f629":[["😩"],"","󾌡",["weary"],27,15,15,0],"1f62a":[["😪"],"","󾍂",["sleepy"],27,16,15,0],"1f62b":[["😫"],"","󾍆",["tired_face"],27,17,15,0],"1f62c":[["😬"],"","",["grimacing"],27,18,15,0],"1f62d":[["😭"],"","󾌺",["sob"],27,19,15,0,":'("],"1f62e":[["😮"],"","",["open_mouth"],27,20,15,0],"1f62f":[["😯"],"","",["hushed"],27,21,15,0],"1f630":[["😰"],"","󾌥",["cold_sweat"],27,22,15,0],"1f631":[["😱"],"","󾍁",["scream"],27,23,15,0],"1f632":[["😲"],"","󾌢",["astonished"],27,24,15,0],"1f633":[["😳"],"","󾌯",["flushed"],27,25,15,0],"1f634":[["😴"],"","",["sleeping"],27,26,15,0],"1f635":[["😵"],"","󾌤",["dizzy_face"],27,27,15,0],"1f636":[["😶"],"","",["no_mouth"],27,28,15,0],"1f637":[["😷"],"","󾌮",["mask"],27,29,15,0],"1f638":[["😸"],"","󾍉",["smile_cat"],27,30,15,0],"1f639":[["😹"],"","󾍊",["joy_cat"],27,31,15,0],"1f63a":[["😺"],"","󾍈",["smiley_cat"],27,32,15,0],"1f63b":[["😻"],"","󾍌",["heart_eyes_cat"],27,33,15,0],"1f63c":[["😼"],"","󾍏",["smirk_cat"],27,34,15,0],"1f63d":[["😽"],"","󾍋",["kissing_cat"],27,35,15,0],"1f63e":[["😾"],"","󾍎",["pouting_cat"],27,36,15,0],"1f63f":[["😿"],"","󾍍",["crying_cat_face"],27,37,15,0],"1f640":[["🙀"],"","󾍐",["scream_cat"],27,38,15,0],"1f641":[["🙁"],"","",["slightly_frowning_face"],27,39,15,0],"1f642":[["🙂"],"","",["slightly_smiling_face"],27,40,15,0],"1f643":[["🙃"],"","",["upside_down_face"],28,0,15,0],"1f644":[["🙄"],"","",["face_with_rolling_eyes"],28,1,15,0],"1f645":[["🙅"],"","󾍑",["no_good"],28,2,15,0],"1f646":[["🙆"],"","󾍒",["ok_woman"],28,8,15,0],"1f647":[["🙇"],"","󾍓",["bow"],28,14,15,0],"1f648":[["🙈"],"","󾍔",["see_no_evil"],28,20,15,0],"1f649":[["🙉"],"","󾍖",["hear_no_evil"],28,21,15,0],"1f64a":[["🙊"],"","󾍕",["speak_no_evil"],28,22,15,0],"1f64b":[["🙋"],"","󾍗",["raising_hand"],28,23,15,0],"1f64c":[["🙌"],"","󾍘",["raised_hands"],28,29,15,0],"1f64d":[["🙍"],"","󾍙",["person_frowning"],28,35,15,0],"1f64e":[["🙎"],"","󾍚",["person_with_pouting_face"],29,0,15,0],"1f64f":[["🙏"],"","󾍛",["pray"],29,6,15,0],"1f680":[["🚀"],"","󾟭",["rocket"],29,12,15,0],"1f681":[["🚁"],"","",["helicopter"],29,13,15,0],"1f682":[["🚂"],"","",["steam_locomotive"],29,14,15,0],"1f683":[["🚃"],"","󾟟",["railway_car"],29,15,15,0],"1f684":[["🚄"],"","󾟢",["bullettrain_side"],29,16,15,0],"1f685":[["🚅"],"","󾟣",["bullettrain_front"],29,17,15,0],"1f686":[["🚆"],"","",["train2"],29,18,15,0],"1f687":[["🚇"],"","󾟠",["metro"],29,19,15,0],"1f688":[["🚈"],"","",["light_rail"],29,20,15,0],"1f689":[["🚉"],"","󾟬",["station"],29,21,15,0],"1f68a":[["🚊"],"","",["tram"],29,22,15,0],"1f68b":[["🚋"],"","",["train"],29,23,15,0],"1f68c":[["🚌"],"","󾟦",["bus"],29,24,15,0],"1f68d":[["🚍"],"","",["oncoming_bus"],29,25,15,0],"1f68e":[["🚎"],"","",["trolleybus"],29,26,15,0],"1f68f":[["🚏"],"","󾟧",["busstop"],29,27,15,0],"1f690":[["🚐"],"","",["minibus"],29,28,15,0],"1f691":[["🚑"],"","󾟳",["ambulance"],29,29,15,0],"1f692":[["🚒"],"","󾟲",["fire_engine"],29,30,15,0],"1f693":[["🚓"],"","󾟴",["police_car"],29,31,15,0],"1f694":[["🚔"],"","",["oncoming_police_car"],29,32,15,0],"1f695":[["🚕"],"","󾟯",["taxi"],29,33,15,0],"1f696":[["🚖"],"","",["oncoming_taxi"],29,34,15,0],"1f697":[["🚗"],"","󾟤",["car","red_car"],29,35,15,0],"1f698":[["🚘"],"","",["oncoming_automobile"],29,36,15,0],"1f699":[["🚙"],"","󾟥",["blue_car"],29,37,15,0],"1f69a":[["🚚"],"","󾟱",["truck"],29,38,15,0],"1f69b":[["🚛"],"","",["articulated_lorry"],29,39,15,0],"1f69c":[["🚜"],"","",["tractor"],29,40,15,0],"1f69d":[["🚝"],"","",["monorail"],30,0,15,0],"1f69e":[["🚞"],"","",["mountain_railway"],30,1,15,0],"1f69f":[["🚟"],"","",["suspension_railway"],30,2,15,0],"1f6a0":[["🚠"],"","",["mountain_cableway"],30,3,15,0],"1f6a1":[["🚡"],"","",["aerial_tramway"],30,4,15,0],"1f6a2":[["🚢"],"","󾟨",["ship"],30,5,15,0],"1f6a3":[["🚣"],"","",["rowboat"],30,6,15,0],"1f6a4":[["🚤"],"","󾟮",["speedboat"],30,12,15,0],"1f6a5":[["🚥"],"","󾟷",["traffic_light"],30,13,15,0],"1f6a6":[["🚦"],"","",["vertical_traffic_light"],30,14,15,0],"1f6a7":[["🚧"],"","󾟸",["construction"],30,15,15,0],"1f6a8":[["🚨"],"","󾟹",["rotating_light"],30,16,15,0],"1f6a9":[["🚩"],"","󾬢",["triangular_flag_on_post"],30,17,15,0],"1f6aa":[["🚪"],"","󾓳",["door"],30,18,15,0],"1f6ab":[["🚫"],"","󾭈",["no_entry_sign"],30,19,15,0],"1f6ac":[["🚬"],"","󾬞",["smoking"],30,20,15,0],"1f6ad":[["🚭"],"","󾬟",["no_smoking"],30,21,15,0],"1f6ae":[["🚮"],"","",["put_litter_in_its_place"],30,22,15,0],"1f6af":[["🚯"],"","",["do_not_litter"],30,23,15,0],"1f6b0":[["🚰"],"","",["potable_water"],30,24,15,0],"1f6b1":[["🚱"],"","",["non-potable_water"],30,25,15,0],"1f6b2":[["🚲"],"","󾟫",["bike"],30,26,15,0],"1f6b3":[["🚳"],"","",["no_bicycles"],30,27,15,0],"1f6b4":[["🚴"],"","",["bicyclist"],30,28,15,0],"1f6b5":[["🚵"],"","",["mountain_bicyclist"],30,34,15,0],"1f6b6":[["🚶"],"","󾟰",["walking"],30,40,15,0],"1f6b7":[["🚷"],"","",["no_pedestrians"],31,5,15,0],"1f6b8":[["🚸"],"","",["children_crossing"],31,6,15,0],"1f6b9":[["🚹"],"","󾬳",["mens"],31,7,15,0],"1f6ba":[["🚺"],"","󾬴",["womens"],31,8,15,0],"1f6bb":[["🚻"],"","󾔆",["restroom"],31,9,15,0],"1f6bc":[["🚼"],"","󾬵",["baby_symbol"],31,10,15,0],"1f6bd":[["🚽"],"","󾔇",["toilet"],31,11,15,0],"1f6be":[["🚾"],"","󾔈",["wc"],31,12,15,0],"1f6bf":[["🚿"],"","",["shower"],31,13,15,0],"1f6c0":[["🛀"],"","󾔅",["bath"],31,14,15,0],"1f6c1":[["🛁"],"","",["bathtub"],31,20,15,0],"1f6c2":[["🛂"],"","",["passport_control"],31,21,15,0],"1f6c3":[["🛃"],"","",["customs"],31,22,15,0],"1f6c4":[["🛄"],"","",["baggage_claim"],31,23,15,0],"1f6c5":[["🛅"],"","",["left_luggage"],31,24,15,0],"1f6cb":[["🛋"],"","",["couch_and_lamp"],31,25,15,0],"1f6cc":[["🛌"],"","",["sleeping_accommodation"],31,26,15,0],"1f6cd":[["🛍"],"","",["shopping_bags"],31,27,15,0],"1f6ce":[["🛎"],"","",["bellhop_bell"],31,28,15,0],"1f6cf":[["🛏"],"","",["bed"],31,29,15,0],"1f6d0":[["🛐"],"","",["place_of_worship"],31,30,15,0],"1f6e0":[["🛠"],"","",["hammer_and_wrench"],31,31,15,0],"1f6e1":[["🛡"],"","",["shield"],31,32,15,0],"1f6e2":[["🛢"],"","",["oil_drum"],31,33,15,0],"1f6e3":[["🛣"],"","",["motorway"],31,34,15,0],"1f6e4":[["🛤"],"","",["railway_track"],31,35,15,0],"1f6e5":[["🛥"],"","",["motor_boat"],31,36,15,0],"1f6e9":[["🛩"],"","",["small_airplane"],31,37,15,0],"1f6eb":[["🛫"],"","",["airplane_departure"],31,38,15,0],"1f6ec":[["🛬"],"","",["airplane_arriving"],31,39,15,0],"1f6f0":[["🛰"],"","",["satellite"],31,40,15,0],"1f6f3":[["🛳"],"","",["passenger_ship"],32,0,15,0],"1f910":[["🤐"],"","",["zipper_mouth_face"],32,1,15,0],"1f911":[["🤑"],"","",["money_mouth_face"],32,2,15,0],"1f912":[["🤒"],"","",["face_with_thermometer"],32,3,15,0],"1f913":[["🤓"],"","",["nerd_face"],32,4,15,0],"1f914":[["🤔"],"","",["thinking_face"],32,5,15,0],"1f915":[["🤕"],"","",["face_with_head_bandage"],32,6,15,0],"1f916":[["🤖"],"","",["robot_face"],32,7,15,0],"1f917":[["🤗"],"","",["hugging_face"],32,8,15,0],"1f918":[["🤘"],"","",["the_horns","sign_of_the_horns"],32,9,15,0],"1f980":[["🦀"],"","",["crab"],32,15,15,0],"1f981":[["🦁"],"","",["lion_face"],32,16,15,0],"1f982":[["🦂"],"","",["scorpion"],32,17,15,0],"1f983":[["🦃"],"","",["turkey"],32,18,15,0],"1f984":[["🦄"],"","",["unicorn_face"],32,19,15,0],"1f9c0":[["🧀"],"","",["cheese_wedge"],32,20,15,0],"0023-20e3":[["#️⃣","#⃣"],"","󾠬",["hash"],32,21,15,0],"002a-20e3":[["*⃣"],"","",["keycap_star"],32,22,15,0],"0030-20e3":[["0️⃣","0⃣"],"","󾠷",["zero"],32,23,15,0],"0031-20e3":[["1️⃣","1⃣"],"","󾠮",["one"],32,24,15,0],"0032-20e3":[["2️⃣","2⃣"],"","󾠯",["two"],32,25,15,0],"0033-20e3":[["3️⃣","3⃣"],"","󾠰",["three"],32,26,15,0],"0034-20e3":[["4️⃣","4⃣"],"","󾠱",["four"],32,27,15,0],"0035-20e3":[["5️⃣","5⃣"],"","󾠲",["five"],32,28,15,0],"0036-20e3":[["6️⃣","6⃣"],"","󾠳",["six"],32,29,15,0],"0037-20e3":[["7️⃣","7⃣"],"","󾠴",["seven"],32,30,15,0],"0038-20e3":[["8️⃣","8⃣"],"","󾠵",["eight"],32,31,15,0],"0039-20e3":[["9️⃣","9⃣"],"","󾠶",["nine"],32,32,15,0],"1f1e6-1f1e8":[["🇦🇨"],"","",["flag-ac"],32,33,15,0],"1f1e6-1f1e9":[["🇦🇩"],"","",["flag-ad"],32,34,15,0],"1f1e6-1f1ea":[["🇦🇪"],"","",["flag-ae"],32,35,15,0],"1f1e6-1f1eb":[["🇦🇫"],"","",["flag-af"],32,36,15,0],"1f1e6-1f1ec":[["🇦🇬"],"","",["flag-ag"],32,37,15,0],"1f1e6-1f1ee":[["🇦🇮"],"","",["flag-ai"],32,38,15,0],"1f1e6-1f1f1":[["🇦🇱"],"","",["flag-al"],32,39,15,0],"1f1e6-1f1f2":[["🇦🇲"],"","",["flag-am"],32,40,15,0],"1f1e6-1f1f4":[["🇦🇴"],"","",["flag-ao"],33,0,15,0],"1f1e6-1f1f6":[["🇦🇶"],"","",["flag-aq"],33,1,15,0],"1f1e6-1f1f7":[["🇦🇷"],"","",["flag-ar"],33,2,15,0],"1f1e6-1f1f8":[["🇦🇸"],"","",["flag-as"],33,3,15,0],"1f1e6-1f1f9":[["🇦🇹"],"","",["flag-at"],33,4,15,0],"1f1e6-1f1fa":[["🇦🇺"],"","",["flag-au"],33,5,15,0],"1f1e6-1f1fc":[["🇦🇼"],"","",["flag-aw"],33,6,15,0],"1f1e6-1f1fd":[["🇦🇽"],"","",["flag-ax"],33,7,15,0],"1f1e6-1f1ff":[["🇦🇿"],"","",["flag-az"],33,8,15,0],"1f1e7-1f1e6":[["🇧🇦"],"","",["flag-ba"],33,9,15,0],"1f1e7-1f1e7":[["🇧🇧"],"","",["flag-bb"],33,10,15,0],"1f1e7-1f1e9":[["🇧🇩"],"","",["flag-bd"],33,11,15,0],"1f1e7-1f1ea":[["🇧🇪"],"","",["flag-be"],33,12,15,0],"1f1e7-1f1eb":[["🇧🇫"],"","",["flag-bf"],33,13,15,0],"1f1e7-1f1ec":[["🇧🇬"],"","",["flag-bg"],33,14,15,0],"1f1e7-1f1ed":[["🇧🇭"],"","",["flag-bh"],33,15,15,0],"1f1e7-1f1ee":[["🇧🇮"],"","",["flag-bi"],33,16,15,0],"1f1e7-1f1ef":[["🇧🇯"],"","",["flag-bj"],33,17,15,0],"1f1e7-1f1f1":[["🇧🇱"],"","",["flag-bl"],33,18,13,0],"1f1e7-1f1f2":[["🇧🇲"],"","",["flag-bm"],33,19,15,0],"1f1e7-1f1f3":[["🇧🇳"],"","",["flag-bn"],33,20,15,0],"1f1e7-1f1f4":[["🇧🇴"],"","",["flag-bo"],33,21,15,0],"1f1e7-1f1f6":[["🇧🇶"],"","",["flag-bq"],33,22,13,0],"1f1e7-1f1f7":[["🇧🇷"],"","",["flag-br"],33,23,15,0],"1f1e7-1f1f8":[["🇧🇸"],"","",["flag-bs"],33,24,15,0],"1f1e7-1f1f9":[["🇧🇹"],"","",["flag-bt"],33,25,15,0],"1f1e7-1f1fb":[["🇧🇻"],"","",["flag-bv"],33,26,13,0],"1f1e7-1f1fc":[["🇧🇼"],"","",["flag-bw"],33,27,15,0],"1f1e7-1f1fe":[["🇧🇾"],"","",["flag-by"],33,28,15,0],"1f1e7-1f1ff":[["🇧🇿"],"","",["flag-bz"],33,29,15,0],"1f1e8-1f1e6":[["🇨🇦"],"","",["flag-ca"],33,30,15,0],"1f1e8-1f1e8":[["🇨🇨"],"","",["flag-cc"],33,31,15,0],"1f1e8-1f1e9":[["🇨🇩"],"","",["flag-cd"],33,32,15,0],"1f1e8-1f1eb":[["🇨🇫"],"","",["flag-cf"],33,33,15,0],"1f1e8-1f1ec":[["🇨🇬"],"","",["flag-cg"],33,34,15,0],"1f1e8-1f1ed":[["🇨🇭"],"","",["flag-ch"],33,35,15,0],"1f1e8-1f1ee":[["🇨🇮"],"","",["flag-ci"],33,36,15,0],"1f1e8-1f1f0":[["🇨🇰"],"","",["flag-ck"],33,37,15,0],"1f1e8-1f1f1":[["🇨🇱"],"","",["flag-cl"],33,38,15,0],"1f1e8-1f1f2":[["🇨🇲"],"","",["flag-cm"],33,39,15,0],"1f1e8-1f1f3":[["🇨🇳"],"","󾓭",["flag-cn","cn"],33,40,15,0],"1f1e8-1f1f4":[["🇨🇴"],"","",["flag-co"],34,0,15,0],"1f1e8-1f1f5":[["🇨🇵"],"","",["flag-cp"],34,1,13,0],"1f1e8-1f1f7":[["🇨🇷"],"","",["flag-cr"],34,2,15,0],"1f1e8-1f1fa":[["🇨🇺"],"","",["flag-cu"],34,3,15,0],"1f1e8-1f1fb":[["🇨🇻"],"","",["flag-cv"],34,4,15,0],"1f1e8-1f1fc":[["🇨🇼"],"","",["flag-cw"],34,5,15,0],"1f1e8-1f1fd":[["🇨🇽"],"","",["flag-cx"],34,6,15,0],"1f1e8-1f1fe":[["🇨🇾"],"","",["flag-cy"],34,7,15,0],"1f1e8-1f1ff":[["🇨🇿"],"","",["flag-cz"],34,8,15,0],"1f1e9-1f1ea":[["🇩🇪"],"","󾓨",["flag-de","de"],34,9,15,0],"1f1e9-1f1ec":[["🇩🇬"],"","",["flag-dg"],34,10,13,0],"1f1e9-1f1ef":[["🇩🇯"],"","",["flag-dj"],34,11,15,0],"1f1e9-1f1f0":[["🇩🇰"],"","",["flag-dk"],34,12,15,0],"1f1e9-1f1f2":[["🇩🇲"],"","",["flag-dm"],34,13,15,0],"1f1e9-1f1f4":[["🇩🇴"],"","",["flag-do"],34,14,15,0],"1f1e9-1f1ff":[["🇩🇿"],"","",["flag-dz"],34,15,15,0],"1f1ea-1f1e6":[["🇪🇦"],"","",["flag-ea"],34,16,13,0],"1f1ea-1f1e8":[["🇪🇨"],"","",["flag-ec"],34,17,15,0],"1f1ea-1f1ea":[["🇪🇪"],"","",["flag-ee"],34,18,15,0],"1f1ea-1f1ec":[["🇪🇬"],"","",["flag-eg"],34,19,15,0],"1f1ea-1f1ed":[["🇪🇭"],"","",["flag-eh"],34,20,13,0],"1f1ea-1f1f7":[["🇪🇷"],"","",["flag-er"],34,21,15,0],"1f1ea-1f1f8":[["🇪🇸"],"","󾓫",["flag-es","es"],34,22,15,0],"1f1ea-1f1f9":[["🇪🇹"],"","",["flag-et"],34,23,15,0],"1f1ea-1f1fa":[["🇪🇺"],"","",["flag-eu"],34,24,15,0],"1f1eb-1f1ee":[["🇫🇮"],"","",["flag-fi"],34,25,15,0],"1f1eb-1f1ef":[["🇫🇯"],"","",["flag-fj"],34,26,15,0],"1f1eb-1f1f0":[["🇫🇰"],"","",["flag-fk"],34,27,13,0],"1f1eb-1f1f2":[["🇫🇲"],"","",["flag-fm"],34,28,15,0],"1f1eb-1f1f4":[["🇫🇴"],"","",["flag-fo"],34,29,15,0],"1f1eb-1f1f7":[["🇫🇷"],"","󾓧",["flag-fr","fr"],34,30,15,0],"1f1ec-1f1e6":[["🇬🇦"],"","",["flag-ga"],34,31,15,0],"1f1ec-1f1e7":[["🇬🇧"],"","󾓪",["flag-gb","gb","uk"],34,32,15,0],"1f1ec-1f1e9":[["🇬🇩"],"","",["flag-gd"],34,33,15,0],"1f1ec-1f1ea":[["🇬🇪"],"","",["flag-ge"],34,34,15,0],"1f1ec-1f1eb":[["🇬🇫"],"","",["flag-gf"],34,35,13,0],"1f1ec-1f1ec":[["🇬🇬"],"","",["flag-gg"],34,36,15,0],"1f1ec-1f1ed":[["🇬🇭"],"","",["flag-gh"],34,37,15,0],"1f1ec-1f1ee":[["🇬🇮"],"","",["flag-gi"],34,38,15,0],"1f1ec-1f1f1":[["🇬🇱"],"","",["flag-gl"],34,39,15,0],"1f1ec-1f1f2":[["🇬🇲"],"","",["flag-gm"],34,40,15,0],"1f1ec-1f1f3":[["🇬🇳"],"","",["flag-gn"],35,0,15,0],"1f1ec-1f1f5":[["🇬🇵"],"","",["flag-gp"],35,1,13,0],"1f1ec-1f1f6":[["🇬🇶"],"","",["flag-gq"],35,2,15,0],"1f1ec-1f1f7":[["🇬🇷"],"","",["flag-gr"],35,3,15,0],"1f1ec-1f1f8":[["🇬🇸"],"","",["flag-gs"],35,4,13,0],"1f1ec-1f1f9":[["🇬🇹"],"","",["flag-gt"],35,5,15,0],"1f1ec-1f1fa":[["🇬🇺"],"","",["flag-gu"],35,6,15,0],"1f1ec-1f1fc":[["🇬🇼"],"","",["flag-gw"],35,7,15,0],"1f1ec-1f1fe":[["🇬🇾"],"","",["flag-gy"],35,8,15,0],"1f1ed-1f1f0":[["🇭🇰"],"","",["flag-hk"],35,9,15,0],"1f1ed-1f1f2":[["🇭🇲"],"","",["flag-hm"],35,10,13,0],"1f1ed-1f1f3":[["🇭🇳"],"","",["flag-hn"],35,11,15,0],"1f1ed-1f1f7":[["🇭🇷"],"","",["flag-hr"],35,12,15,0],"1f1ed-1f1f9":[["🇭🇹"],"","",["flag-ht"],35,13,15,0],"1f1ed-1f1fa":[["🇭🇺"],"","",["flag-hu"],35,14,15,0],"1f1ee-1f1e8":[["🇮🇨"],"","",["flag-ic"],35,15,15,0],"1f1ee-1f1e9":[["🇮🇩"],"","",["flag-id"],35,16,15,0],"1f1ee-1f1ea":[["🇮🇪"],"","",["flag-ie"],35,17,15,0],"1f1ee-1f1f1":[["🇮🇱"],"","",["flag-il"],35,18,15,0],"1f1ee-1f1f2":[["🇮🇲"],"","",["flag-im"],35,19,15,0],"1f1ee-1f1f3":[["🇮🇳"],"","",["flag-in"],35,20,15,0],"1f1ee-1f1f4":[["🇮🇴"],"","",["flag-io"],35,21,15,0],"1f1ee-1f1f6":[["🇮🇶"],"","",["flag-iq"],35,22,15,0],"1f1ee-1f1f7":[["🇮🇷"],"","",["flag-ir"],35,23,15,0],"1f1ee-1f1f8":[["🇮🇸"],"","",["flag-is"],35,24,15,0],"1f1ee-1f1f9":[["🇮🇹"],"","󾓩",["flag-it","it"],35,25,15,0],"1f1ef-1f1ea":[["🇯🇪"],"","",["flag-je"],35,26,15,0],"1f1ef-1f1f2":[["🇯🇲"],"","",["flag-jm"],35,27,15,0],"1f1ef-1f1f4":[["🇯🇴"],"","",["flag-jo"],35,28,15,0],"1f1ef-1f1f5":[["🇯🇵"],"","󾓥",["flag-jp","jp"],35,29,15,0],"1f1f0-1f1ea":[["🇰🇪"],"","",["flag-ke"],35,30,15,0],"1f1f0-1f1ec":[["🇰🇬"],"","",["flag-kg"],35,31,15,0],"1f1f0-1f1ed":[["🇰🇭"],"","",["flag-kh"],35,32,15,0],"1f1f0-1f1ee":[["🇰🇮"],"","",["flag-ki"],35,33,15,0],"1f1f0-1f1f2":[["🇰🇲"],"","",["flag-km"],35,34,15,0],"1f1f0-1f1f3":[["🇰🇳"],"","",["flag-kn"],35,35,15,0],"1f1f0-1f1f5":[["🇰🇵"],"","",["flag-kp"],35,36,15,0],"1f1f0-1f1f7":[["🇰🇷"],"","󾓮",["flag-kr","kr"],35,37,15,0],"1f1f0-1f1fc":[["🇰🇼"],"","",["flag-kw"],35,38,15,0],"1f1f0-1f1fe":[["🇰🇾"],"","",["flag-ky"],35,39,15,0],"1f1f0-1f1ff":[["🇰🇿"],"","",["flag-kz"],35,40,15,0],"1f1f1-1f1e6":[["🇱🇦"],"","",["flag-la"],36,0,15,0],"1f1f1-1f1e7":[["🇱🇧"],"","",["flag-lb"],36,1,15,0],"1f1f1-1f1e8":[["🇱🇨"],"","",["flag-lc"],36,2,15,0],"1f1f1-1f1ee":[["🇱🇮"],"","",["flag-li"],36,3,15,0],"1f1f1-1f1f0":[["🇱🇰"],"","",["flag-lk"],36,4,15,0],"1f1f1-1f1f7":[["🇱🇷"],"","",["flag-lr"],36,5,15,0],"1f1f1-1f1f8":[["🇱🇸"],"","",["flag-ls"],36,6,15,0],"1f1f1-1f1f9":[["🇱🇹"],"","",["flag-lt"],36,7,15,0],"1f1f1-1f1fa":[["🇱🇺"],"","",["flag-lu"],36,8,15,0],"1f1f1-1f1fb":[["🇱🇻"],"","",["flag-lv"],36,9,15,0],"1f1f1-1f1fe":[["🇱🇾"],"","",["flag-ly"],36,10,15,0],"1f1f2-1f1e6":[["🇲🇦"],"","",["flag-ma"],36,11,15,0],"1f1f2-1f1e8":[["🇲🇨"],"","",["flag-mc"],36,12,15,0],"1f1f2-1f1e9":[["🇲🇩"],"","",["flag-md"],36,13,15,0],"1f1f2-1f1ea":[["🇲🇪"],"","",["flag-me"],36,14,15,0],"1f1f2-1f1eb":[["🇲🇫"],"","",["flag-mf"],36,15,13,0],"1f1f2-1f1ec":[["🇲🇬"],"","",["flag-mg"],36,16,15,0],"1f1f2-1f1ed":[["🇲🇭"],"","",["flag-mh"],36,17,15,0],"1f1f2-1f1f0":[["🇲🇰"],"","",["flag-mk"],36,18,15,0],"1f1f2-1f1f1":[["🇲🇱"],"","",["flag-ml"],36,19,15,0],"1f1f2-1f1f2":[["🇲🇲"],"","",["flag-mm"],36,20,15,0],"1f1f2-1f1f3":[["🇲🇳"],"","",["flag-mn"],36,21,15,0],"1f1f2-1f1f4":[["🇲🇴"],"","",["flag-mo"],36,22,15,0],"1f1f2-1f1f5":[["🇲🇵"],"","",["flag-mp"],36,23,15,0],"1f1f2-1f1f6":[["🇲🇶"],"","",["flag-mq"],36,24,13,0],"1f1f2-1f1f7":[["🇲🇷"],"","",["flag-mr"],36,25,15,0],"1f1f2-1f1f8":[["🇲🇸"],"","",["flag-ms"],36,26,15,0],"1f1f2-1f1f9":[["🇲🇹"],"","",["flag-mt"],36,27,15,0],"1f1f2-1f1fa":[["🇲🇺"],"","",["flag-mu"],36,28,15,0],"1f1f2-1f1fb":[["🇲🇻"],"","",["flag-mv"],36,29,15,0],"1f1f2-1f1fc":[["🇲🇼"],"","",["flag-mw"],36,30,15,0],"1f1f2-1f1fd":[["🇲🇽"],"","",["flag-mx"],36,31,15,0],"1f1f2-1f1fe":[["🇲🇾"],"","",["flag-my"],36,32,15,0],"1f1f2-1f1ff":[["🇲🇿"],"","",["flag-mz"],36,33,15,0],"1f1f3-1f1e6":[["🇳🇦"],"","",["flag-na"],36,34,15,0],"1f1f3-1f1e8":[["🇳🇨"],"","",["flag-nc"],36,35,13,0],"1f1f3-1f1ea":[["🇳🇪"],"","",["flag-ne"],36,36,15,0],"1f1f3-1f1eb":[["🇳🇫"],"","",["flag-nf"],36,37,15,0],"1f1f3-1f1ec":[["🇳🇬"],"","",["flag-ng"],36,38,15,0],"1f1f3-1f1ee":[["🇳🇮"],"","",["flag-ni"],36,39,15,0],"1f1f3-1f1f1":[["🇳🇱"],"","",["flag-nl"],36,40,15,0],"1f1f3-1f1f4":[["🇳🇴"],"","",["flag-no"],37,0,15,0],"1f1f3-1f1f5":[["🇳🇵"],"","",["flag-np"],37,1,15,0],"1f1f3-1f1f7":[["🇳🇷"],"","",["flag-nr"],37,2,15,0],"1f1f3-1f1fa":[["🇳🇺"],"","",["flag-nu"],37,3,15,0],"1f1f3-1f1ff":[["🇳🇿"],"","",["flag-nz"],37,4,15,0],"1f1f4-1f1f2":[["🇴🇲"],"","",["flag-om"],37,5,15,0],"1f1f5-1f1e6":[["🇵🇦"],"","",["flag-pa"],37,6,15,0],"1f1f5-1f1ea":[["🇵🇪"],"","",["flag-pe"],37,7,15,0],"1f1f5-1f1eb":[["🇵🇫"],"","",["flag-pf"],37,8,15,0],"1f1f5-1f1ec":[["🇵🇬"],"","",["flag-pg"],37,9,15,0],"1f1f5-1f1ed":[["🇵🇭"],"","",["flag-ph"],37,10,15,0],"1f1f5-1f1f0":[["🇵🇰"],"","",["flag-pk"],37,11,15,0],"1f1f5-1f1f1":[["🇵🇱"],"","",["flag-pl"],37,12,15,0],"1f1f5-1f1f2":[["🇵🇲"],"","",["flag-pm"],37,13,13,0],"1f1f5-1f1f3":[["🇵🇳"],"","",["flag-pn"],37,14,15,0],"1f1f5-1f1f7":[["🇵🇷"],"","",["flag-pr"],37,15,15,0],"1f1f5-1f1f8":[["🇵🇸"],"","",["flag-ps"],37,16,15,0],"1f1f5-1f1f9":[["🇵🇹"],"","",["flag-pt"],37,17,15,0],"1f1f5-1f1fc":[["🇵🇼"],"","",["flag-pw"],37,18,15,0],"1f1f5-1f1fe":[["🇵🇾"],"","",["flag-py"],37,19,15,0],"1f1f6-1f1e6":[["🇶🇦"],"","",["flag-qa"],37,20,15,0],"1f1f7-1f1ea":[["🇷🇪"],"","",["flag-re"],37,21,13,0],"1f1f7-1f1f4":[["🇷🇴"],"","",["flag-ro"],37,22,15,0],"1f1f7-1f1f8":[["🇷🇸"],"","",["flag-rs"],37,23,15,0],"1f1f7-1f1fa":[["🇷🇺"],"","󾓬",["flag-ru","ru"],37,24,15,0],"1f1f7-1f1fc":[["🇷🇼"],"","",["flag-rw"],37,25,15,0],"1f1f8-1f1e6":[["🇸🇦"],"","",["flag-sa"],37,26,15,0],"1f1f8-1f1e7":[["🇸🇧"],"","",["flag-sb"],37,27,15,0],"1f1f8-1f1e8":[["🇸🇨"],"","",["flag-sc"],37,28,15,0],"1f1f8-1f1e9":[["🇸🇩"],"","",["flag-sd"],37,29,15,0],"1f1f8-1f1ea":[["🇸🇪"],"","",["flag-se"],37,30,15,0],"1f1f8-1f1ec":[["🇸🇬"],"","",["flag-sg"],37,31,15,0],"1f1f8-1f1ed":[["🇸🇭"],"","",["flag-sh"],37,32,15,0],"1f1f8-1f1ee":[["🇸🇮"],"","",["flag-si"],37,33,15,0],"1f1f8-1f1ef":[["🇸🇯"],"","",["flag-sj"],37,34,13,0],"1f1f8-1f1f0":[["🇸🇰"],"","",["flag-sk"],37,35,15,0],"1f1f8-1f1f1":[["🇸🇱"],"","",["flag-sl"],37,36,15,0],"1f1f8-1f1f2":[["🇸🇲"],"","",["flag-sm"],37,37,15,0],"1f1f8-1f1f3":[["🇸🇳"],"","",["flag-sn"],37,38,15,0],"1f1f8-1f1f4":[["🇸🇴"],"","",["flag-so"],37,39,15,0],"1f1f8-1f1f7":[["🇸🇷"],"","",["flag-sr"],37,40,15,0],"1f1f8-1f1f8":[["🇸🇸"],"","",["flag-ss"],38,0,15,0],"1f1f8-1f1f9":[["🇸🇹"],"","",["flag-st"],38,1,15,0],"1f1f8-1f1fb":[["🇸🇻"],"","",["flag-sv"],38,2,15,0],"1f1f8-1f1fd":[["🇸🇽"],"","",["flag-sx"],38,3,15,0],"1f1f8-1f1fe":[["🇸🇾"],"","",["flag-sy"],38,4,15,0],"1f1f8-1f1ff":[["🇸🇿"],"","",["flag-sz"],38,5,15,0],"1f1f9-1f1e6":[["🇹🇦"],"","",["flag-ta"],38,6,15,0],"1f1f9-1f1e8":[["🇹🇨"],"","",["flag-tc"],38,7,15,0],"1f1f9-1f1e9":[["🇹🇩"],"","",["flag-td"],38,8,15,0],"1f1f9-1f1eb":[["🇹🇫"],"","",["flag-tf"],38,9,13,0],"1f1f9-1f1ec":[["🇹🇬"],"","",["flag-tg"],38,10,15,0],"1f1f9-1f1ed":[["🇹🇭"],"","",["flag-th"],38,11,15,0],"1f1f9-1f1ef":[["🇹🇯"],"","",["flag-tj"],38,12,15,0],"1f1f9-1f1f0":[["🇹🇰"],"","",["flag-tk"],38,13,15,0],"1f1f9-1f1f1":[["🇹🇱"],"","",["flag-tl"],38,14,15,0],"1f1f9-1f1f2":[["🇹🇲"],"","",["flag-tm"],38,15,15,0],"1f1f9-1f1f3":[["🇹🇳"],"","",["flag-tn"],38,16,15,0],"1f1f9-1f1f4":[["🇹🇴"],"","",["flag-to"],38,17,15,0],"1f1f9-1f1f7":[["🇹🇷"],"","",["flag-tr"],38,18,15,0],"1f1f9-1f1f9":[["🇹🇹"],"","",["flag-tt"],38,19,15,0],"1f1f9-1f1fb":[["🇹🇻"],"","",["flag-tv"],38,20,15,0],"1f1f9-1f1fc":[["🇹🇼"],"","",["flag-tw"],38,21,15,0],"1f1f9-1f1ff":[["🇹🇿"],"","",["flag-tz"],38,22,15,0],"1f1fa-1f1e6":[["🇺🇦"],"","",["flag-ua"],38,23,15,0],"1f1fa-1f1ec":[["🇺🇬"],"","",["flag-ug"],38,24,15,0],"1f1fa-1f1f2":[["🇺🇲"],"","",["flag-um"],38,25,13,0],"1f1fa-1f1f8":[["🇺🇸"],"","󾓦",["flag-us","us"],38,26,15,0],"1f1fa-1f1fe":[["🇺🇾"],"","",["flag-uy"],38,27,15,0],"1f1fa-1f1ff":[["🇺🇿"],"","",["flag-uz"],38,28,15,0],"1f1fb-1f1e6":[["🇻🇦"],"","",["flag-va"],38,29,15,0],"1f1fb-1f1e8":[["🇻🇨"],"","",["flag-vc"],38,30,15,0],"1f1fb-1f1ea":[["🇻🇪"],"","",["flag-ve"],38,31,15,0],"1f1fb-1f1ec":[["🇻🇬"],"","",["flag-vg"],38,32,15,0],"1f1fb-1f1ee":[["🇻🇮"],"","",["flag-vi"],38,33,15,0],"1f1fb-1f1f3":[["🇻🇳"],"","",["flag-vn"],38,34,15,0],"1f1fb-1f1fa":[["🇻🇺"],"","",["flag-vu"],38,35,15,0],"1f1fc-1f1eb":[["🇼🇫"],"","",["flag-wf"],38,36,13,0],"1f1fc-1f1f8":[["🇼🇸"],"","",["flag-ws"],38,37,15,0],"1f1fd-1f1f0":[["🇽🇰"],"","",["flag-xk"],38,38,13,0],"1f1fe-1f1ea":[["🇾🇪"],"","",["flag-ye"],38,39,15,0],"1f1fe-1f1f9":[["🇾🇹"],"","",["flag-yt"],38,40,13,0],"1f1ff-1f1e6":[["🇿🇦"],"","",["flag-za"],39,0,15,0],"1f1ff-1f1f2":[["🇿🇲"],"","",["flag-zm"],39,1,15,0],"1f1ff-1f1fc":[["🇿🇼"],"","",["flag-zw"],39,2,15,0],"1f468-200d-1f468-200d-1f466":[["👨‍👨‍👦"],"","",["man-man-boy"],39,3,15,0],"1f468-200d-1f468-200d-1f466-200d-1f466":[["👨‍👨‍👦‍👦"],"","",["man-man-boy-boy"],39,4,15,0],"1f468-200d-1f468-200d-1f467":[["👨‍👨‍👧"],"","",["man-man-girl"],39,5,15,0],"1f468-200d-1f468-200d-1f467-200d-1f466":[["👨‍👨‍👧‍👦"],"","",["man-man-girl-boy"],39,6,15,0],"1f468-200d-1f468-200d-1f467-200d-1f467":[["👨‍👨‍👧‍👧"],"","",["man-man-girl-girl"],39,7,15,0],"1f468-200d-1f469-200d-1f466-200d-1f466":[["👨‍👩‍👦‍👦"],"","",["man-woman-boy-boy"],39,8,15,0],"1f468-200d-1f469-200d-1f467":[["👨‍👩‍👧"],"","",["man-woman-girl"],39,9,15,0],"1f468-200d-1f469-200d-1f467-200d-1f466":[["👨‍👩‍👧‍👦"],"","",["man-woman-girl-boy"],39,10,15,0],"1f468-200d-1f469-200d-1f467-200d-1f467":[["👨‍👩‍👧‍👧"],"","",["man-woman-girl-girl"],39,11,15,0],"1f468-200d-2764-fe0f-200d-1f468":[["👨‍❤️‍👨"],"","",["man-heart-man"],39,12,7,0],"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468":[["👨‍❤️‍💋‍👨"],"","",["man-kiss-man"],39,13,7,0],"1f469-200d-1f469-200d-1f466":[["👩‍👩‍👦"],"","",["woman-woman-boy"],39,14,15,0],"1f469-200d-1f469-200d-1f466-200d-1f466":[["👩‍👩‍👦‍👦"],"","",["woman-woman-boy-boy"],39,15,15,0],"1f469-200d-1f469-200d-1f467":[["👩‍👩‍👧"],"","",["woman-woman-girl"],39,16,15,0],"1f469-200d-1f469-200d-1f467-200d-1f466":[["👩‍👩‍👧‍👦"],"","",["woman-woman-girl-boy"],39,17,15,0],"1f469-200d-1f469-200d-1f467-200d-1f467":[["👩‍👩‍👧‍👧"],"","",["woman-woman-girl-girl"],39,18,15,0],"1f469-200d-2764-fe0f-200d-1f469":[["👩‍❤️‍👩"],"","",["woman-heart-woman"],39,19,7,0],"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469":[["👩‍❤️‍💋‍👩"],"","",["woman-kiss-woman"],39,20,7,0]},e.prototype.emoticons_data={"<3":"heart",":o)":"monkey_face",":*":"kiss",":-*":"kiss","</3":"broken_heart","=)":"smiley","=-)":"smiley","C:":"smile","c:":"smile",":D":"smile",":-D":"smile",":>":"laughing",":->":"laughing",";)":"wink",";-)":"wink","8)":"sunglasses",":|":"neutral_face",":-|":"neutral_face",":\\":"confused",":-\\":"confused",":/":"confused",":-/":"confused",":p":"stuck_out_tongue",":-p":"stuck_out_tongue",":P":"stuck_out_tongue",":-P":"stuck_out_tongue",":b":"stuck_out_tongue",":-b":"stuck_out_tongue",";p":"stuck_out_tongue_winking_eye",";-p":"stuck_out_tongue_winking_eye",";b":"stuck_out_tongue_winking_eye",";-b":"stuck_out_tongue_winking_eye",";P":"stuck_out_tongue_winking_eye",";-P":"stuck_out_tongue_winking_eye","):":"disappointed",":(":"disappointed",":-(":"disappointed",">:(":"angry",">:-(":"angry",":'(":"cry","D:":"anguished",":o":"open_mouth",":-o":"open_mouth",":O":"open_mouth",":-O":"open_mouth",":)":"slightly_smiling_face","(:":"slightly_smiling_face",":-)":"slightly_smiling_face"},e.prototype.variations_data={"261d-1f3fb":[1,11,15],"261d-1f3fc":[1,12,15],"261d-1f3fd":[1,13,15],"261d-1f3fe":[1,14,15],"261d-1f3ff":[1,15,15],"26f9-1f3fb":[2,39,15],"26f9-1f3fc":[2,40,15],"26f9-1f3fd":[3,0,15],"26f9-1f3fe":[3,1,15],"26f9-1f3ff":[3,2,15],"270a-1f3fb":[3,10,15],"270a-1f3fc":[3,11,15],"270a-1f3fd":[3,12,15],"270a-1f3fe":[3,13,15],"270a-1f3ff":[3,14,15],"270b-1f3fb":[3,16,15],"270b-1f3fc":[3,17,15],"270b-1f3fd":[3,18,15],"270b-1f3fe":[3,19,15],"270b-1f3ff":[3,20,15],"270c-1f3fb":[3,22,15],"270c-1f3fc":[3,23,15],"270c-1f3fd":[3,24,15],"270c-1f3fe":[3,25,15],"270c-1f3ff":[3,26,15],"270d-1f3fb":[3,28,15],"270d-1f3fc":[3,29,15],"270d-1f3fd":[3,30,15],"270d-1f3fe":[3,31,15],"270d-1f3ff":[3,32,15],"1f385-1f3fb":[8,30,15],"1f385-1f3fc":[8,31,15],"1f385-1f3fd":[8,32,15],"1f385-1f3fe":[8,33,15],"1f385-1f3ff":[8,34,15],"1f3c3-1f3fb":[10,10,15],"1f3c3-1f3fc":[10,11,15],"1f3c3-1f3fd":[10,12,15],"1f3c3-1f3fe":[10,13,15],"1f3c3-1f3ff":[10,14,15],"1f3c4-1f3fb":[10,16,15],"1f3c4-1f3fc":[10,17,15],"1f3c4-1f3fd":[10,18,15],"1f3c4-1f3fe":[10,19,15],"1f3c4-1f3ff":[10,20,15],"1f3ca-1f3fb":[10,27,15],"1f3ca-1f3fc":[10,28,15],"1f3ca-1f3fd":[10,29,15],"1f3ca-1f3fe":[10,30,15],"1f3ca-1f3ff":[10,31,15],"1f3cb-1f3fb":[10,33,15],"1f3cb-1f3fc":[10,34,15],"1f3cb-1f3fd":[10,35,15],"1f3cb-1f3fe":[10,36,15],"1f3cb-1f3ff":[10,37,15],"1f442-1f3fb":[13,31,15],"1f442-1f3fc":[13,32,15],"1f442-1f3fd":[13,33,15],"1f442-1f3fe":[13,34,15],"1f442-1f3ff":[13,35,15],"1f443-1f3fb":[13,37,15],"1f443-1f3fc":[13,38,15],"1f443-1f3fd":[13,39,15],"1f443-1f3fe":[13,40,15],"1f443-1f3ff":[14,0,15],"1f446-1f3fb":[14,4,15],"1f446-1f3fc":[14,5,15],"1f446-1f3fd":[14,6,15],"1f446-1f3fe":[14,7,15],"1f446-1f3ff":[14,8,15],"1f447-1f3fb":[14,10,15],"1f447-1f3fc":[14,11,15],"1f447-1f3fd":[14,12,15],"1f447-1f3fe":[14,13,15],"1f447-1f3ff":[14,14,15],"1f448-1f3fb":[14,16,15],"1f448-1f3fc":[14,17,15],"1f448-1f3fd":[14,18,15],"1f448-1f3fe":[14,19,15],"1f448-1f3ff":[14,20,15],"1f449-1f3fb":[14,22,15],"1f449-1f3fc":[14,23,15],"1f449-1f3fd":[14,24,15],"1f449-1f3fe":[14,25,15],"1f449-1f3ff":[14,26,15],"1f44a-1f3fb":[14,28,15],"1f44a-1f3fc":[14,29,15],"1f44a-1f3fd":[14,30,15],"1f44a-1f3fe":[14,31,15],"1f44a-1f3ff":[14,32,15],"1f44b-1f3fb":[14,34,15],"1f44b-1f3fc":[14,35,15],"1f44b-1f3fd":[14,36,15],"1f44b-1f3fe":[14,37,15],"1f44b-1f3ff":[14,38,15],"1f44c-1f3fb":[14,40,15],"1f44c-1f3fc":[15,0,15],"1f44c-1f3fd":[15,1,15],"1f44c-1f3fe":[15,2,15],"1f44c-1f3ff":[15,3,15],"1f44d-1f3fb":[15,5,15],"1f44d-1f3fc":[15,6,15],"1f44d-1f3fd":[15,7,15],"1f44d-1f3fe":[15,8,15],"1f44d-1f3ff":[15,9,15],"1f44e-1f3fb":[15,11,15],"1f44e-1f3fc":[15,12,15],"1f44e-1f3fd":[15,13,15],"1f44e-1f3fe":[15,14,15],"1f44e-1f3ff":[15,15,15],"1f44f-1f3fb":[15,17,15],"1f44f-1f3fc":[15,18,15],"1f44f-1f3fd":[15,19,15],"1f44f-1f3fe":[15,20,15],"1f44f-1f3ff":[15,21,15],"1f450-1f3fb":[15,23,15],"1f450-1f3fc":[15,24,15],"1f450-1f3fd":[15,25,15],"1f450-1f3fe":[15,26,15],"1f450-1f3ff":[15,27,15],"1f466-1f3fb":[16,9,15],"1f466-1f3fc":[16,10,15],"1f466-1f3fd":[16,11,15],"1f466-1f3fe":[16,12,15],"1f466-1f3ff":[16,13,15],"1f467-1f3fb":[16,15,15],"1f467-1f3fc":[16,16,15],"1f467-1f3fd":[16,17,15],"1f467-1f3fe":[16,18,15],"1f467-1f3ff":[16,19,15],"1f468-1f3fb":[16,21,15],"1f468-1f3fc":[16,22,15],"1f468-1f3fd":[16,23,15],"1f468-1f3fe":[16,24,15],"1f468-1f3ff":[16,25,15],"1f469-1f3fb":[16,27,15],"1f469-1f3fc":[16,28,15],"1f469-1f3fd":[16,29,15],"1f469-1f3fe":[16,30,15],"1f469-1f3ff":[16,31,15],"1f46e-1f3fb":[16,37,15],"1f46e-1f3fc":[16,38,15],"1f46e-1f3fd":[16,39,15],"1f46e-1f3fe":[16,40,15],"1f46e-1f3ff":[17,0,15],"1f470-1f3fb":[17,3,15],"1f470-1f3fc":[17,4,15],"1f470-1f3fd":[17,5,15],"1f470-1f3fe":[17,6,15],"1f470-1f3ff":[17,7,15],"1f471-1f3fb":[17,9,15],"1f471-1f3fc":[17,10,15],"1f471-1f3fd":[17,11,15],"1f471-1f3fe":[17,12,15],"1f471-1f3ff":[17,13,15],"1f472-1f3fb":[17,15,15],"1f472-1f3fc":[17,16,15],"1f472-1f3fd":[17,17,15],"1f472-1f3fe":[17,18,15],"1f472-1f3ff":[17,19,15],"1f473-1f3fb":[17,21,15],"1f473-1f3fc":[17,22,15],"1f473-1f3fd":[17,23,15],"1f473-1f3fe":[17,24,15],"1f473-1f3ff":[17,25,15],"1f474-1f3fb":[17,27,15],"1f474-1f3fc":[17,28,15],"1f474-1f3fd":[17,29,15],"1f474-1f3fe":[17,30,15],"1f474-1f3ff":[17,31,15],"1f475-1f3fb":[17,33,15],"1f475-1f3fc":[17,34,15],"1f475-1f3fd":[17,35,15],"1f475-1f3fe":[17,36,15],"1f475-1f3ff":[17,37,15],"1f476-1f3fb":[17,39,15],"1f476-1f3fc":[17,40,15],"1f476-1f3fd":[18,0,15],"1f476-1f3fe":[18,1,15],"1f476-1f3ff":[18,2,15],"1f477-1f3fb":[18,4,15],"1f477-1f3fc":[18,5,15],"1f477-1f3fd":[18,6,15],"1f477-1f3fe":[18,7,15],"1f477-1f3ff":[18,8,15],"1f478-1f3fb":[18,10,15],"1f478-1f3fc":[18,11,15],"1f478-1f3fd":[18,12,15],"1f478-1f3fe":[18,13,15],"1f478-1f3ff":[18,14,15],"1f47c-1f3fb":[18,19,15],"1f47c-1f3fc":[18,20,15],"1f47c-1f3fd":[18,21,15],"1f47c-1f3fe":[18,22,15],"1f47c-1f3ff":[18,23,15],"1f481-1f3fb":[18,29,15],"1f481-1f3fc":[18,30,15],"1f481-1f3fd":[18,31,15],"1f481-1f3fe":[18,32,15],"1f481-1f3ff":[18,33,15],"1f482-1f3fb":[18,35,15],"1f482-1f3fc":[18,36,15],"1f482-1f3fd":[18,37,15],"1f482-1f3fe":[18,38,15],"1f482-1f3ff":[18,39,15],"1f483-1f3fb":[19,0,15],"1f483-1f3fc":[19,1,15],"1f483-1f3fd":[19,2,15],"1f483-1f3fe":[19,3,15],"1f483-1f3ff":[19,4,15],"1f485-1f3fb":[19,7,15],"1f485-1f3fc":[19,8,15],"1f485-1f3fd":[19,9,15],"1f485-1f3fe":[19,10,15],"1f485-1f3ff":[19,11,15],"1f486-1f3fb":[19,13,15],"1f486-1f3fc":[19,14,15],"1f486-1f3fd":[19,15,15],"1f486-1f3fe":[19,16,15],"1f486-1f3ff":[19,17,15],"1f487-1f3fb":[19,19,15],"1f487-1f3fc":[19,20,15],"1f487-1f3fd":[19,21,15],"1f487-1f3fe":[19,22,15],"1f487-1f3ff":[19,23,15],"1f4aa-1f3fb":[20,18,15],"1f4aa-1f3fc":[20,19,15],"1f4aa-1f3fd":[20,20,15],"1f4aa-1f3fe":[20,21,15],"1f4aa-1f3ff":[20,22,15],"1f575-1f3fb":[24,40,11],"1f575-1f3fc":[25,0,11],"1f575-1f3fd":[25,1,11],"1f575-1f3fe":[25,2,11],"1f575-1f3ff":[25,3,11],"1f590-1f3fb":[25,14,15],"1f590-1f3fc":[25,15,15],"1f590-1f3fd":[25,16,15],"1f590-1f3fe":[25,17,15],"1f590-1f3ff":[25,18,15],"1f595-1f3fb":[25,20,15],"1f595-1f3fc":[25,21,15],"1f595-1f3fd":[25,22,15],"1f595-1f3fe":[25,23,15],"1f595-1f3ff":[25,24,15],"1f596-1f3fb":[25,26,15],"1f596-1f3fc":[25,27,15],"1f596-1f3fd":[25,28,15],"1f596-1f3fe":[25,29,15],"1f596-1f3ff":[25,30,15],"1f645-1f3fb":[28,3,15],"1f645-1f3fc":[28,4,15],"1f645-1f3fd":[28,5,15],"1f645-1f3fe":[28,6,15],"1f645-1f3ff":[28,7,15],"1f646-1f3fb":[28,9,15],"1f646-1f3fc":[28,10,15],"1f646-1f3fd":[28,11,15],"1f646-1f3fe":[28,12,15],"1f646-1f3ff":[28,13,15],"1f647-1f3fb":[28,15,15],"1f647-1f3fc":[28,16,15],"1f647-1f3fd":[28,17,15],"1f647-1f3fe":[28,18,15],"1f647-1f3ff":[28,19,15],"1f64b-1f3fb":[28,24,15],"1f64b-1f3fc":[28,25,15],"1f64b-1f3fd":[28,26,15],"1f64b-1f3fe":[28,27,15],"1f64b-1f3ff":[28,28,15],"1f64c-1f3fb":[28,30,15],"1f64c-1f3fc":[28,31,15],"1f64c-1f3fd":[28,32,15],"1f64c-1f3fe":[28,33,15],"1f64c-1f3ff":[28,34,15],"1f64d-1f3fb":[28,36,15],"1f64d-1f3fc":[28,37,15],"1f64d-1f3fd":[28,38,15],"1f64d-1f3fe":[28,39,15],"1f64d-1f3ff":[28,40,15],"1f64e-1f3fb":[29,1,15],"1f64e-1f3fc":[29,2,15],"1f64e-1f3fd":[29,3,15],"1f64e-1f3fe":[29,4,15],"1f64e-1f3ff":[29,5,15],"1f64f-1f3fb":[29,7,15],"1f64f-1f3fc":[29,8,15],"1f64f-1f3fd":[29,9,15],"1f64f-1f3fe":[29,10,15],"1f64f-1f3ff":[29,11,15],"1f6a3-1f3fb":[30,7,15],"1f6a3-1f3fc":[30,8,15],"1f6a3-1f3fd":[30,9,15],"1f6a3-1f3fe":[30,10,15],"1f6a3-1f3ff":[30,11,15],"1f6b4-1f3fb":[30,29,15],"1f6b4-1f3fc":[30,30,15],"1f6b4-1f3fd":[30,31,15],"1f6b4-1f3fe":[30,32,15],"1f6b4-1f3ff":[30,33,15],"1f6b5-1f3fb":[30,35,15],"1f6b5-1f3fc":[30,36,15],"1f6b5-1f3fd":[30,37,15],"1f6b5-1f3fe":[30,38,15],"1f6b5-1f3ff":[30,39,15],"1f6b6-1f3fb":[31,0,15],"1f6b6-1f3fc":[31,1,15],"1f6b6-1f3fd":[31,2,15],"1f6b6-1f3fe":[31,3,15],"1f6b6-1f3ff":[31,4,15],"1f6c0-1f3fb":[31,15,15],"1f6c0-1f3fc":[31,16,15],"1f6c0-1f3fd":[31,17,15],"1f6c0-1f3fe":[31,18,15],"1f6c0-1f3ff":[31,19,15],"1f918-1f3fb":[32,10,15],"1f918-1f3fc":[32,11,15],"1f918-1f3fd":[32,12,15],"1f918-1f3fe":[32,13,15],"1f918-1f3ff":[32,14,15]},e}(),wdtEmojiBundle=function(){var u={defaults:{sectionOrders:{People:8,Nature:7,Foods:6,Activity:5,Places:4,Objects:3,Symbols:2,Flags:1},skinColor:"skin-1",allowNative:!1,emojiType:"apple",emojiSheets:{apple:"/img/db/sheets/sheet_apple_64_indexed_128.png"},sections:{People:"Эмоции и люди",Nature:"Животные и растения",Foods:"Еда и напитки",Activity:"Спорт и активности",Places:"Путешествия и транспорт",Objects:"Объекты",Symbols:"Символы",Flags:"Флаги"},emojiData:{Symbols:[{short_name:"heart",short_names:["heart"]},{short_name:"yellow_heart",short_names:["yellow_heart"]},{short_name:"green_heart",short_names:["green_heart"]},{short_name:"blue_heart",short_names:["blue_heart"]},{short_name:"purple_heart",short_names:["purple_heart"]},{short_name:"broken_heart",short_names:["broken_heart"]},{short_name:"heavy_heart_exclamation_mark_ornament",short_names:["heavy_heart_exclamation_mark_ornament"]},{short_name:"two_hearts",short_names:["two_hearts"]},{short_name:"revolving_hearts",short_names:["revolving_hearts"]},{short_name:"heartbeat",short_names:["heartbeat"]},{short_name:"heartpulse",short_names:["heartpulse"]},{short_name:"sparkling_heart",short_names:["sparkling_heart"]},{short_name:"cupid",short_names:["cupid"]},{short_name:"gift_heart",short_names:["gift_heart"]},{short_name:"heart_decoration",short_names:["heart_decoration"]},{short_name:"peace_symbol",short_names:["peace_symbol"]},{short_name:"latin_cross",short_names:["latin_cross"]},{short_name:"star_and_crescent",short_names:["star_and_crescent"]},{short_name:"om_symbol",short_names:["om_symbol"]},{short_name:"wheel_of_dharma",short_names:["wheel_of_dharma"]},{short_name:"star_of_david",short_names:["star_of_david"]},{short_name:"six_pointed_star",short_names:["six_pointed_star"]},{short_name:"menorah_with_nine_branches",short_names:["menorah_with_nine_branches"]},{short_name:"yin_yang",short_names:["yin_yang"]},{short_name:"orthodox_cross",short_names:["orthodox_cross"]},{short_name:"place_of_worship",short_names:["place_of_worship"]},{short_name:"ophiuchus",short_names:["ophiuchus"]},{short_name:"aries",short_names:["aries"]},{short_name:"taurus",short_names:["taurus"]},{short_name:"gemini",short_names:["gemini"]},{short_name:"cancer",short_names:["cancer"]},{short_name:"leo",short_names:["leo"]},{short_name:"virgo",short_names:["virgo"]},{short_name:"libra",short_names:["libra"]},{short_name:"scorpius",short_names:["scorpius"]},{short_name:"sagittarius",short_names:["sagittarius"]},{short_name:"capricorn",short_names:["capricorn"]},{short_name:"aquarius",short_names:["aquarius"]},{short_name:"pisces",short_names:["pisces"]},{short_name:"id",short_names:["id"]},{short_name:"atom_symbol",short_names:["atom_symbol"]},{short_name:"u7a7a",short_names:["u7a7a"]},{short_name:"u5272",short_names:["u5272"]},{short_name:"radioactive_sign",short_names:["radioactive_sign"]},{short_name:"biohazard_sign",short_names:["biohazard_sign"]},{short_name:"mobile_phone_off",short_names:["mobile_phone_off"]},{short_name:"vibration_mode",short_names:["vibration_mode"]},{short_name:"u6709",short_names:["u6709"]},{short_name:"u7121",short_names:["u7121"]},{short_name:"u7533",short_names:["u7533"]},{short_name:"u55b6",short_names:["u55b6"]},{short_name:"u6708",short_names:["u6708"]},{short_name:"eight_pointed_black_star",short_names:["eight_pointed_black_star"]},{short_name:"vs",short_names:["vs"]},{short_name:"accept",short_names:["accept"]},{short_name:"white_flower",short_names:["white_flower"]},{short_name:"ideograph_advantage",short_names:["ideograph_advantage"]},{short_name:"secret",short_names:["secret"]},{short_name:"congratulations",short_names:["congratulations"]},{short_name:"u5408",short_names:["u5408"]},{short_name:"u6e80",short_names:["u6e80"]},{short_name:"u7981",short_names:["u7981"]},{short_name:"a",short_names:["a"]},{short_name:"b",short_names:["b"]},{short_name:"ab",short_names:["ab"]},{short_name:"cl",short_names:["cl"]},{short_name:"o2",short_names:["o2"]},{short_name:"sos",short_names:["sos"]},{short_name:"no_entry",short_names:["no_entry"]},{short_name:"name_badge",short_names:["name_badge"]},{short_name:"no_entry_sign",short_names:["no_entry_sign"]},{short_name:"x",short_names:["x"]},{short_name:"o",short_names:["o"]},{short_name:"anger",short_names:["anger"]},{short_name:"hotsprings",short_names:["hotsprings"]},{short_name:"no_pedestrians",short_names:["no_pedestrians"]},{short_name:"do_not_litter",short_names:["do_not_litter"]},{short_name:"no_bicycles",short_names:["no_bicycles"]},{short_name:"non-potable_water",short_names:["non-potable_water"]},{short_name:"underage",short_names:["underage"]},{short_name:"no_mobile_phones",short_names:["no_mobile_phones"]},{short_name:"exclamation",short_names:["exclamation","heavy_exclamation_mark"]},{short_name:"grey_exclamation",short_names:["grey_exclamation"]},{short_name:"question",short_names:["question"]},{short_name:"grey_question",short_names:["grey_question"]},{short_name:"bangbang",short_names:["bangbang"]},{short_name:"interrobang",short_names:["interrobang"]},{short_name:"100",short_names:["100"]},{short_name:"low_brightness",short_names:["low_brightness"]},{short_name:"high_brightness",short_names:["high_brightness"]},{short_name:"trident",short_names:["trident"]},{short_name:"fleur_de_lis",short_names:["fleur_de_lis"]},{short_name:"part_alternation_mark",short_names:["part_alternation_mark"]},{short_name:"warning",short_names:["warning"]},{short_name:"children_crossing",short_names:["children_crossing"]},{short_name:"beginner",short_names:["beginner"]},{short_name:"recycle",short_names:["recycle"]},{short_name:"u6307",short_names:["u6307"]},{short_name:"chart",short_names:["chart"]},{short_name:"sparkle",short_names:["sparkle"]},{short_name:"eight_spoked_asterisk",short_names:["eight_spoked_asterisk"]},{short_name:"negative_squared_cross_mark",short_names:["negative_squared_cross_mark"]},{short_name:"white_check_mark",short_names:["white_check_mark"]},{short_name:"diamond_shape_with_a_dot_inside",short_names:["diamond_shape_with_a_dot_inside"]},{short_name:"cyclone",short_names:["cyclone"]},{short_name:"loop",short_names:["loop"]},{short_name:"globe_with_meridians",short_names:["globe_with_meridians"]},{short_name:"m",short_names:["m"]},{short_name:"atm",short_names:["atm"]},{short_name:"sa",short_names:["sa"]},{short_name:"passport_control",short_names:["passport_control"]},{short_name:"customs",short_names:["customs"]},{short_name:"baggage_claim",short_names:["baggage_claim"]},{short_name:"left_luggage",short_names:["left_luggage"]},{short_name:"wheelchair",short_names:["wheelchair"]},{short_name:"no_smoking",short_names:["no_smoking"]},{short_name:"wc",short_names:["wc"]},{short_name:"parking",short_names:["parking"]},{short_name:"potable_water",short_names:["potable_water"]},{short_name:"mens",short_names:["mens"]},{short_name:"womens",short_names:["womens"]},{short_name:"baby_symbol",short_names:["baby_symbol"]},{short_name:"restroom",short_names:["restroom"]},{short_name:"put_litter_in_its_place",short_names:["put_litter_in_its_place"]},{short_name:"cinema",short_names:["cinema"]},{short_name:"signal_strength",short_names:["signal_strength"]},{short_name:"koko",short_names:["koko"]},{short_name:"ng",short_names:["ng"]},{short_name:"ok",short_names:["ok"]},{short_name:"up",short_names:["up"]},{short_name:"cool",short_names:["cool"]},{short_name:"new",short_names:["new"]},{short_name:"free",short_names:["free"]},{short_name:"zero",short_names:["zero"]},{short_name:"one",short_names:["one"]},{short_name:"two",short_names:["two"]},{short_name:"three",short_names:["three"]},{short_name:"four",short_names:["four"]},{short_name:"five",short_names:["five"]},{short_name:"six",short_names:["six"]},{short_name:"seven",short_names:["seven"]},{short_name:"eight",short_names:["eight"]},{short_name:"nine",short_names:["nine"]},{short_name:"keycap_ten",short_names:["keycap_ten"]},{name:null,short_name:"keycap_star",short_names:["keycap_star"]},{short_name:"1234",short_names:["1234"]},{short_name:"arrow_forward",short_names:["arrow_forward"]},{short_name:"double_vertical_bar",short_names:["double_vertical_bar"]},{short_name:"black_right_pointing_triangle_with_double_vertical_bar",short_names:["black_right_pointing_triangle_with_double_vertical_bar"]},{short_name:"black_square_for_stop",short_names:["black_square_for_stop"]},{short_name:"eject",short_names:["eject"]},{short_name:"black_circle_for_record",short_names:["black_circle_for_record"]},{short_name:"black_right_pointing_double_triangle_with_vertical_bar",short_names:["black_right_pointing_double_triangle_with_vertical_bar"]},{short_name:"black_left_pointing_double_triangle_with_vertical_bar",short_names:["black_left_pointing_double_triangle_with_vertical_bar"]},{short_name:"fast_forward",short_names:["fast_forward"]},{short_name:"rewind",short_names:["rewind"]},{short_name:"twisted_rightwards_arrows",short_names:["twisted_rightwards_arrows"]},{short_name:"repeat",short_names:["repeat"]},{short_name:"repeat_one",short_names:["repeat_one"]},{short_name:"arrow_backward",short_names:["arrow_backward"]},{short_name:"arrow_up_small",short_names:["arrow_up_small"]},{short_name:"arrow_down_small",short_names:["arrow_down_small"]},{short_name:"arrow_double_up",short_names:["arrow_double_up"]},{short_name:"arrow_double_down",short_names:["arrow_double_down"]},{short_name:"arrow_right",short_names:["arrow_right"]},{short_name:"arrow_left",short_names:["arrow_left"]},{short_name:"arrow_up",short_names:["arrow_up"]},{short_name:"arrow_down",short_names:["arrow_down"]},{short_name:"arrow_upper_right",short_names:["arrow_upper_right"]},{short_name:"arrow_lower_right",short_names:["arrow_lower_right"]},{short_name:"arrow_lower_left",short_names:["arrow_lower_left"]},{short_name:"arrow_upper_left",short_names:["arrow_upper_left"]},{short_name:"arrow_up_down",short_names:["arrow_up_down"]},{short_name:"left_right_arrow",short_names:["left_right_arrow"]},{short_name:"arrows_counterclockwise",short_names:["arrows_counterclockwise"]},{short_name:"arrow_right_hook",short_names:["arrow_right_hook"]},{short_name:"leftwards_arrow_with_hook",short_names:["leftwards_arrow_with_hook"]},{short_name:"arrow_heading_up",short_names:["arrow_heading_up"]},{short_name:"arrow_heading_down",short_names:["arrow_heading_down"]},{short_name:"hash",short_names:["hash"]},{short_name:"information_source",short_names:["information_source"]},{short_name:"abc",short_names:["abc"]},{short_name:"abcd",short_names:["abcd"]},{short_name:"capital_abcd",short_names:["capital_abcd"]},{short_name:"symbols",short_names:["symbols"]},{short_name:"musical_note",short_names:["musical_note"]},{short_name:"notes",short_names:["notes"]},{short_name:"wavy_dash",short_names:["wavy_dash"]},{short_name:"curly_loop",short_names:["curly_loop"]},{short_name:"heavy_check_mark",short_names:["heavy_check_mark"]},{short_name:"arrows_clockwise",short_names:["arrows_clockwise"]},{short_name:"heavy_plus_sign",short_names:["heavy_plus_sign"]},{short_name:"heavy_minus_sign",short_names:["heavy_minus_sign"]},{short_name:"heavy_division_sign",short_names:["heavy_division_sign"]},{short_name:"heavy_multiplication_x",short_names:["heavy_multiplication_x"]},{short_name:"heavy_dollar_sign",short_names:["heavy_dollar_sign"]},{short_name:"currency_exchange",short_names:["currency_exchange"]},{short_name:"copyright",short_names:["copyright"]},{short_name:"registered",short_names:["registered"]},{short_name:"tm",short_names:["tm"]},{short_name:"end",short_names:["end"]},{short_name:"back",short_names:["back"]},{short_name:"on",short_names:["on"]},{short_name:"top",short_names:["top"]},{short_name:"soon",short_names:["soon"]},{short_name:"ballot_box_with_check",short_names:["ballot_box_with_check"]},{short_name:"radio_button",short_names:["radio_button"]},{short_name:"white_circle",short_names:["white_circle"]},{short_name:"black_circle",short_names:["black_circle"]},{short_name:"red_circle",short_names:["red_circle"]},{short_name:"large_blue_circle",short_names:["large_blue_circle"]},{short_name:"small_orange_diamond",short_names:["small_orange_diamond"]},{short_name:"small_blue_diamond",short_names:["small_blue_diamond"]},{short_name:"large_orange_diamond",short_names:["large_orange_diamond"]},{short_name:"large_blue_diamond",short_names:["large_blue_diamond"]},{short_name:"small_red_triangle",short_names:["small_red_triangle"]},{short_name:"black_small_square",short_names:["black_small_square"]},{short_name:"white_small_square",short_names:["white_small_square"]},{short_name:"black_large_square",short_names:["black_large_square"]},{short_name:"white_large_square",short_names:["white_large_square"]},{short_name:"small_red_triangle_down",short_names:["small_red_triangle_down"]},{short_name:"black_medium_square",short_names:["black_medium_square"]},{short_name:"white_medium_square",short_names:["white_medium_square"]},{short_name:"black_medium_small_square",short_names:["black_medium_small_square"]},{short_name:"white_medium_small_square",short_names:["white_medium_small_square"]},{short_name:"black_square_button",short_names:["black_square_button"]},{short_name:"white_square_button",short_names:["white_square_button"]},{short_name:"speaker",short_names:["speaker"]},{short_name:"sound",short_names:["sound"]},{short_name:"loud_sound",short_names:["loud_sound"]},{short_name:"mute",short_names:["mute"]},{short_name:"mega",short_names:["mega"]},{short_name:"loudspeaker",short_names:["loudspeaker"]},{short_name:"bell",short_names:["bell"]},{short_name:"no_bell",short_names:["no_bell"]},{short_name:"black_joker",short_names:["black_joker"]},{short_name:"mahjong",short_names:["mahjong"]},{short_name:"spades",short_names:["spades"]},{short_name:"clubs",short_names:["clubs"]},{short_name:"hearts",short_names:["hearts"]},{short_name:"diamonds",short_names:["diamonds"]},{short_name:"flower_playing_cards",short_names:["flower_playing_cards"]},{short_name:"thought_balloon",short_names:["thought_balloon"]},{short_name:"right_anger_bubble",short_names:["right_anger_bubble"]},{short_name:"speech_balloon",short_names:["speech_balloon"]},{short_name:"left_speech_bubble",short_names:["left_speech_bubble"]},{short_name:"clock1",short_names:["clock1"]},{short_name:"clock2",short_names:["clock2"]},{short_name:"clock3",short_names:["clock3"]},{short_name:"clock4",short_names:["clock4"]},{short_name:"clock5",short_names:["clock5"]},{short_name:"clock6",short_names:["clock6"]},{short_name:"clock7",short_names:["clock7"]},{short_name:"clock8",short_names:["clock8"]},{short_name:"clock9",short_names:["clock9"]},{short_name:"clock10",short_names:["clock10"]},{short_name:"clock11",short_names:["clock11"]},{short_name:"clock12",short_names:["clock12"]},{short_name:"clock130",short_names:["clock130"]},{short_name:"clock230",short_names:["clock230"]},{short_name:"clock330",short_names:["clock330"]},{short_name:"clock430",short_names:["clock430"]},{short_name:"clock530",short_names:["clock530"]},{short_name:"clock630",short_names:["clock630"]},{short_name:"clock730",short_names:["clock730"]},{short_name:"clock830",short_names:["clock830"]},{short_name:"clock930",short_names:["clock930"]},{short_name:"clock1030",short_names:["clock1030"]},{short_name:"clock1130",short_names:["clock1130"]},{short_name:"clock1230",short_names:["clock1230"]}],Objects:[{short_name:"watch",short_names:["watch"]},{short_name:"iphone",short_names:["iphone"]},{short_name:"calling",short_names:["calling"]},{short_name:"computer",short_names:["computer"]},{short_name:"keyboard",short_names:["keyboard"]},{short_name:"desktop_computer",short_names:["desktop_computer"]},{short_name:"printer",short_names:["printer"]},{short_name:"three_button_mouse",short_names:["three_button_mouse"]},{short_name:"trackball",short_names:["trackball"]},{short_name:"joystick",short_names:["joystick"]},{short_name:"compression",short_names:["compression"]},{short_name:"minidisc",short_names:["minidisc"]},{short_name:"floppy_disk",short_names:["floppy_disk"]},{short_name:"cd",short_names:["cd"]},{short_name:"dvd",short_names:["dvd"]},{short_name:"vhs",short_names:["vhs"]},{short_name:"camera",short_names:["camera"]},{short_name:"camera_with_flash",short_names:["camera_with_flash"]},{short_name:"video_camera",short_names:["video_camera"]},{short_name:"movie_camera",short_names:["movie_camera"]},{short_name:"film_projector",short_names:["film_projector"]},{short_name:"film_frames",short_names:["film_frames"]},{short_name:"telephone_receiver",short_names:["telephone_receiver"]},{short_name:"phone",short_names:["phone","telephone"]},{short_name:"pager",short_names:["pager"]},{short_name:"fax",short_names:["fax"]},{short_name:"tv",short_names:["tv"]},{short_name:"radio",short_names:["radio"]},{short_name:"studio_microphone",short_names:["studio_microphone"]},{short_name:"level_slider",short_names:["level_slider"]},{short_name:"control_knobs",short_names:["control_knobs"]},{short_name:"stopwatch",short_names:["stopwatch"]},{short_name:"timer_clock",short_names:["timer_clock"]},{short_name:"alarm_clock",short_names:["alarm_clock"]},{short_name:"mantelpiece_clock",short_names:["mantelpiece_clock"]},{short_name:"hourglass_flowing_sand",short_names:["hourglass_flowing_sand"]},{short_name:"hourglass",short_names:["hourglass"]},{short_name:"satellite_antenna",short_names:["satellite_antenna"]},{short_name:"battery",short_names:["battery"]},{short_name:"electric_plug",short_names:["electric_plug"]},{short_name:"bulb",short_names:["bulb"]},{short_name:"flashlight",short_names:["flashlight"]},{short_name:"candle",short_names:["candle"]},{short_name:"wastebasket",short_names:["wastebasket"]},{short_name:"oil_drum",short_names:["oil_drum"]},{short_name:"money_with_wings",short_names:["money_with_wings"]},{short_name:"dollar",short_names:["dollar"]},{short_name:"yen",short_names:["yen"]},{short_name:"euro",short_names:["euro"]},{short_name:"pound",short_names:["pound"]},{short_name:"moneybag",short_names:["moneybag"]},{short_name:"credit_card",short_names:["credit_card"]},{short_name:"gem",short_names:["gem"]},{short_name:"scales",short_names:["scales"]},{short_name:"wrench",short_names:["wrench"]},{short_name:"hammer",short_names:["hammer"]},{short_name:"hammer_and_pick",short_names:["hammer_and_pick"]},{short_name:"hammer_and_wrench",short_names:["hammer_and_wrench"]},{short_name:"pick",short_names:["pick"]},{short_name:"nut_and_bolt",short_names:["nut_and_bolt"]},{short_name:"gear",short_names:["gear"]},{short_name:"chains",short_names:["chains"]},{short_name:"gun",short_names:["gun"]},{short_name:"bomb",short_names:["bomb"]},{short_name:"hocho",short_names:["hocho","knife"]},{short_name:"dagger_knife",short_names:["dagger_knife"]},{short_name:"crossed_swords",short_names:["crossed_swords"]},{short_name:"shield",short_names:["shield"]},{short_name:"smoking",short_names:["smoking"]},{short_name:"skull_and_crossbones",short_names:["skull_and_crossbones"]},{short_name:"coffin",short_names:["coffin"]},{short_name:"funeral_urn",short_names:["funeral_urn"]},{short_name:"amphora",short_names:["amphora"]},{short_name:"crystal_ball",short_names:["crystal_ball"]},{short_name:"prayer_beads",short_names:["prayer_beads"]},{short_name:"barber",short_names:["barber"]},{short_name:"alembic",short_names:["alembic"]},{short_name:"telescope",short_names:["telescope"]},{short_name:"microscope",short_names:["microscope"]},{short_name:"hole",short_names:["hole"]},{short_name:"pill",short_names:["pill"]},{short_name:"syringe",short_names:["syringe"]},{short_name:"thermometer",short_names:["thermometer"]},{short_name:"label",short_names:["label"]},{short_name:"bookmark",short_names:["bookmark"]},{short_name:"toilet",short_names:["toilet"]},{short_name:"shower",short_names:["shower"]},{short_name:"bathtub",short_names:["bathtub"]},{short_name:"key",short_names:["key"]},{short_name:"old_key",short_names:["old_key"]},{short_name:"couch_and_lamp",short_names:["couch_and_lamp"]},{short_name:"sleeping_accommodation",short_names:["sleeping_accommodation"]},{short_name:"bed",short_names:["bed"]},{short_name:"door",short_names:["door"]},{short_name:"bellhop_bell",short_names:["bellhop_bell"]},{short_name:"frame_with_picture",short_names:["frame_with_picture"]},{short_name:"world_map",short_names:["world_map"]},{short_name:"umbrella_on_ground",short_names:["umbrella_on_ground"]},{short_name:"moyai",short_names:["moyai"]},{short_name:"shopping_bags",short_names:["shopping_bags"]},{short_name:"balloon",short_names:["balloon"]},{short_name:"flags",short_names:["flags"]},{short_name:"ribbon",short_names:["ribbon"]},{short_name:"gift",short_names:["gift"]},{short_name:"confetti_ball",short_names:["confetti_ball"]},{short_name:"tada",short_names:["tada"]},{short_name:"dolls",short_names:["dolls"]},{short_name:"wind_chime",short_names:["wind_chime"]},{short_name:"crossed_flags",short_names:["crossed_flags"]},{short_name:"izakaya_lantern",short_names:["izakaya_lantern","lantern"]},{short_name:"email",short_names:["email","envelope"]},{short_name:"envelope_with_arrow",short_names:["envelope_with_arrow"]},{short_name:"incoming_envelope",short_names:["incoming_envelope"]},{short_name:"e-mail",short_names:["e-mail"]},{short_name:"love_letter",short_names:["love_letter"]},{short_name:"postbox",short_names:["postbox"]},{short_name:"mailbox_closed",short_names:["mailbox_closed"]},{short_name:"mailbox",short_names:["mailbox"]},{short_name:"mailbox_with_mail",short_names:["mailbox_with_mail"]},{short_name:"mailbox_with_no_mail",short_names:["mailbox_with_no_mail"]},{short_name:"package",short_names:["package"]},{short_name:"postal_horn",short_names:["postal_horn"]},{short_name:"inbox_tray",short_names:["inbox_tray"]},{short_name:"outbox_tray",short_names:["outbox_tray"]},{short_name:"scroll",short_names:["scroll"]},{short_name:"page_with_curl",short_names:["page_with_curl"]},{short_name:"bookmark_tabs",short_names:["bookmark_tabs"]},{short_name:"bar_chart",short_names:["bar_chart"]},{short_name:"chart_with_upwards_trend",short_names:["chart_with_upwards_trend"]},{short_name:"chart_with_downwards_trend",short_names:["chart_with_downwards_trend"]},{short_name:"page_facing_up",short_names:["page_facing_up"]},{short_name:"date",short_names:["date"]},{short_name:"calendar",short_names:["calendar"]},{short_name:"spiral_calendar_pad",short_names:["spiral_calendar_pad"]},{short_name:"card_index",short_names:["card_index"]},{short_name:"card_file_box",short_names:["card_file_box"]},{short_name:"ballot_box_with_ballot",short_names:["ballot_box_with_ballot"]},{short_name:"file_cabinet",short_names:["file_cabinet"]},{short_name:"clipboard",short_names:["clipboard"]},{short_name:"spiral_note_pad",short_names:["spiral_note_pad"]},{short_name:"file_folder",short_names:["file_folder"]},{short_name:"open_file_folder",short_names:["open_file_folder"]},{short_name:"card_index_dividers",short_names:["card_index_dividers"]},{short_name:"rolled_up_newspaper",short_names:["rolled_up_newspaper"]},{short_name:"newspaper",short_names:["newspaper"]},{short_name:"notebook",short_names:["notebook"]},{short_name:"closed_book",short_names:["closed_book"]},{short_name:"green_book",short_names:["green_book"]},{short_name:"blue_book",short_names:["blue_book"]},{short_name:"orange_book",short_names:["orange_book"]},{short_name:"notebook_with_decorative_cover",short_names:["notebook_with_decorative_cover"]},{short_name:"ledger",short_names:["ledger"]},{short_name:"books",short_names:["books"]},{short_name:"book",short_names:["book","open_book"]},{short_name:"link",short_names:["link"]},{short_name:"paperclip",short_names:["paperclip"]},{short_name:"linked_paperclips",short_names:["linked_paperclips"]},{short_name:"scissors",short_names:["scissors"]},{short_name:"triangular_ruler",short_names:["triangular_ruler"]},{short_name:"straight_ruler",short_names:["straight_ruler"]},{short_name:"pushpin",short_names:["pushpin"]},{short_name:"round_pushpin",short_names:["round_pushpin"]},{short_name:"triangular_flag_on_post",short_names:["triangular_flag_on_post"]},{short_name:"waving_white_flag",short_names:["waving_white_flag"]},{short_name:"waving_black_flag",short_names:["waving_black_flag"]},{short_name:"closed_lock_with_key",short_names:["closed_lock_with_key"]},{short_name:"lock",short_names:["lock"]},{short_name:"unlock",short_names:["unlock"]},{short_name:"lock_with_ink_pen",short_names:["lock_with_ink_pen"]},{short_name:"lower_left_ballpoint_pen",short_names:["lower_left_ballpoint_pen"]},{short_name:"lower_left_fountain_pen",short_names:["lower_left_fountain_pen"]},{short_name:"black_nib",short_names:["black_nib"]},{short_name:"memo",short_names:["memo","pencil"]},{short_name:"pencil2",short_names:["pencil2"]},{short_name:"lower_left_crayon",short_names:["lower_left_crayon"]},{short_name:"lower_left_paintbrush",short_names:["lower_left_paintbrush"]},{short_name:"mag",short_names:["mag"]},{short_name:"mag_right",short_names:["mag_right"]}],Nature:[{short_name:"dog",short_names:["dog"]},{short_name:"cat",short_names:["cat"]},{short_name:"mouse",short_names:["mouse"]},{short_name:"hamster",short_names:["hamster"]},{short_name:"rabbit",short_names:["rabbit"]},{short_name:"bear",short_names:["bear"]},{short_name:"panda_face",short_names:["panda_face"]},{short_name:"koala",short_names:["koala"]},{short_name:"tiger",short_names:["tiger"]},{short_name:"lion_face",short_names:["lion_face"]},{short_name:"cow",short_names:["cow"]},{short_name:"pig",short_names:["pig"]},{short_name:"pig_nose",short_names:["pig_nose"]},{short_name:"frog",short_names:["frog"]},{short_name:"octopus",short_names:["octopus"]},{short_name:"monkey_face",short_names:["monkey_face"]},{short_name:"see_no_evil",short_names:["see_no_evil"]},{short_name:"hear_no_evil",short_names:["hear_no_evil"]},{short_name:"speak_no_evil",short_names:["speak_no_evil"]},{short_name:"monkey",short_names:["monkey"]},{short_name:"chicken",short_names:["chicken"]},{short_name:"penguin",short_names:["penguin"]},{short_name:"bird",short_names:["bird"]},{short_name:"baby_chick",short_names:["baby_chick"]},{short_name:"hatching_chick",short_names:["hatching_chick"]},{short_name:"hatched_chick",short_names:["hatched_chick"]},{short_name:"wolf",short_names:["wolf"]},{short_name:"boar",short_names:["boar"]},{short_name:"horse",short_names:["horse"]},{short_name:"unicorn_face",short_names:["unicorn_face"]},{short_name:"bee",short_names:["bee","honeybee"]},{short_name:"bug",short_names:["bug"]},{short_name:"snail",short_names:["snail"]},{short_name:"beetle",short_names:["beetle"]},{short_name:"ant",short_names:["ant"]},{short_name:"spider",short_names:["spider"]},{short_name:"scorpion",short_names:["scorpion"]},{short_name:"crab",short_names:["crab"]},{short_name:"snake",short_names:["snake"]},{short_name:"turtle",short_names:["turtle"]},{short_name:"tropical_fish",short_names:["tropical_fish"]},{short_name:"fish",short_names:["fish"]},{short_name:"blowfish",short_names:["blowfish"]},{short_name:"dolphin",short_names:["dolphin","flipper"]},{short_name:"whale",short_names:["whale"]},{short_name:"whale2",short_names:["whale2"]},{short_name:"crocodile",short_names:["crocodile"]},{short_name:"leopard",short_names:["leopard"]},{short_name:"tiger2",short_names:["tiger2"]},{short_name:"water_buffalo",short_names:["water_buffalo"]},{short_name:"ox",short_names:["ox"]},{short_name:"cow2",short_names:["cow2"]},{short_name:"dromedary_camel",short_names:["dromedary_camel"]},{short_name:"camel",short_names:["camel"]},{short_name:"elephant",short_names:["elephant"]},{short_name:"goat",short_names:["goat"]},{short_name:"ram",short_names:["ram"]},{short_name:"sheep",short_names:["sheep"]},{short_name:"racehorse",short_names:["racehorse"]},{short_name:"pig2",short_names:["pig2"]},{short_name:"rat",short_names:["rat"]},{short_name:"mouse2",short_names:["mouse2"]},{short_name:"rooster",short_names:["rooster"]},{short_name:"turkey",short_names:["turkey"]},{short_name:"dove_of_peace",short_names:["dove_of_peace"]},{short_name:"dog2",short_names:["dog2"]},{short_name:"poodle",short_names:["poodle"]},{short_name:"cat2",short_names:["cat2"]},{short_name:"rabbit2",short_names:["rabbit2"]},{short_name:"chipmunk",short_names:["chipmunk"]},{short_name:"feet",short_names:["feet","paw_prints"]},{short_name:"dragon",short_names:["dragon"]},{short_name:"dragon_face",short_names:["dragon_face"]},{short_name:"cactus",short_names:["cactus"]},{short_name:"christmas_tree",short_names:["christmas_tree"]},{short_name:"evergreen_tree",short_names:["evergreen_tree"]},{short_name:"deciduous_tree",short_names:["deciduous_tree"]},{short_name:"palm_tree",short_names:["palm_tree"]},{short_name:"seedling",short_names:["seedling"]},{short_name:"herb",short_names:["herb"]},{short_name:"shamrock",short_names:["shamrock"]},{short_name:"four_leaf_clover",short_names:["four_leaf_clover"]},{short_name:"bamboo",short_names:["bamboo"]},{short_name:"tanabata_tree",short_names:["tanabata_tree"]},{short_name:"leaves",short_names:["leaves"]},{short_name:"fallen_leaf",short_names:["fallen_leaf"]},{short_name:"maple_leaf",short_names:["maple_leaf"]},{short_name:"ear_of_rice",short_names:["ear_of_rice"]},{short_name:"hibiscus",short_names:["hibiscus"]},{short_name:"sunflower",short_names:["sunflower"]},{short_name:"rose",short_names:["rose"]},{short_name:"tulip",short_names:["tulip"]},{short_name:"blossom",short_names:["blossom"]},{short_name:"cherry_blossom",short_names:["cherry_blossom"]},{short_name:"bouquet",short_names:["bouquet"]},{short_name:"mushroom",short_names:["mushroom"]},{short_name:"chestnut",short_names:["chestnut"]},{short_name:"jack_o_lantern",short_names:["jack_o_lantern"]},{short_name:"shell",short_names:["shell"]},{short_name:"spider_web",short_names:["spider_web"]},{short_name:"earth_americas",short_names:["earth_americas"]},{short_name:"earth_africa",short_names:["earth_africa"]},{short_name:"earth_asia",short_names:["earth_asia"]},{short_name:"full_moon",short_names:["full_moon"]},{short_name:"waning_gibbous_moon",short_names:["waning_gibbous_moon"]},{short_name:"last_quarter_moon",short_names:["last_quarter_moon"]},{short_name:"waning_crescent_moon",short_names:["waning_crescent_moon"]},{short_name:"new_moon",short_names:["new_moon"]},{short_name:"waxing_crescent_moon",short_names:["waxing_crescent_moon"]},{short_name:"first_quarter_moon",short_names:["first_quarter_moon"]},{short_name:"moon",short_names:["moon","waxing_gibbous_moon"]},{short_name:"new_moon_with_face",short_names:["new_moon_with_face"]},{short_name:"full_moon_with_face",short_names:["full_moon_with_face"]},{short_name:"first_quarter_moon_with_face",short_names:["first_quarter_moon_with_face"]},{short_name:"last_quarter_moon_with_face",short_names:["last_quarter_moon_with_face"]},{short_name:"sun_with_face",short_names:["sun_with_face"]},{short_name:"crescent_moon",short_names:["crescent_moon"]},{short_name:"star",short_names:["star"]},{short_name:"star2",short_names:["star2"]},{short_name:"dizzy",short_names:["dizzy"]},{short_name:"sparkles",short_names:["sparkles"]},{short_name:"comet",short_names:["comet"]},{short_name:"sunny",short_names:["sunny"]},{short_name:"mostly_sunny",short_names:["mostly_sunny","sun_small_cloud"]},{short_name:"partly_sunny",short_names:["partly_sunny"]},{short_name:"barely_sunny",short_names:["barely_sunny","sun_behind_cloud"]},{short_name:"partly_sunny_rain",short_names:["partly_sunny_rain","sun_behind_rain_cloud"]},{short_name:"cloud",short_names:["cloud"]},{short_name:"rain_cloud",short_names:["rain_cloud"]},{short_name:"thunder_cloud_and_rain",short_names:["thunder_cloud_and_rain"]},{short_name:"lightning",short_names:["lightning","lightning_cloud"]},{short_name:"zap",short_names:["zap"]},{short_name:"fire",short_names:["fire"]},{short_name:"boom",short_names:["boom","collision"]},{short_name:"snowflake",short_names:["snowflake"]},{short_name:"snow_cloud",short_names:["snow_cloud"]},{short_name:"snowman",short_names:["snowman"]},{short_name:"snowman_without_snow",short_names:["snowman_without_snow"]},{short_name:"wind_blowing_face",short_names:["wind_blowing_face"]},{short_name:"dash",short_names:["dash"]},{short_name:"tornado",short_names:["tornado","tornado_cloud"]},{short_name:"fog",short_names:["fog"]},{short_name:"umbrella",short_names:["umbrella"]},{short_name:"umbrella_with_rain_drops",short_names:["umbrella_with_rain_drops"]},{short_name:"droplet",short_names:["droplet"]},{short_name:"sweat_drops",short_names:["sweat_drops"]},{short_name:"ocean",short_names:["ocean"]}],Foods:[{short_name:"green_apple",short_names:["green_apple"]},{short_name:"apple",short_names:["apple"]},{short_name:"pear",short_names:["pear"]},{short_name:"tangerine",short_names:["tangerine"]},{short_name:"lemon",short_names:["lemon"]},{short_name:"banana",short_names:["banana"]},{short_name:"watermelon",short_names:["watermelon"]},{short_name:"grapes",short_names:["grapes"]},{short_name:"strawberry",short_names:["strawberry"]},{short_name:"melon",short_names:["melon"]},{short_name:"cherries",short_names:["cherries"]},{short_name:"peach",short_names:["peach"]},{short_name:"pineapple",short_names:["pineapple"]},{short_name:"tomato",short_names:["tomato"]},{short_name:"eggplant",short_names:["eggplant"]},{short_name:"hot_pepper",short_names:["hot_pepper"]},{short_name:"corn",short_names:["corn"]},{short_name:"sweet_potato",short_names:["sweet_potato"]},{short_name:"honey_pot",short_names:["honey_pot"]},{short_name:"bread",short_names:["bread"]},{short_name:"cheese_wedge",short_names:["cheese_wedge"]},{short_name:"poultry_leg",short_names:["poultry_leg"]},{short_name:"meat_on_bone",short_names:["meat_on_bone"]},{short_name:"fried_shrimp",short_names:["fried_shrimp"]},{short_name:"egg",short_names:["egg"]},{short_name:"hamburger",short_names:["hamburger"]},{short_name:"fries",short_names:["fries"]},{short_name:"hotdog",short_names:["hotdog"]},{short_name:"pizza",short_names:["pizza"]},{short_name:"spaghetti",short_names:["spaghetti"]},{short_name:"taco",short_names:["taco"]},{short_name:"burrito",short_names:["burrito"]},{short_name:"ramen",short_names:["ramen"]},{short_name:"stew",short_names:["stew"]},{short_name:"fish_cake",short_names:["fish_cake"]},{short_name:"sushi",short_names:["sushi"]},{short_name:"bento",short_names:["bento"]},{short_name:"curry",short_names:["curry"]},{short_name:"rice_ball",short_names:["rice_ball"]},{short_name:"rice",short_names:["rice"]},{short_name:"rice_cracker",short_names:["rice_cracker"]},{short_name:"oden",short_names:["oden"]},{short_name:"dango",short_names:["dango"]},{short_name:"shaved_ice",short_names:["shaved_ice"]},{short_name:"ice_cream",short_names:["ice_cream"]},{short_name:"icecream",short_names:["icecream"]},{short_name:"cake",short_names:["cake"]},{short_name:"birthday",short_names:["birthday"]},{short_name:"custard",short_names:["custard"]},{short_name:"candy",short_names:["candy"]},{short_name:"lollipop",short_names:["lollipop"]},{short_name:"chocolate_bar",short_names:["chocolate_bar"]},{short_name:"popcorn",short_names:["popcorn"]},{short_name:"doughnut",short_names:["doughnut"]},{short_name:"cookie",short_names:["cookie"]},{short_name:"beer",short_names:["beer"]},{short_name:"beers",short_names:["beers"]},{short_name:"wine_glass",short_names:["wine_glass"]},{short_name:"cocktail",short_names:["cocktail"]},{short_name:"tropical_drink",short_names:["tropical_drink"]},{short_name:"champagne",short_names:["champagne"]},{short_name:"sake",short_names:["sake"]},{short_name:"tea",short_names:["tea"]},{short_name:"coffee",short_names:["coffee"]},{short_name:"baby_bottle",short_names:["baby_bottle"]},{short_name:"fork_and_knife",short_names:["fork_and_knife"]},{short_name:"knife_fork_plate",short_names:["knife_fork_plate"]}],People:[{short_name:"grinning",short_names:["grinning"]},{short_name:"grimacing",short_names:["grimacing"]},{short_name:"grin",short_names:["grin"]},{short_name:"joy",short_names:["joy"]},{short_name:"smiley",short_names:["smiley"]},{short_name:"smile",short_names:["smile"]},{short_name:"sweat_smile",short_names:["sweat_smile"]},{short_name:"laughing",short_names:["laughing","satisfied"]},{short_name:"innocent",short_names:["innocent"]},{short_name:"wink",short_names:["wink"]},{short_name:"blush",short_names:["blush"]},{short_name:"slightly_smiling_face",short_names:["slightly_smiling_face"]},{short_name:"upside_down_face",short_names:["upside_down_face"]},{short_name:"relaxed",short_names:["relaxed"]},{short_name:"yum",short_names:["yum"]},{short_name:"relieved",short_names:["relieved"]},{short_name:"heart_eyes",short_names:["heart_eyes"]},{short_name:"kissing_heart",short_names:["kissing_heart"]},{short_name:"kissing",short_names:["kissing"]},{short_name:"kissing_smiling_eyes",short_names:["kissing_smiling_eyes"]},{short_name:"kissing_closed_eyes",short_names:["kissing_closed_eyes"]},{short_name:"stuck_out_tongue_winking_eye",short_names:["stuck_out_tongue_winking_eye"]},{short_name:"stuck_out_tongue_closed_eyes",short_names:["stuck_out_tongue_closed_eyes"]},{short_name:"stuck_out_tongue",short_names:["stuck_out_tongue"]},{short_name:"money_mouth_face",short_names:["money_mouth_face"]},{short_name:"nerd_face",short_names:["nerd_face"]},{short_name:"sunglasses",short_names:["sunglasses"]},{short_name:"hugging_face",short_names:["hugging_face"]},{short_name:"smirk",short_names:["smirk"]},{short_name:"no_mouth",short_names:["no_mouth"]},{short_name:"neutral_face",short_names:["neutral_face"]},{short_name:"expressionless",short_names:["expressionless"]},{short_name:"unamused",short_names:["unamused"]},{short_name:"face_with_rolling_eyes",short_names:["face_with_rolling_eyes"]},{short_name:"thinking_face",short_names:["thinking_face"]},{short_name:"flushed",short_names:["flushed"]},{short_name:"disappointed",short_names:["disappointed"]},{short_name:"worried",short_names:["worried"]},{short_name:"angry",short_names:["angry"]},{short_name:"rage",short_names:["rage"]},{short_name:"pensive",short_names:["pensive"]},{short_name:"confused",short_names:["confused"]},{short_name:"slightly_frowning_face",short_names:["slightly_frowning_face"]},{short_name:"white_frowning_face",short_names:["white_frowning_face"]},{short_name:"persevere",short_names:["persevere"]},{short_name:"confounded",short_names:["confounded"]},{short_name:"tired_face",short_names:["tired_face"]},{short_name:"weary",short_names:["weary"]},{short_name:"triumph",short_names:["triumph"]},{short_name:"open_mouth",short_names:["open_mouth"]},{short_name:"scream",short_names:["scream"]},{short_name:"fearful",short_names:["fearful"]},{short_name:"cold_sweat",short_names:["cold_sweat"]},{short_name:"hushed",short_names:["hushed"]},{short_name:"frowning",short_names:["frowning"]},{short_name:"anguished",short_names:["anguished"]},{short_name:"cry",short_names:["cry"]},{short_name:"disappointed_relieved",short_names:["disappointed_relieved"]},{short_name:"sleepy",short_names:["sleepy"]},{short_name:"sweat",short_names:["sweat"]},{short_name:"sob",short_names:["sob"]},{short_name:"dizzy_face",short_names:["dizzy_face"]},{short_name:"astonished",short_names:["astonished"]},{short_name:"zipper_mouth_face",short_names:["zipper_mouth_face"]},{short_name:"mask",short_names:["mask"]},{short_name:"face_with_thermometer",short_names:["face_with_thermometer"]},{short_name:"face_with_head_bandage",short_names:["face_with_head_bandage"]},{short_name:"sleeping",short_names:["sleeping"]},{short_name:"zzz",short_names:["zzz"]},{short_name:"hankey",short_names:["hankey","poop","shit"]},{short_name:"smiling_imp",short_names:["smiling_imp"]},{short_name:"imp",short_names:["imp"]},{short_name:"japanese_ogre",short_names:["japanese_ogre"]},{short_name:"japanese_goblin",short_names:["japanese_goblin"]},{short_name:"skull",short_names:["skull"]},{short_name:"ghost",short_names:["ghost"]},{short_name:"alien",short_names:["alien"]},{short_name:"robot_face",short_names:["robot_face"]},{short_name:"smiley_cat",short_names:["smiley_cat"]},{short_name:"smile_cat",short_names:["smile_cat"]},{short_name:"joy_cat",short_names:["joy_cat"]},{short_name:"heart_eyes_cat",short_names:["heart_eyes_cat"]},{short_name:"smirk_cat",short_names:["smirk_cat"]},{short_name:"kissing_cat",short_names:["kissing_cat"]},{short_name:"scream_cat",short_names:["scream_cat"]},{short_name:"crying_cat_face",short_names:["crying_cat_face"]},{short_name:"pouting_cat",short_names:["pouting_cat"]},{short_name:"raised_hands",short_names:["raised_hands"]},{short_name:"clap",short_names:["clap"]},{short_name:"wave",short_names:["wave"]},{short_name:"+1",short_names:["+1","thumbsup"]},{short_name:"-1",short_names:["-1","thumbsdown"]},{short_name:"facepunch",short_names:["facepunch","punch"]},{short_name:"fist",short_names:["fist"]},{short_name:"v",short_names:["v"]},{short_name:"ok_hand",short_names:["ok_hand"]},{short_name:"hand",short_names:["hand","raised_hand"]},{short_name:"open_hands",short_names:["open_hands"]},{short_name:"muscle",short_names:["muscle"]},{short_name:"pray",short_names:["pray"]},{short_name:"point_up",short_names:["point_up"]},{short_name:"point_up_2",short_names:["point_up_2"]},{short_name:"point_down",short_names:["point_down"]},{short_name:"point_left",short_names:["point_left"]},{short_name:"point_right",short_names:["point_right"]},{short_name:"middle_finger",short_names:["middle_finger","reversed_hand_with_middle_finger_extended"]},{short_name:"raised_hand_with_fingers_splayed",short_names:["raised_hand_with_fingers_splayed"]},{short_name:"the_horns",short_names:["the_horns","sign_of_the_horns"]},{short_name:"spock-hand",short_names:["spock-hand"]},{short_name:"writing_hand",short_names:["writing_hand"]},{short_name:"nail_care",short_names:["nail_care"]},{short_name:"lips",short_names:["lips"]},{short_name:"tongue",short_names:["tongue"]},{short_name:"ear",short_names:["ear"]},{short_name:"nose",short_names:["nose"]},{short_name:"eye",short_names:["eye"]},{short_name:"eyes",short_names:["eyes"]},{short_name:"bust_in_silhouette",short_names:["bust_in_silhouette"]},{short_name:"busts_in_silhouette",short_names:["busts_in_silhouette"]},{short_name:"speaking_head_in_silhouette",short_names:["speaking_head_in_silhouette"]},{short_name:"baby",short_names:["baby"]},{short_name:"boy",short_names:["boy"]},{short_name:"girl",short_names:["girl"]},{short_name:"man",short_names:["man"]},{short_name:"woman",short_names:["woman"]},{short_name:"person_with_blond_hair",short_names:["person_with_blond_hair"]},{short_name:"older_man",short_names:["older_man"]},{short_name:"older_woman",short_names:["older_woman"]},{short_name:"man_with_gua_pi_mao",short_names:["man_with_gua_pi_mao"]},{short_name:"man_with_turban",short_names:["man_with_turban"]},{short_name:"cop",short_names:["cop"]},{short_name:"construction_worker",short_names:["construction_worker"]},{short_name:"guardsman",short_names:["guardsman"]},{short_name:"sleuth_or_spy",short_names:["sleuth_or_spy"]},{short_name:"santa",short_names:["santa"]},{short_name:"angel",short_names:["angel"]},{short_name:"princess",short_names:["princess"]},{short_name:"bride_with_veil",short_names:["bride_with_veil"]},{short_name:"walking",short_names:["walking"]},{short_name:"runner",short_names:["runner","running"]},{short_name:"dancer",short_names:["dancer"]},{short_name:"dancers",short_names:["dancers"]},{short_name:"couple",short_names:["couple","man_and_woman_holding_hands"]},{short_name:"two_men_holding_hands",short_names:["two_men_holding_hands"]},{short_name:"two_women_holding_hands",short_names:["two_women_holding_hands"]},{short_name:"bow",short_names:["bow"]},{short_name:"information_desk_person",short_names:["information_desk_person"]},{short_name:"no_good",short_names:["no_good"]},{short_name:"ok_woman",short_names:["ok_woman"]},{short_name:"raising_hand",short_names:["raising_hand"]},{short_name:"person_with_pouting_face",short_names:["person_with_pouting_face"]},{short_name:"person_frowning",short_names:["person_frowning"]},{short_name:"haircut",short_names:["haircut"]},{short_name:"massage",short_names:["massage"]},{short_name:"couple_with_heart",short_names:["couple_with_heart"]},{short_name:"womans_clothes",short_names:["womans_clothes"]},{short_name:"shirt",short_names:["shirt","tshirt"]},{short_name:"jeans",short_names:["jeans"]},{short_name:"necktie",short_names:["necktie"]},{short_name:"dress",short_names:["dress"]},{short_name:"bikini",short_names:["bikini"]},{short_name:"kimono",short_names:["kimono"]},{short_name:"lipstick",short_names:["lipstick"]},{short_name:"kiss",short_names:["kiss"]},{short_name:"footprints",short_names:["footprints"]},{short_name:"high_heel",short_names:["high_heel"]},{short_name:"sandal",short_names:["sandal"]},{short_name:"boot",short_names:["boot"]},{short_name:"mans_shoe",short_names:["mans_shoe","shoe"]},{short_name:"athletic_shoe",short_names:["athletic_shoe"]},{short_name:"womans_hat",short_names:["womans_hat"]},{short_name:"tophat",short_names:["tophat"]},{short_name:"helmet_with_white_cross",short_names:["helmet_with_white_cross"]},{short_name:"mortar_board",short_names:["mortar_board"]},{short_name:"crown",short_names:["crown"]},{short_name:"school_satchel",short_names:["school_satchel"]},{short_name:"pouch",short_names:["pouch"]},{short_name:"purse",short_names:["purse"]},{short_name:"handbag",short_names:["handbag"]},{short_name:"briefcase",short_names:["briefcase"]},{short_name:"eyeglasses",short_names:["eyeglasses"]},{short_name:"dark_sunglasses",short_names:["dark_sunglasses"]},{short_name:"ring",short_names:["ring"]},{short_name:"closed_umbrella",short_names:["closed_umbrella"]}],Places:[{short_name:"car",short_names:["car","red_car"]},{short_name:"taxi",short_names:["taxi"]},{short_name:"blue_car",short_names:["blue_car"]},{short_name:"bus",short_names:["bus"]},{short_name:"trolleybus",short_names:["trolleybus"]},{short_name:"racing_car",short_names:["racing_car"]},{short_name:"police_car",short_names:["police_car"]},{short_name:"ambulance",short_names:["ambulance"]},{short_name:"fire_engine",short_names:["fire_engine"]},{short_name:"minibus",short_names:["minibus"]},{short_name:"truck",short_names:["truck"]},{short_name:"articulated_lorry",short_names:["articulated_lorry"]},{short_name:"tractor",short_names:["tractor"]},{short_name:"racing_motorcycle",short_names:["racing_motorcycle"]},{short_name:"bike",short_names:["bike"]},{short_name:"rotating_light",short_names:["rotating_light"]},{short_name:"oncoming_police_car",short_names:["oncoming_police_car"]},{short_name:"oncoming_bus",short_names:["oncoming_bus"]},{short_name:"oncoming_automobile",short_names:["oncoming_automobile"]},{short_name:"oncoming_taxi",short_names:["oncoming_taxi"]},{short_name:"aerial_tramway",short_names:["aerial_tramway"]},{short_name:"mountain_cableway",short_names:["mountain_cableway"]},{short_name:"suspension_railway",short_names:["suspension_railway"]},{short_name:"railway_car",short_names:["railway_car"]},{short_name:"train",short_names:["train"]},{short_name:"monorail",short_names:["monorail"]},{short_name:"bullettrain_side",short_names:["bullettrain_side"]},{short_name:"bullettrain_front",short_names:["bullettrain_front"]},{short_name:"light_rail",short_names:["light_rail"]},{short_name:"mountain_railway",short_names:["mountain_railway"]},{short_name:"steam_locomotive",short_names:["steam_locomotive"]},{short_name:"train2",short_names:["train2"]},{short_name:"metro",short_names:["metro"]},{short_name:"tram",short_names:["tram"]},{short_name:"station",short_names:["station"]},{short_name:"helicopter",short_names:["helicopter"]},{short_name:"small_airplane",short_names:["small_airplane"]},{short_name:"airplane",short_names:["airplane"]},{short_name:"airplane_departure",short_names:["airplane_departure"]},{short_name:"airplane_arriving",short_names:["airplane_arriving"]},{short_name:"boat",short_names:["boat","sailboat"]},{short_name:"motor_boat",short_names:["motor_boat"]},{short_name:"speedboat",short_names:["speedboat"]},{short_name:"ferry",short_names:["ferry"]},{short_name:"passenger_ship",short_names:["passenger_ship"]},{short_name:"rocket",short_names:["rocket"]},{short_name:"satellite",short_names:["satellite"]},{short_name:"seat",short_names:["seat"]},{short_name:"anchor",short_names:["anchor"]},{short_name:"construction",short_names:["construction"]},{short_name:"fuelpump",short_names:["fuelpump"]},{short_name:"busstop",short_names:["busstop"]},{short_name:"vertical_traffic_light",short_names:["vertical_traffic_light"]},{short_name:"traffic_light",short_names:["traffic_light"]},{short_name:"checkered_flag",short_names:["checkered_flag"]},{short_name:"ship",short_names:["ship"]},{short_name:"ferris_wheel",short_names:["ferris_wheel"]},{short_name:"roller_coaster",short_names:["roller_coaster"]},{short_name:"carousel_horse",short_names:["carousel_horse"]},{short_name:"building_construction",short_names:["building_construction"]},{short_name:"foggy",short_names:["foggy"]},{short_name:"tokyo_tower",short_names:["tokyo_tower"]},{short_name:"factory",short_names:["factory"]},{short_name:"fountain",short_names:["fountain"]},{short_name:"rice_scene",short_names:["rice_scene"]},{short_name:"mountain",short_names:["mountain"]},{short_name:"snow_capped_mountain",short_names:["snow_capped_mountain"]},{short_name:"mount_fuji",short_names:["mount_fuji"]},{short_name:"volcano",short_names:["volcano"]},{short_name:"japan",short_names:["japan"]},{short_name:"camping",short_names:["camping"]},{short_name:"tent",short_names:["tent"]},{short_name:"national_park",short_names:["national_park"]},{short_name:"motorway",short_names:["motorway"]},{short_name:"railway_track",short_names:["railway_track"]},{short_name:"sunrise",short_names:["sunrise"]},{short_name:"sunrise_over_mountains",short_names:["sunrise_over_mountains"]},{short_name:"desert",short_names:["desert"]},{short_name:"beach_with_umbrella",short_names:["beach_with_umbrella"]},{short_name:"desert_island",short_names:["desert_island"]},{short_name:"city_sunrise",short_names:["city_sunrise"]},{short_name:"city_sunset",short_names:["city_sunset"]},{short_name:"cityscape",short_names:["cityscape"]},{short_name:"night_with_stars",short_names:["night_with_stars"]},{short_name:"bridge_at_night",short_names:["bridge_at_night"]},{short_name:"milky_way",short_names:["milky_way"]},{short_name:"stars",short_names:["stars"]},{short_name:"sparkler",short_names:["sparkler"]},{short_name:"fireworks",short_names:["fireworks"]},{short_name:"rainbow",short_names:["rainbow"]},{short_name:"house_buildings",short_names:["house_buildings"]},{short_name:"european_castle",short_names:["european_castle"]},{short_name:"japanese_castle",short_names:["japanese_castle"]},{short_name:"stadium",short_names:["stadium"]},{short_name:"statue_of_liberty",short_names:["statue_of_liberty"]},{short_name:"house",short_names:["house"]},{short_name:"house_with_garden",short_names:["house_with_garden"]},{short_name:"derelict_house_building",short_names:["derelict_house_building"]},{short_name:"office",short_names:["office"]},{short_name:"department_store",short_names:["department_store"]},{short_name:"post_office",short_names:["post_office"]},{short_name:"european_post_office",short_names:["european_post_office"]},{short_name:"hospital",short_names:["hospital"]},{short_name:"bank",short_names:["bank"]},{short_name:"hotel",short_names:["hotel"]},{short_name:"convenience_store",short_names:["convenience_store"]},{short_name:"school",short_names:["school"]},{short_name:"love_hotel",short_names:["love_hotel"]},{short_name:"wedding",short_names:["wedding"]},{short_name:"classical_building",short_names:["classical_building"]},{short_name:"church",short_names:["church"]},{short_name:"mosque",short_names:["mosque"]},{short_name:"synagogue",short_names:["synagogue"]},{short_name:"kaaba",short_names:["kaaba"]},{short_name:"shinto_shrine",short_names:["shinto_shrine"]}],Activity:[{short_name:"soccer",short_names:["soccer"]},{short_name:"basketball",short_names:["basketball"]},{short_name:"football",short_names:["football"]},{short_name:"baseball",short_names:["baseball"]},{short_name:"tennis",short_names:["tennis"]},{short_name:"volleyball",short_names:["volleyball"]},{short_name:"rugby_football",short_names:["rugby_football"]},{short_name:"8ball",short_names:["8ball"]},{short_name:"golf",short_names:["golf"]},{short_name:"golfer",short_names:["golfer"]},{short_name:"table_tennis_paddle_and_ball",short_names:["table_tennis_paddle_and_ball"]},{short_name:"badminton_racquet_and_shuttlecock",short_names:["badminton_racquet_and_shuttlecock"]},{short_name:"ice_hockey_stick_and_puck",short_names:["ice_hockey_stick_and_puck"]},{short_name:"field_hockey_stick_and_ball",short_names:["field_hockey_stick_and_ball"]},{short_name:"cricket_bat_and_ball",short_names:["cricket_bat_and_ball"]},{short_name:"ski",short_names:["ski"]},{short_name:"skier",short_names:["skier"]},{short_name:"snowboarder",short_names:["snowboarder"]},{short_name:"ice_skate",short_names:["ice_skate"]},{short_name:"bow_and_arrow",short_names:["bow_and_arrow"]},{short_name:"fishing_pole_and_fish",short_names:["fishing_pole_and_fish"]},{short_name:"rowboat",short_names:["rowboat"]},{short_name:"swimmer",short_names:["swimmer"]},{short_name:"surfer",short_names:["surfer"]},{short_name:"bath",short_names:["bath"]},{short_name:"person_with_ball",short_names:["person_with_ball"]},{short_name:"weight_lifter",short_names:["weight_lifter"]},{short_name:"bicyclist",short_names:["bicyclist"]},{short_name:"mountain_bicyclist",short_names:["mountain_bicyclist"]},{short_name:"horse_racing",short_names:["horse_racing"]},{short_name:"man_in_business_suit_levitating",short_names:["man_in_business_suit_levitating"]},{short_name:"trophy",short_names:["trophy"]},{short_name:"running_shirt_with_sash",short_names:["running_shirt_with_sash"]},{short_name:"sports_medal",short_names:["sports_medal"]},{short_name:"medal",short_names:["medal"]},{short_name:"reminder_ribbon",short_names:["reminder_ribbon"]},{short_name:"rosette",short_names:["rosette"]},{short_name:"ticket",short_names:["ticket"]},{short_name:"admission_tickets",short_names:["admission_tickets"]},{short_name:"performing_arts",short_names:["performing_arts"]},{short_name:"art",short_names:["art"]},{short_name:"circus_tent",short_names:["circus_tent"]},{short_name:"microphone",short_names:["microphone"]},{short_name:"headphones",short_names:["headphones"]},{short_name:"musical_score",short_names:["musical_score"]},{short_name:"musical_keyboard",short_names:["musical_keyboard"]},{short_name:"saxophone",short_names:["saxophone"]},{short_name:"trumpet",short_names:["trumpet"]},{short_name:"guitar",short_names:["guitar"]},{short_name:"violin",short_names:["violin"]},{short_name:"clapper",short_names:["clapper"]},{short_name:"video_game",short_names:["video_game"]},{short_name:"space_invader",short_names:["space_invader"]},{short_name:"dart",short_names:["dart"]},{short_name:"game_die",short_names:["game_die"]},{short_name:"slot_machine",short_names:["slot_machine"]},{short_name:"bowling",short_names:["bowling"]}],Flags:[{short_name:"flag-cn",short_names:["flag-cn"]},{short_name:"flag-de",short_names:["flag-de"]},{short_name:"flag-es",short_names:["flag-es"]},{short_name:"flag-fr",short_names:["flag-fr"]},{short_name:"flag-gb",short_names:["flag-gb"]},{short_name:"flag-it",short_names:["flag-it"]},{short_name:"flag-jp",short_names:["flag-jp"]},{short_name:"flag-kr",short_names:["flag-kr"]},{short_name:"flag-ru",short_names:["flag-ru"]},{short_name:"flag-us",short_names:["flag-us"]},{short_name:"flag-ua",short_names:["flag-ua"]},{short_name:"flag-ae",short_names:["flag-ae"]},{short_name:"flag-at",short_names:["flag-at"]},{short_name:"flag-au",short_names:["flag-au"]},{short_name:"flag-be",short_names:["flag-be"]},{short_name:"flag-br",short_names:["flag-br"]},{short_name:"flag-ca",short_names:["flag-ca"]},{short_name:"flag-ch",short_names:["flag-ch"]},{short_name:"flag-cl",short_names:["flag-cl"]},{short_name:"flag-co",short_names:["flag-co"]},{short_name:"flag-dk",short_names:["flag-dk"]},{short_name:"flag-fi",short_names:["flag-fi"]},{short_name:"flag-hk",short_names:["flag-hk"]},{short_name:"flag-id",short_names:["flag-id"]},{short_name:"flag-ie",short_names:["flag-ie"]},{short_name:"flag-in",short_names:["flag-in"]},{short_name:"flag-mo",short_names:["flag-mo"]},{short_name:"flag-mx",short_names:["flag-mx"]},{short_name:"flag-my",short_names:["flag-my"]},{short_name:"flag-nl",short_names:["flag-nl"]},{short_name:"flag-no",short_names:["flag-no"]},{short_name:"flag-nz",short_names:["flag-nz"]},{short_name:"flag-ph",short_names:["flag-ph"]},{short_name:"flag-pl",short_names:["flag-pl"]},{short_name:"flag-pr",short_names:["flag-pr"]},{short_name:"flag-pt",short_names:["flag-pt"]},{short_name:"flag-sa",short_names:["flag-sa"]},{short_name:"flag-se",short_names:["flag-se"]},{short_name:"flag-sg",short_names:["flag-sg"]},{short_name:"flag-vn",short_names:["flag-vn"]},{short_name:"flag-za",short_names:["flag-za"]},{short_name:"flag-kz",short_names:["flag-kz"]},{short_name:"flag-by",short_names:["flag-by"]},{short_name:"flag-il",short_names:["flag-il"]},{short_name:"flag-tr",short_names:["flag-tr"]}]}},init:function(){var e=this;return e.emoji=new EmojiConvertor,e.emoji.allow_native=this.defaults.allowNative,e.emoji.img_set=this.defaults.emojiType,e.emoji.use_sheet=!0,e.emoji.supports_css=!0,e.emoji.img_sets.apple.sheet=this.defaults.emojiSheets.apple,e.popup=document.getElementById("emoji-popup"),e.scroller=e.popup.querySelector("#emoji-scroll-wrapper"),document.body.dataset.wdtEmojiBundle=u.defaults.emojiType,e.popup.querySelector('[data-group-name="People"]').innerHTML=e.emoji.replace_colons(":sunglasses:"),e.popup.querySelector('[data-group-name="Nature"]').innerHTML=e.emoji.replace_colons(":shamrock:"),e.popup.querySelector('[data-group-name="Foods"]').innerHTML=e.emoji.replace_colons(":pizza:"),e.popup.querySelector('[data-group-name="Activity"]').innerHTML=e.emoji.replace_colons(":football:"),e.popup.querySelector('[data-group-name="Places"]').innerHTML=e.emoji.replace_colons(":airplane:"),e.popup.querySelector('[data-group-name="Objects"]').innerHTML=e.emoji.replace_colons(":bulb:"),e.popup.querySelector('[data-group-name="Symbols"]').innerHTML=e.emoji.replace_colons(":heart:"),e.popup.querySelector('[data-group-name="Flags"]').innerHTML=e.emoji.replace_colons(":waving_white_flag:"),e},addEditor:function(e){u.emoji||u.init(),this.popup.parentNode!==e.parentNode&&(e.parentNode.getElementsByClassName("js-emoji-container")[0].appendChild(this.popup),this.addPicker(e))},addPicker:function(e){if(!e.classList.contains("js-picker-ready")){var t=e.parentNode.getElementsByClassName("js-emoji-picker")[0];t.addEventListener("click",u.openPicker),e.parentNode.classList.add("wdt-emoji-picker-parent"),e.classList.add("js-picker-ready"),u.openPicker.call(t,{target:t})}},replaceDefaultEmoji:function(e){return u.emoji||u.init(),u.emoji.replace_unified(e)},openPicker:function(e){u.input=e.target.parentNode.parentNode.parentNode.querySelector("[contenteditable]"),u.popup.classList.add("open"),u.fillPickerPopup(),u.closePickers(),this.classList.add("js-emoji-picker-open")},fillPickerPopup:function(){if(this.popup.classList.contains("ready"))return!1;var e=this.popup.getElementsByClassName("wdt-emoji-sections")[0],t={},a=[];for(var n in u.defaults.emojiData)u.defaults.emojiData.hasOwnProperty(n)&&(i=u.defaults.emojiData[n],t[n]=i);for(var s=Object.keys(t).sort(function(e,t){return u.defaults.sectionOrders[e]<u.defaults.sectionOrders[t]?1:-1}),o=0;o<s.length;o++)a[s[o]]=t[s[o]];for(var r in a)if(a.hasOwnProperty(r)){var i=a[r];if(0<i.length){var l=document.createElement("div"),c=document.createElement("h3"),d=document.createElement("div");for(c.innerHTML=u.defaults.sections[r],c.dataset.emojiGroup=r,d.dataset.emojiGroup=r,d.classList.add("wdt-emoji-list"),l.classList.add("wdt-emoji-section"),o=0;o<i.length;o++){var m=i[o],f=document.createElement("a");f.classList.add("wdt-emoji"),f.dataset.wdtEmojiShortnames=":"+m.short_names.join(": :")+":",f.dataset.wdtEmojiShortname=m.short_name,f.innerHTML=this.emoji.replace_colons(":"+m.short_name+":"),d.appendChild(f)}l.appendChild(c),l.appendChild(d),e.appendChild(l)}}this.popup.classList.add("ready"),u.bindEvents()},close:function(){u.popup.classList.remove("open"),u.closePickers()},closePickers:function(){for(var e=document.getElementsByClassName("js-emoji-picker-open"),t=0;t<e.length;t++)u.closePicker(e[t])},closePicker:function(e){e.classList.remove("js-emoji-picker-open")},bindEvents:function(){for(var t=this,e=t.popup.getElementsByTagName("h3"),a=0;a<e.length;a++)s(e[a]);document.getElementById("emoji-popup-mobile-closer").addEventListener("click",function(){return u.close(),!1}),t.popup.addEventListener("mouseenter",function(){u.emojiPickerHideTimer&&clearTimeout(u.emojiPickerHideTimer)}),t.popup.addEventListener("mouseout",function(e){for(var t=e.relatedTarget;t&&"emoji-popup"!=t.id;)t=t.parentElement;t||(u.emojiPickerHideTimer=setTimeout(function(){u.close()},300))}),i("click",".wdt-emoji-list a.wdt-emoji",function(){r(u.input,t.emoji.colonToUnicode(this.dataset.wdtEmojiShortname));var e=new Event("keyup");return u.input.dispatchEvent(e),!1}),Array.prototype.forEach.call(document.getElementsByClassName("wdt-emoji-tab"),function(e){e.addEventListener("click",function(){var e=this.dataset.groupName,t=u.popup.querySelector('.wdt-emoji-section h3[data-emoji-group="'+e+'"]');return t&&(u.setActiveTab(e),u.scroller.scrollTop=t.getAttribute("data-offset")-t.getBoundingClientRect().height+38),!1})}),n(u.scroller,"mousewheel DOMMouseScroll",function(e){var t=e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail,a=0<=this.scrollTop+this.getBoundingClientRect().height-this.scrollHeight,n=this.scrollTop<=0;(t<0&&a||0<t&&n)&&e.preventDefault()})}},n=function(e,t,a){t=t.split(" ");for(var n=0;n<t.length;n++)e.addEventListener(t[n],a,!1)},s=function(n){var e=u.scroller.getBoundingClientRect(),s=n.getBoundingClientRect().top-e.top,o=u.popup.querySelector("#wdt-emoji-menu-header").getBoundingClientRect().height;n.setAttribute("data-offset",n.offsetTop),u.scroller.addEventListener("scroll",function(){var e=u.scroller.scrollTop;if(n.classList.contains("sticky")&&e<s)n.classList.remove("sticky"),l(n,{top:null}),l(n.parentNode,{"padding-top":null});else if(s<e&&!n.classList.contains("sticky")){for(var t=document.querySelectorAll(".wdt-emoji-section h3"),a=0;a<t.length;a++)t[a].classList.remove("sticky"),l(t[a],{top:null}),l(t[a].parentNode,{"padding-top":null});n.classList.add("sticky"),l(n,{top:o+"px"}),l(n.parentNode,{"padding-top":n.getBoundingClientRect().height+"px"}),u.setActiveTab(n.dataset.emojiGroup)}})};u.setActiveTab=function(e){for(var t=document.getElementsByClassName("wdt-emoji-tab"),a=0;a<t.length;a++)t[a].classList.remove("active");u.popup.querySelector('.wdt-emoji-tab[data-group-name="'+e+'"]').classList.add("active")};var o,t,r=function(e,t){var a;if(e.focus(),t=u.emoji.replace_unified(t),window.getSelection&&0<window.getSelection().rangeCount){var n=window.getSelection();(a=n.getRangeAt(0)).deleteContents();var s=document.createElement("div");s.innerHTML=t;var o=s.firstChild;a.insertNode(s.firstChild),a.startContainer.nextSibling&&"IMG"===a.startContainer.nextSibling.tagName?a.setStartAfter(a.startContainer.nextSibling):Array.prototype.some.call(a.startContainer.children,function(e){return e===o&&(a.setStartAfter(e),!0)}),a.collapse(!0),n.removeAllRanges(),n.addRange(a)}else document.selection&&document.selection.createRange&&((a=document.selection.createRange()).pasteHTML(t),a.collapse(!0))},i=function(e,s,o){document.addEventListener(e,function(e){var t=u.popup.querySelectorAll(s);if(t){for(var a,n=e.target;n&&-1===(a=Array.prototype.indexOf.call(t,n));)n=n.parentElement;-1<a&&o.call(n,e)}})},l=(o=["Webkit","O","Moz","ms"],t={},function(e,t){var a,n,s=arguments;if(2==s.length)for(a in t)void 0!==(n=t[a])&&t.hasOwnProperty(a)&&d(e,a,n);else d(e,s[1],s[2])});function c(e){return e=e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()}),t[e]||(t[e]=function(e){var t=document.body.style;if(e in t)return e;for(var a,n=o.length,s=e.charAt(0).toUpperCase()+e.slice(1);n--;)if((a=o[n]+s)in t)return a;return e}(e))}function d(e,t,a){t=c(t),e.style[t]=a}return u}(),saveAs=saveAs||function(i){if(!(void 0===i||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=i.document,l=function(){return i.URL||i.webkitURL||i},c=e.createElementNS("http://www.w3.org/1999/xhtml","a"),d="download"in c,m=/constructor/i.test(i.HTMLElement)||i.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(e){(i.setImmediate||i.setTimeout)(function(){throw e},0)},_=function(e){setTimeout(function(){"string"==typeof e?l().revokeObjectURL(e):e.remove()},4e4)},h=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},n=function(e,a,t){t||(e=h(e));function n(){!function(e,t,a){for(var n=(t=[].concat(t)).length;n--;){var s=e["on"+t[n]];if("function"==typeof s)try{s.call(e,a||e)}catch(e){u(e)}}}(o,"writestart progress write writeend".split(" "))}var s,o=this,r="application/octet-stream"===e.type;if(o.readyState=o.INIT,d)return s=l().createObjectURL(e),void setTimeout(function(){var e,t;c.href=s,c.download=a,e=c,t=new MouseEvent("click"),e.dispatchEvent(t),n(),_(s),o.readyState=o.DONE});!function(){if((f||r&&m)&&i.FileReader){var t=new FileReader;return t.onloadend=function(){var e=f?t.result:t.result.replace(/^data:[^;]*;/,"data:attachment/file;");i.open(e,"_blank")||(i.location.href=e),e=void 0,o.readyState=o.DONE,n()},t.readAsDataURL(e),o.readyState=o.INIT}(s=s||l().createObjectURL(e),r)?i.location.href=s:i.open(s,"_blank")||(i.location.href=s);o.readyState=o.DONE,n(),_(s)}()},t=n.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,a){return t=t||e.name||"download",a||(e=h(e)),navigator.msSaveOrOpenBlob(e,t)}:(t.abort=function(){},t.readyState=t.INIT=0,t.WRITING=1,t.DONE=2,t.error=t.onwritestart=t.onprogress=t.onwrite=t.onabort=t.onerror=t.onwriteend=null,function(e,t,a){return new n(e,t||e.name||"download",a)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);function Timer(e,t){this.time=0,this.item=null,this.items=[],this.format=e,this.callback=t,this.loop=function(){},this.onStart=function(){},this.stop=function(){this.timer_id&&(clearTimeout(this.timer_id),this.timer_id=null)};var a=this,n={};function s(){if(n.total=n.seconds=--a.time,n.seconds=n.seconds<0?0:n.seconds,n.text="",n.days=Math.floor(n.seconds/86400),n.hours=Math.floor(n.seconds/3600),n.seconds-=3600*n.hours,n.minutes=Math.floor(n.seconds/60),n.seconds-=60*n.minutes,a.format?a.format(n):Timer.FORMATS.default(n),a.item)a.item.textContent=n.text;else for(var e=0;e<a.items.length;e++)a.items[e]&&(a.items[e].textContent=n.text);a.time<=0?a.callback():(a.loop(n),a.timer_id=setTimeout(s,1e3))}this.start=function(e){this.stop(),0<(this.time=e)?(this.onStart(),s()):this.callback()}}"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs}),Timer.FORMATS={default:function(e){86400<=e.total?(e.hours-=24*e.days,e.text+="".concat(e.days," ").concat(sklonen(e.days,"день","дня","дней")," "),e.text+="".concat(e.hours," ч.")):e.total<3600?(e.text+="".concat(e.minutes," ").concat(sklonen(e.minutes,"минута","минуты","минут")," "),e.text+="".concat(e.seconds," ").concat(sklonen(e.seconds,"секунда","секунды","секунд"))):(e.text+="".concat(e.hours," ").concat(sklonen(e.hours,"час","часа","часов")," "),e.text+="".concat(e.minutes," ").concat(sklonen(e.minutes,"минута","минуты","минут")))},short:function(e){return e.hours<10&&(e.hours="0".concat(e.hours)),e.minutes<10&&(e.minutes="0".concat(e.minutes)),e.seconds<10&&(e.seconds="0".concat(e.seconds)),e.text+="".concat(e.hours,":"),e.text+="".concat(e.minutes,":"),e.text+=e.seconds,e.text}};var AudienceFilters={LIST:null,LOGICAL:{AND:1,OR:2},FILTER_TYPES:{STRING:1,NUMBER:3,DATE:4,SELECT:5,CUSTOM_SELECT:6,VARIABLE:7},BDATE_TYPE_ID:6,CURRENT_DATE_TYPE_ID:14,VARIABLE_TYPE_ID:15,getFilters:function(e){var t=AudienceFilters.LIST;return t=e?t.filter(function(e){return 0!=e.filter_type}):t.filter(function(e){return 2!=e.filter_type})},initFilters:function(t,a,e){AudienceFilters.addFilterBtnListener(t,e),AudienceFilters.loadFilters(function(){a();var e=$(t);e.on("input",".js-custom-select-search",function(){var t=this.value.toLowerCase().trim();""===t?Array.prototype.forEach.call(this.parentNode.nextElementSibling.children,function(e){e.style.display=""}):Array.prototype.forEach.call(this.parentNode.nextElementSibling.children,function(e){~e.textContent.toLowerCase().indexOf(t)?e.style.display="":e.style.display="none"})}),e.on("change",".js-condition-type",function(){var e=this.parentNode.nextElementSibling.getElementsByClassName("js-filter-by-date")[0];if(e)if(1==this.options[this.selectedIndex].getAttribute("data-range"))e.picker.set("mode","range");else{e.picker.set("mode","single");var t=e.picker.input.value.replace(/to/,"—");t=t.split("—")[0],e.picker.setDate(t,!0)}}),e.on("change",".js-condition-type",function(){var e=this.parentNode.nextElementSibling.getElementsByClassName("js-filter-by-date")[0];if(e)if(1==this.options[this.selectedIndex].getAttribute("data-range"))e.picker.set("mode","range");else{e.picker.set("mode","single");var t=e.picker.input.value.replace(/to/,"—");t=t.split("—")[0],e.picker.setDate(t,!0)}}),e.on("click",".js-remove-filter-row",function(){this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode)})})},newFiltersList:function(e,t){var a=AudienceFilters,n=AudienceFilters.getFilters(t),s=e.getElementsByClassName("js-filter-type")[0];s.innerHTML=a.getOptions(n),s.setAttribute("data-filter",t),s.addEventListener("change",a.filterTypeOnChange),AudienceFilters.addDatePicker(),triggerEvent(s,"change")},existingFiltersList:function(e,t){var m=AudienceFilters,a=AudienceFilters.getFilters(t),n=m.getOptions(a);Array.prototype.forEach.call(e.getElementsByClassName("js-filter-type"),function(c){c.innerHTML=n,c.setAttribute("data-filter",t),c.addEventListener("change",m.filterTypeOnChange);var d=c.getAttribute("data-selected");Array.prototype.some.call(c.options,function(e,t){if(e.getAttribute("data-id")!=d)return!1;c.selectedIndex=t,m.filterTypeOnChange.call(c);var a=c.parentNode.parentNode,n=a.getElementsByClassName("js-condition-type")[0],s=a.getElementsByClassName("js-filter-value-container")[0].firstElementChild,o=c.getAttribute("data-value");if(AudienceFilters.setSelectedOption(n,c.getAttribute("data-condition")),"INPUT"===s.tagName)if(s.classList.contains("js-filter-by-date")){AudienceFilters.addDatePicker(s),1<(o=o.split(",")).length&&s.picker.set("mode","range");for(var r=0;r<o.length;r++)o[r]=new Date(1e3*o[r]);s.picker.setDate(o,!0)}else s.value=o;else if("SELECT"===s.tagName)AudienceFilters.setSelectedOption(s,o);else if(s.classList.contains("js-dropdown-wrapper")){var i=o.split(","),l=s.getElementsByClassName("js-custom-select-options")[0].children;Array.prototype.forEach.call(l,function(e){~i.indexOf(e.getAttribute("data-id"))&&e.click()})}return!0})}),Array.prototype.forEach.call(e.getElementsByClassName("js-logical-operator"),function(e){e.addEventListener("change",function(){1==this.options[this.selectedIndex].getAttribute("data-id")?this.parentNode.parentNode.classList.remove("options-row__margin"):this.parentNode.parentNode.classList.add("options-row__margin")})}),Array.prototype.forEach.call(e.getElementsByClassName("js-empty-filter-select"),function(e){triggerEvent(e,"change")})},fillFilterSelect:function(e){var t=AudienceFilters,a=AudienceFilters.getFilters(!0),n=t.getOptions(a),s=e.getElementsByClassName("js-filter-type")[0];s.innerHTML=n,s.setAttribute("data-filter","true"),s.addEventListener("change",t.filterTypeOnChange)},setSelectedOption:function(a,n){Array.prototype.some.call(a.options,function(e,t){return e.getAttribute("data-id")==n&&(a.selectedIndex=t,!0)})},parseFilters:function(e){var c=[];return Array.prototype.forEach.call(e,function(e){var t=e.getElementsByClassName("js-filter-type")[0],a=e.getElementsByClassName("js-logical-operator")[0],n=e.getElementsByClassName("js-condition-type")[0],s=e.getElementsByClassName("js-filter-value-container")[0],o={condition_type:null,variable_id:null};o.type=t.options[t.selectedIndex].getAttribute("data-id"),o.type==AudienceFilters.VARIABLE_TYPE_ID&&(o.variable_id=e.getElementsByClassName("js-variable-name")[0].getAttribute("data-variable-id")),o.logic_operator=a?a.options[a.selectedIndex].getAttribute("data-id"):AudienceFilters.LOGICAL.AND,n.parentNode.classList.contains("hidden")?o.condition_type=n.parentNode.getAttribute("data-id"):o.condition_type=n.options[n.selectedIndex].getAttribute("data-id");var r=s.firstElementChild;if("INPUT"===r.tagName)o.value=r.value.trim();else if("SELECT"===r.tagName)o.value=r.options[r.selectedIndex].getAttribute("data-id");else if(r.classList.contains("js-dropdown-wrapper")){var i=r.querySelectorAll("b[data-id]"),l=Array.prototype.map.call(i,function(e){return e.getAttribute("data-id")});if(!l.length||l.length==s.getElementsByClassName("js-custom-select-options")[0].children.length)return!0;o.value=l.join(",")}else r.classList.contains("js-filter-by-date")&&(o.value=r.value);c.push(o)}),c},addFilterBtnListener:function(e,i){e.addEventListener("click",function(e){if(e.target.classList.contains("js-add-filter-row-btn")){var t=e.target,a=AudienceFilters,n=AudienceFilters.getFilters(i),s=document.createElement("div");s.classList.add("options-row","js-filter-row");var o='<div class="select-wrapper">\n            <select class="form-control js-logical-operator"><option data-id="'.concat(a.LOGICAL.AND,'">И</option><option data-id="').concat(a.LOGICAL.OR,'">Или</option></select>')+"</div>";this.parentNode.previousElementSibling||(o='<div class="empty-option"><input class="form-control disabled" disabled="" value="Если" type="text"></div>'),s.innerHTML="".concat(o,'<div class="select-wrapper max-width">\n                    <select class="form-control js-filter-type">').concat(a.getOptions(n),'</select>\n                    </div>\n                    <div class="svp-variables cf-input js-filter-variable-name js-variable-input-space hidden">\n                <div class="cvp-input-box">\n                    <div class="cvp-input-box__design-input-wrapper">\n                        <div class="cvp-input js-no-line-break js-variable-name js-contenteditable" spellcheck="false" placeholder="Введите переменную" contenteditable="true"></div>\n                        <div class="sk left">{{</div>\n                        <div class="sk right">}}</div>\n                    </div></div></div>\n                    <div class="select-wrapper select-wrapper--options">\n                        <select class="form-control js-condition-type">').concat(a.getOptions(n[0].conditions),'</select>\n                    </div>\n                    <div class="js-filter-value-container">').concat(a.getValueContainer(n[0]),'</div>\n                    <div>\n                        <button class="delete-btn js-remove-filter-row"></button>\n                    </div>');var r=s.getElementsByClassName("js-filter-type")[0];r.setAttribute("data-filter",i),r.addEventListener("change",AudienceFilters.filterTypeOnChange),a.addFilterRowListeners(s,t,i)}})},addFilterRowListeners:function(e,t){if(t.parentNode.previousElementSibling){var a=e.getElementsByClassName("js-logical-operator")[0];a&&a.addEventListener("change",function(){1==this.options[this.selectedIndex].getAttribute("data-id")?this.parentNode.parentNode.classList.remove("options-row__margin"):this.parentNode.parentNode.classList.add("options-row__margin")})}t.parentNode.parentNode.insertBefore(e,t.parentNode),triggerEvent(t.parentNode.previousElementSibling.getElementsByClassName("js-filter-type")[0],"change")},getOptions:function(e){var a="",n="";return e.forEach(function(e,t){void 0!==e.date_range&&(n='data-range="'.concat(e.date_range,'"')),a+='<option data-id="'.concat(e.id,'" value="').concat(t,'" ').concat(n,">").concat(e.name,"</option>")}),a},getList:function(e){var t="";return e.forEach(function(e){t+='<li data-id="'.concat(e.id,'">').concat(e.name,"</li>")}),t},getValueContainer:function(e){var t=AudienceFilters.FILTER_TYPES;switch(parseInt(e.type)){case t.STRING:case t.NUMBER:return'<input class="form-control" placeholder="'.concat(e.placeholder,'" type="text">');case t.DATE:var a="";return e.id==AudienceFilters.BDATE_TYPE_ID?a="js-bday":e.id==AudienceFilters.CURRENT_DATE_TYPE_ID&&(a="js-current-date"),'<input class="form-control js-filter-date-picker '.concat(a,'" placeholder="').concat(e.placeholder,'" type="text">');case t.SELECT:var n='<select class="form-control">';return n+=AudienceFilters.getOptions(e.values),n+="</select>";case t.CUSTOM_SELECT:var s="";return 10<e.values.length&&(s='<div><input class="js-custom-select-search dropdown__search" placeholder="Найти страну"></div>'),"".concat('<div class="dropdown-wrapper js-dropdown-wrapper">       <button type="button" class="dropdown-toggle form-control" role="button" title="" aria-expanded="false" data-tooltip>           <span class="filter-option js-filter-dropdown-active-options" data-placeholder="').concat(e.placeholder,'"><b class="js-dropdown-placeholder">').concat(e.placeholder,"</b></span>")+'           <span class="arrow"></span>       </button><div class="dropdown-menu" data-tooltip-ignore>'+"       ".concat(s,'<ul class="js-custom-select-options">').concat(AudienceFilters.getList(e.values),"</ul>")+"       </div>   </div>";case t.VARIABLE:return'<input class="form-control" placeholder="'.concat(e.placeholder,'" type="text">')}},addDatePicker:function(e){var t=e||document.getElementsByClassName("js-filter-date-picker")[0];if(t){var a;t.classList.remove("js-filter-date-picker"),t.classList.add("js-filter-by-date");var n=function(e,t,a){var n=a.altInput.value.replace(/to/,"—");a.altInput.value=formatMonth(n)};if(t.classList.contains("js-bday")){var s=(new Date).getFullYear();a={altInput:!0,altFormat:"j F",dateFormat:"d.m.Y",enable:[{from:"01.01.".concat(s),to:"31.12.".concat(s)}],onChange:n}}else a={altInput:!0,altFormat:"j F, Y H:i",dateFormat:"H:i d.m.Y",enableTime:!0,time_24hr:!0,onChange:n},t.classList.contains("js-current-date")||(a.maxDate=new Date);t.picker=flatpickr(t,a)}},filterTypeOnChange:function(){var e=this.options[this.selectedIndex].value,t=AudienceFilters.getFilters("undefined"!==this.getAttribute("data-filter"))[e],a=this.parentNode.parentNode,n=a.getElementsByClassName("js-condition-type")[0],s=t.conditions;n.parentNode.parentNode.classList.remove("js-wide-filter-type"),null===s[0].name?(n.parentNode.classList.add("hidden"),n.parentNode.setAttribute("data-id",s[0].id),t.type==AudienceFilters.FILTER_TYPES.CUSTOM_SELECT&&n.parentNode.parentNode.classList.add("js-wide-filter-type")):(n.parentNode.classList.remove("hidden"),1===s[0].name.length?n.parentNode.classList.remove("text"):n.parentNode.classList.add("text"),n.innerHTML=AudienceFilters.getOptions(s)),t.type==AudienceFilters.FILTER_TYPES.VARIABLE?a.getElementsByClassName("js-filter-variable-name")[0].classList.remove("hidden"):a.getElementsByClassName("js-filter-variable-name")[0].classList.add("hidden");var o=a.getElementsByClassName("js-filter-value-container")[0];o.innerHTML=AudienceFilters.getValueContainer(t),"SELECT"===o.firstElementChild.tagName?o.classList.add("select-wrapper"):(o.classList.remove("select-wrapper"),AudienceFilters.addDatePicker())},loadFilters:function(t){AudienceFilters.LIST?t():(getJSON("/ajax/get/bot/vk_filters",function(e){e.error||(AudienceFilters.LIST=e,t())}),document.body.addEventListener("click",function(e){var t,a=e.target;if("LI"!==a.tagName||!a.parentNode.classList.contains("js-custom-select-options"))return!1;var n=a.parentNode.parentNode.previousElementSibling.getElementsByClassName("js-filter-dropdown-active-options")[0];if(a.classList.contains("js-selected")){if(a.classList.remove("js-selected"),(t=n.querySelector('[data-id="'.concat(a.getAttribute("data-id"),'"]'))).nextElementSibling?n.removeChild(t.nextElementSibling):t.previousElementSibling&&n.removeChild(t.previousElementSibling),n.removeChild(t),0==n.children.length){var s=document.createElement("b");s.textContent=n.getAttribute("data-placeholder"),s.classList.add("js-dropdown-placeholder"),n.appendChild(s)}}else{if(a.classList.add("js-selected"),n.firstElementChild.classList.contains("js-dropdown-placeholder")&&n.removeChild(n.firstElementChild),n.children.length%2==1){var o=document.createElement("b");o.classList.add("js-dropdown-list-comma"),o.textContent=", ",n.appendChild(o)}(t=document.createElement("b")).setAttribute("data-id",a.getAttribute("data-id")),t.textContent=a.textContent,n.appendChild(t)}}))}},FilesLibrary={getRemodal:function(){return document.getElementById("files-library-modal")},getBotId:function(){return FilesLibrary.getRemodal().querySelector("#community-selector-container").getAttribute("data-id")},bindScrollEvent:function(a,n){if(!a.classList.contains("js-on-scroll")){a.classList.add("js-on-scroll");var s=FilesLibrary.getRemodal();a.parentNode.addEventListener("scroll",function(){if(!a.classList.contains("js-loading-items")&&this.scrollTop+350>=this.scrollHeight-this.clientHeight){a.classList.add("js-loading-items");var e=n.getAttribute("data-page");n.setAttribute("data-page",++e);var t={offset:a.lastElementChild.getAttribute("data-id"),page:e,counters:0};s.classList.contains("js-reply-attaching")&&(t.reply_id=s.getAttribute("data-id")),t.type=s.getElementsByClassName("js-files-tab active")[0].getAttribute("data-item"),FilesLibrary.get(s,t)}})}},setCounters:function(e,t,a){var n=0;for(var s in t)if(t.hasOwnProperty(s)){var o=t[s];n+=+o;var r=e.querySelector('.js-files-tab[data-item="'.concat(s,'"]'));r.getElementsByClassName("js-files-count")[0].innerHTML="".concat(o," <span>").concat(sklonen(o,"файл","файла","файлов"),"</span>"),a(s,o,r)}var i=e.querySelector("#active-bot-files-count");i.textContent="".concat(n," ").concat(sklonen(n,"файл","файла","файлов")),i.setAttribute("data-count",n)},getFiles:function(e,t){e.bot_id=FilesLibrary.getBotId(),e.for=BotConstructor.getForParam(),getJSON("/ajax/get/bot/files_library",e,function(e){e.error||t(e)})},load:function(s,a,n){void 0===a&&(a=1);var e=s.getAttribute("data-id");FilesLibrary.getFiles({reply_id:e,counters:1,type:a},function(e){FilesLibrary.setCounters(s,e.counters,function(e,t,a){if(30<t){var n=s.querySelector('.js-tab-content[data-tab="'.concat(e,'"]'));FilesLibrary.bindScrollEvent(n,a)}}),-1==a&&(a=0);var t=s.querySelector('[data-tab="'.concat(a,'"]'));void 0!==e.view&&(t.innerHTML=e.view),""!==e.view?t.nextElementSibling.classList.add("hidden"):t.nextElementSibling.classList.remove("hidden"),n&&($(s).remodal().open(),s.classList.remove("hidden"))}),FilesLibrary.bindEvents(s)},bindEvents:function(_){if(!_.classList.contains("js-inited")){_.classList.add("js-inited"),new Sortable(document.getElementById("reply-attachments-content-tab"),{group:{name:1,pull:!1,put:!1},animation:200,delay:15,touchStartThreshold:2,fallbackTolerance:2,forceFallback:!0,ghostClass:"js-sortable-ghost",chosenClass:"js-sortable-chosen",dragClass:"js-sortable-drag",onStart:function(e){e.item.classList.add("js-dragged")},onEnd:function(e){if(e.oldIndex!==e.newIndex){var t=_.getAttribute("data-id");$.post("/ajax/bot/reply/move_attachment",{from:e.oldIndex,to:e.newIndex,reply_id:t})}setTimeout(function(){e.item.classList.remove("js-dragged")},30)}});var e=!1;_.addEventListener("mousedown",function(){e=!0}),_.addEventListener("mouseup",function(){e=!1}),$(_).on("mouseenter",".js-attachment-item",function(){e&&this.parentNode.classList.contains("js-select-mode")&&!this.classList.contains("js-selected")&&this.click()}),$(_).on("click","#files-remodal-instruction-btn, .files-remodal-instruction-link",function(){var e=_.querySelector("#files-remodal-instruction-container");e.classList.add("active"),_.classList.add("js-full-height"),_.classList.contains("js-images-loaded")||Array.prototype.forEach.call(e.getElementsByTagName("img"),function(e){e.setAttribute("src",e.getAttribute("data-src"))})}),_.querySelector("#files-remodal-close-instruction").addEventListener("click",function(){this.parentNode.parentNode.classList.remove("active"),_.classList.remove("js-full-height")}),_.querySelector("#upload-bot-files-btn").addEventListener("click",function(){var e=document.getElementById("files-library-community-selector").firstElementChild.getAttribute("data-id");$.post("/ajax/bot/files_library/uploading",{id:e})}),Array.prototype.forEach.call(_.getElementsByTagName("input"),function(a){var e=a.parentNode.parentNode.parentNode.parentNode.getElementsByClassName("js-tab-content")[0];if(a.parentNode.parentNode.parentNode.classList.contains("js-video-search-container")){var n=FilesLibrary.getBotId(),s=_.querySelector('[data-tab="2"]');a.addEventListener("input",function(){var e=a.value.trim();if(""!==e)delayCallback(function(){getText("/ajax/get/bot/files_library/video",{value:e,bot_id:n},function(e){"error"!==e&&(""!==(s.innerHTML=e)?s.nextElementSibling.classList.add("hidden"):s.nextElementSibling.classList.remove("hidden"))})},200);else{s.classList.add("js-loading-items");var t={offset:0,page:0,counters:0};_.classList.contains("js-reply-attaching")&&(t.reply_id=_.getAttribute("data-id")),t.type=_.getElementsByClassName("js-files-tab active")[0].getAttribute("data-item"),FilesLibrary.get(_,t)}})}else addSearchInput(a,e.children)}),document.getElementById("attachments-num-select").addEventListener("click",function(e){var t=e.target;if("LI"===t.tagName&&!t.classList.contains("active")){this.parentNode.classList.remove("active");var a=t.getAttribute("data-id");t.parentNode.getElementsByClassName("active")[0].classList.remove("active"),t.classList.add("active"),this.previousElementSibling.textContent=t.textContent;var n=BotConstructor.getForParam();$.post("/ajax/bot/reply/attachments_num",{id:a,reply_id:_.getAttribute("data-id"),for:n})}}),Array.prototype.forEach.call(_.getElementsByClassName("js-files-tab"),function(e){e.addEventListener("click",function(){if(!this.classList.contains("js-loaded")){this.classList.add("js-loaded");var e={type:this.getAttribute("data-item"),counters:0};0==e.type&&(e.reply_id=_.getAttribute("data-id")),_.classList.contains("js-reply-attaching")&&(e.reply_id=_.getAttribute("data-id")),FilesLibrary.get(_,e)}_.querySelector("#files-remodal-tab-title").textContent=this.getAttribute("data-title")})}),Array.prototype.forEach.call(_.getElementsByClassName("js-select-all-btn"),function(e){e.addEventListener("click",function(){var e=this.parentNode.parentNode.nextElementSibling.getElementsByClassName("js-attachment-item");Array.prototype.forEach.call(e,function(e){e.classList.add("js-selected")}),this.parentNode.getElementsByClassName("js-selected-items-counter")[0].textContent=e.length})}),Array.prototype.forEach.call(_.getElementsByClassName("js-select-mode-btn"),function(e){e.addEventListener("click",function(){this.classList.add("hidden"),this.parentNode.parentNode.nextElementSibling.classList.add("js-select-mode"),Array.prototype.forEach.call(this.parentNode.getElementsByClassName("js-select-mode-elem"),function(e){e.classList.remove("hidden")})}),e.nextElementSibling.addEventListener("click",function(){var e=this.parentNode.parentNode.nextElementSibling;e.classList.remove("js-select-mode"),Array.prototype.slice.call(e.getElementsByClassName("js-selected")).forEach(function(e){e.classList.remove("js-selected")}),this.parentNode.getElementsByClassName("js-selected-items-counter")[0].textContent=0,this.previousElementSibling.classList.remove("hidden"),Array.prototype.forEach.call(this.parentNode.getElementsByClassName("js-select-mode-elem"),function(e){e.classList.add("hidden")})}),e.parentNode.getElementsByClassName("js-selected-items-counter")[0].parentNode.addEventListener("click",function(){var s=this,o=s.parentNode.parentNode.nextElementSibling,r=o.getElementsByClassName("js-selected");0<r.length&&alertify.okBtn("Удалить").cancelBtn("Отмена").confirm("Удалить выбранные файлы?",function(){var n=Array.prototype.map.call(r,function(e){return e.getAttribute("data-id")}),e=FilesLibrary.getBotId();$.post("/ajax/bot/files_library/remove",{items:n,bot_id:e},function(e){if(!e.error){for(;0<r.length;)r[0].parentNode.removeChild(r[0]);var t=o.parentNode.parentNode.parentNode.previousElementSibling.querySelector('.js-files-tab[data-id="'.concat(o.getAttribute("data-tab"),'"]')).getElementsByClassName("js-files-count")[0];t.firstChild.textContent-=n.length,t.firstElementChild.textContent=sklonen(t.firstChild.textContent," файл"," файла"," файлов"),s.firstElementChild.textContent-=n.length;var a=1<n.length?"Файлы удалены":"Файл удалён";alertify.success(a)}})})})}),$(document.body).on("closed","#files-library-modal",function(){var e=document.getElementById("reply-attachments-tab");e.classList.remove("js-loaded"),e.classList.add("hidden"),Array.prototype.forEach.call(_.getElementsByClassName("js-cancel-select-mode"),function(e){e.click()}),FilesLibrary.getRemodal().classList.remove("js-reply-attaching"),document.getElementById("reply-attachments-content-tab").innerHTML="",_.querySelector("#files-remodal-close-instruction").parentNode.parentNode.classList.remove("active"),_.classList.remove("js-full-height")});var s=_.querySelector("#files-library-community-selector");_.addEventListener("click",function(e){var a=e.target;if(a.classList.contains("js-remove-file")||a.parentNode&&a.parentNode.classList.contains("js-remove-file")){var t=a.parentNode.getAttribute("data-id"),n=s.firstElementChild.getAttribute("data-id");$.post("/ajax/bot/files_library/remove",{items:[t],bot_id:n},function(e){if(!e.error){var t=_.getElementsByClassName("js-files-tab active")[0].getElementsByClassName("js-files-count")[0].firstChild;t.textContent--,t.nextElementSibling.textContent=sklonen(parseInt(t.textContent),"файл","файла","файлов"),a.parentNode.parentNode.removeChild(a.parentNode)}})}}),_.querySelector("#update-files-library").addEventListener("click",function(){if(this.classList.contains("active"))return!1;var n=_.getElementsByClassName("js-files-tab active")[0],e=n.getAttribute("data-item"),a=n.getAttribute("data-item"),t=_.getAttribute("data-id"),s=this;s.classList.add("active"),FilesLibrary.getFiles({counters:1,type:e,reply_id:t},function(e){if(!e.error){FilesLibrary.setCounters(_,e.counters,function(e,t,a){a.setAttribute("data-page",0),a!==n&&a.classList.remove("js-loaded")}),document.getElementById("reply-attachments-tab").setAttribute("data-page",0);var t=_.querySelector('[data-tab="'.concat(a,'"]'));t.classList.remove("js-loading-items"),t.innerHTML=e.view,0==a||_.classList.contains("js-reply-attaching")||t.parentNode.getElementsByClassName("js-cancel-select-mode")[0].click(),alertify.success("Обновлено")}setTimeout(function(){s.classList.remove("active")},1e3)})}),$(_).on("click",".js-attachment-item",function(){if(this.parentNode.classList.contains("js-select-mode")&&!this.classList.contains("js-dragged")){this.classList.toggle("js-selected");var e=document.getElementById("reply-attachments-count"),t=e.textContent.split(" ")[0],a=this.classList.contains("js-selected");a?("reply-attachments-content-tab"!==this.parentNode.id&&this.parentNode.previousElementSibling.firstElementChild.lastElementChild.firstElementChild.textContent++,++t):("reply-attachments-content-tab"!==this.parentNode.id&&this.parentNode.previousElementSibling.firstElementChild.lastElementChild.firstElementChild.textContent--,--t),e.textContent="".concat(t," ").concat(sklonen(t,"файл","файла","файлов"));var n=_.getAttribute("data-id");if(null!==n){var s=BotConstructor.wideColumn.querySelector('.js-content[data-id="'.concat(n,'"]'))||BotConstructor.wideColumn.querySelector('.js-block-wrapper[data-id="'.concat(n,'"]')).querySelector(".js-content");if(_.classList.contains("js-reply-attaching")){var o=s.nextElementSibling.getElementsByClassName("js-reply-attachments js-settings")[0];if(a){var r=document.getElementById("reply-attachments-content-tab");r.insertAdjacentHTML("beforeEnd",this.outerHTML),r.nextElementSibling.classList.add("hidden"),o.classList.add("active"),o.firstElementChild.classList.remove("hidden"),o.firstElementChild.textContent=t,o.parentNode.parentNode.parentNode.classList.add("js-pointed")}else{if("reply-attachments-content-tab"==this.parentNode.id){var i=_.querySelector('.js-attachment-item[data-id="'.concat(this.getAttribute("data-id"),'"]'));i&&i.classList.remove("js-selected")}var l=document.getElementById("reply-attachments-content-tab"),c=l.querySelector('.js-attachment-item[data-id="'.concat(this.getAttribute("data-id"),'"]'));c&&l.removeChild(c),0===l.children.length&&l.nextElementSibling.classList.remove("hidden"),t?o.firstElementChild.textContent=t:(o.classList.remove("active"),o.firstElementChild.classList.add("hidden"),BotConstructor.checkReplyPointed(s.nextElementSibling))}var d=_.querySelector("#files-library-community-selector").firstElementChild.getAttribute("data-id"),m=this.getAttribute("data-id"),f=_.getAttribute("data-id"),u=BotConstructor.getForParam();$.post("/ajax/bot/reply/attach_file",{bot_id:d,id:m,reply_id:f,for:u})}}}})}},get:function(n,s){FilesLibrary.getFiles(s,function(e){var t=n.querySelector('[data-tab="'.concat(s.type,'"]'));if(0==e.page?(t.innerHTML=e.view,""!==e.view?(t.classList.remove("js-loading-items"),t.nextElementSibling.classList.add("hidden")):t.nextElementSibling.classList.remove("hidden")):(t.insertAdjacentHTML("beforeend",e.view),""!==e.view&&t.classList.remove("js-loading-items")),void 0!==e.count){var a=n.querySelector("#reply-attachments-count");a.textContent="".concat(e.count," ").concat(sklonen(e.count,"файл","файла","файлов")),30<e.count&&FilesLibrary.bindScrollEvent(document.getElementById("reply-attachments-content-tab"),a.parentNode.parentNode)}e.num_id&&document.getElementById("attachments-num-select").querySelector('[data-id="'.concat(e.num_id,'"]')).click()})}},Mailing={LOGICAL:{AND:1,OR:2},FILTER_TYPES:{STRING:1,NUMBER:3,DATE:4,SELECT:5,CUSTOM_SELECT:6},ACTIONS:{CREATE_SEGMENT:1,EDIT_SEGMENT:2,CREATE_MAILING:3,EDIT_MAILING:4},BDATE_TYPE_ID:6,addSegmentPageHandlers:function(o){Emoji.get(),document.getElementById("segment-users-import").addEventListener("click",function(e){var t=e.target;if(t.classList.contains("js-segment")){var a=-1*t.getAttribute("data-type"),n=document.getElementById("import-users-".concat(t.getAttribute("data-id")).concat(a));t.checked?n.nextElementSibling.classList.add("disabled"):n.nextElementSibling.classList.remove("disabled")}}),document.getElementsByClassName("js-esc-key")[0].addEventListener("click",function(){BotConstructor.afterMove=function(){BotConstructor.afterMove=function(){},document.getElementById("mailing-page-tabs-list").querySelector('[data-id="2"]').click()}}),o._num=0,o._count=0;var r=document.getElementById("import-users-attached-files-list");r.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("js-remove-file")){t.parentNode.parentNode.removeChild(t.parentNode);var a=t.getAttribute("data-num");o._count--,o.files.forEach(function(e,t){o.files[t].id==a&&o.files.splice(t,1)})}}),document.getElementById("import-users-files").addEventListener("change",function(){try{Array.prototype.forEach.call(this.files,function(s){if(s.size<3145728){if(5==o._count)throw alertify.error("Не больше 5 файлов"),new Error;var e=new FileReader;e.onload=function(e){o._num++,o._count++;var t=e.target.result,a=((t||"").match(/(?!0)\d+/g)||[]).length,n=document.createElement("li");n.innerHTML='<div class="name">'.concat(s.name," <span>").concat(a," ").concat(sklonen(a,"подписчик","подписчика","подписчиков"),"</span>")+'</div><button class="cross-btn js-remove-file" data-num="'.concat(o._num,'"><span class="text-tooltip text-tooltip--right">')+"Удалить файл</span></button>",r.appendChild(n),o.files.push({id:o._num,name:s.name,data:t})},e.readAsText(s,"UTF-8")}else alertify.error("Максимальный размер файла 3 мб")})}catch(e){}}),document.getElementById("checkbox-include-users").addEventListener("change",function(){this.checked||Array.prototype.forEach.call(this.parentNode.getElementsByTagName("input"),function(e){e.checked&&e.click()})}),document.getElementById("checkbox-exclude-users").addEventListener("change",function(){this.checked||Array.prototype.forEach.call(this.parentNode.getElementsByTagName("input"),function(e){e.checked&&e.click()})})},createSegmentAction:function(){var a={files:[]},e=document.getElementsByClassName("js-audience-filters-list")[0];AudienceFilters.initFilters(e,function(){AudienceFilters.newFiltersList(e),document.getElementById("create-new-segment").addEventListener("click",function(){if(!document.getElementById("segment-name").value.trim())return document.getElementById("segment-name").focus(),void alertify.error("Введите название списка");var t=this;t.classList.add("js-loading");var e=[];document.getElementById("checkbox-include-users").checked&&(e=a.files),$.post("/ajax/segment/create",{data:Mailing.getData(),files:e},function(e){setTimeout(function(){t.classList.remove("js-loading")},250),e.error?alertify.error(e.message):(BotConstructor.loadPage({id:e.id,type:2,action:"mailing"}),alertify.success("Идёт наполнение списка..."))})}),Mailing.addSegmentPageHandlers(a)})},editSegmentAction:function(){var e=document.getElementsByClassName("js-audience-filters-list")[0],n={files:[]},s=[];AudienceFilters.initFilters(e,function(){AudienceFilters.existingFiltersList(e),Mailing.getSegmentStatus(),Mailing.addSegmentPageHandlers(n),Array.prototype.forEach.call(document.getElementById("segment-users-import").getElementsByClassName("js-segment js-checked"),function(e){e.click()}),Emoji.get()}),document.getElementById("delete-mailing-segment").addEventListener("click",function(){var e=BotConstructor.search.get("id");alertify.okBtn("Удалить").cancelBtn("Отмена").confirm("Удалить список? Это действие нельзя будет отменить.",function(){$.post("/ajax/mailing/segment/delete",{id:e},function(e){e.error?alertify.error("Ошибка. Невозможно удалить список."):(BotConstructor.loadPage({action:"mailing"}),alertify.success("Список удалён"))})})}),document.getElementById("edit-segment").addEventListener("click",function(){var e=this,t=BotConstructor.search.get("id");e.classList.add("js-loading"),$.post("/ajax/segment/update",{data:Mailing.getData(),id:t,files:n.files,deleted_files:s},function(a){a.error?(e.classList.remove("js-loading"),alertify.error(a.message)):(e.classList.add("js-filling"),s=[],0<a.files_ids.length&&Array.prototype.forEach.call(BotConstructor.wideColumn.getElementsByClassName("js-remove-file"),function(e,t){e.classList.remove("js-remove-file"),e.classList.add("js-delete-file"),e.setAttribute("data-id",a.files_ids[t])}),n.files=[],n._num=0,n._count=document.getElementById("import-users-attached-files-list").children.length,Mailing.getSegmentStatus(),alertify.success("Идёт наполнение списка..."))})}),document.getElementById("import-users-attached-files-list").addEventListener("click",function(e){var t=e.target;if(t.classList.contains("js-delete-file")){var a=t.getAttribute("data-id");s.push(a),t.parentNode.parentNode.removeChild(t.parentNode)}}),document.getElementById("copy-mailing-list-btn").addEventListener("click",function(){var e=document.getElementById("copy-mailing-list-remodal");if(e.classList.contains("js-loaded"))$(e).remodal().open();else{e.classList.add("js-loaded"),setTimeout(function(){e.classList.remove("hidden")},150);var s=document.getElementById("copy-mailing-list-bots-container");document.getElementById("copy-mailing-list-action-btn").addEventListener("click",function(){var t=this,a=s.getElementsByClassName("js-chat-bot-item js-selected"),e=Array.prototype.map.call(a,function(e){return e.getAttribute("data-id")});if(!e.length)return alertify.error("Не выбрано ни одно сообщество"),!1;var n=BotConstructor.search.get("id");t.classList.add("js-loading"),$.post("/ajax/mailing/copy_list",{ids:e,id:n},function(e){setTimeout(function(){t.classList.remove("js-loading")},300),e.error?alertify.error(e.message):(Array.prototype.forEach.call(a,function(e){e.click()}),alertify.success("Список скопирован"))})}),ConstructorUi.fillBotsRemodal(e,s,"false")}}),document.getElementById("download-segment-users").addEventListener("click",function(){var e=BotConstructor.search.get("id");$.get("/ajax/mailing/segment/download",{id:e,offset:(new Date).getTimezoneOffset()},function(e){if(e.error)e.alert?alertify.okBtn("Повысить тариф").cancelBtn("Отмена").confirm(e.message,function(){location.href="/balance"}):alertify.error(e.message);else{var t=document.getElementById("segment-name").value.trim(),a=new File([e],"".concat(t,".txt"),{type:"text/plain;charset=utf-8"});saveAs(a)}})})},getSegmentStatus:function(){var n=BotConstructor.search.get("id"),s=document.getElementById("edit-segment");s.classList.contains("js-filling")&&(document.getElementById("segment-users-count").textContent="—",setTimeout(function a(){getJSON("/ajax/get/segment/status",{id:n},function(e){if(e.error)s.classList.remove("js-filling","js-loading"),alertify.error("Попробуйте пересобрать список ещё раз");else if(e.finished){s.classList.remove("js-filling","js-loading");var t=e.users_count<100?200:1100;$("#segment-users-count").animateNumber({number:e.users_count,easing:"easeInQuad",numberStep:function(e,t){var a=Math.floor(e),n=t.elem;n.setAttribute("number",e),n.textContent=getSeparatedNumber(a)}},t),0!=e.users_count?alertify.success("Список собран"):alertify.error("В список не попадает ни один пользователь")}else 2==BotConstructor.search.get("type")&&BotConstructor.search.get("id")==n&&setTimeout(a,2e3)})},1500))},getData:function(){var e={segment:{},filters:[]},t={include:{},exclude:{}};function a(e){var t={segments:[]},a=e.getElementsByClassName("js-segment");Array.prototype.forEach.call(a,function(e){e.checked&&t.segments.push(e.getAttribute("data-id"))});var n=e.getElementsByClassName("js-raw-user-ids")[0].value;return n=(n=n.split("\n")).filter(function(e){return e.match(/\d+/)||e.match(/^https?:\/\/vk\.com\/[a-z\d_.]+$/)}),t.ids=n,t}if(e.segment.name=document.getElementById("segment-name").value.trim(),e.segment.description=document.getElementById("segment-description").value.trim(),e.filters=AudienceFilters.parseFilters(BotConstructor.wideColumn.getElementsByClassName("js-filter-row")),document.getElementById("checkbox-include-users").checked){var n=BotConstructor.wideColumn.querySelector('.js-content-container[data-type="1"]');t.include=a(n)}if(document.getElementById("checkbox-exclude-users").checked){var s=BotConstructor.wideColumn.querySelector('.js-content-container[data-type="-1"]');t.exclude=a(s)}return 0!==Object.keys(t.include).length&&0!==Object.keys(t.exclude).length&&t.include.ids.filter(function(e){return t.exclude.ids.indexOf(e)<0}),e.import=t,e},mainPage:function(){var a=BotConstructor.wideColumn.querySelector("#main-segment-users-count");function o(){var s=BotConstructor.wideColumn.querySelector("#segment-progress-percent");getJSON("/ajax/get/segment/users_count",function(e){if(e.error)e.empty&&(BotConstructor.loadPage({action:"mailing"}),alertify.error("Не удалось собрать базу"));else{if(e.finished)o.total=e.count,setTimeout(function(){var e=document.getElementById("main-segment-continue-btn");e.classList.remove("disabled","js-loading"),e.addEventListener("click",function(){BotConstructor.loadPage({action:"mailing"})}),setTimeout(function(){document.getElementById("main-segment-stand-by-text").textContent="Готово! Теперь вы можете устроить рассылку по собранной базе пользователей.",alertify.success("База подписчиков собрана")},250)},1e3);else{var t=1e3;0==e.count&&(t=3e3),o.total=e.total,setTimeout(o,t)}$(a).stop().prop("number",parseInt(a.textContent.split(" ").join(""))).animateNumber({number:e.count,easing:"easeInQuad",numberStep:function(e,t){var a=Math.floor(e),n=t.elem;s.textContent=0==o.total?"(0%)":"(".concat(Math.floor(100*a/o.total),"%)"),n.setAttribute("number",e),n.textContent=getSeparatedNumber(a)}},1300)}})}if(Array.prototype.forEach.call(document.getElementsByClassName("js-create-main-segment"),function(e){e.addEventListener("click",function(){$.post("/ajax/mailing/main_segment",{},function(e){e.error||(BotConstructor.loadPage({action:"mailing"}),alertify.success("Запускаем сбор пользователей..."))})})}),a)setTimeout(function(){o()},3e3);else{var t=document.getElementById("update-main-mailing-list");if(!t)return;t.addEventListener("click",function(){t.classList.add("js-loading"),$.post("/ajax/mailing/update_main_list",{},function(e){t.classList.remove("js-loading"),e.error?alertify.error(e.message):(t.classList.add("disabled"),alertify.success("Список обновляется..."))})}),Array.prototype.forEach.call(document.getElementsByClassName("js-bind-title"),function(e){e.addEventListener("click",function(){var e=document.getElementById("mailing-page-title");e.textContent=this.getAttribute("data-title"),e.nextElementSibling.textContent=this.getAttribute("data-subtext")})}),live("click",".js-get-page",function(){this.classList.contains("js-tab-clicked")||(this.classList.add("js-tab-clicked"),Mailing.getMessagesPage(this))},BotConstructor.wideColumn.querySelector("#mailing-tasks-section")),document.getElementById("mailing-tasks-section").addEventListener("click",function(e){if(e.target.classList.contains("js-delete-mailing-task")){e.stopPropagation();var t=e.target.parentNode.parentNode.parentNode.getAttribute("data-id");alertify.okBtn("Удалить").cancelBtn("Отмена").confirm("Удалить выбранную рассылку?",function(){Mailing.deleteMailing(t,function(){var e=document.getElementById("mailing-tasks-tab").getElementsByClassName("js-tab active")[0];Mailing.getMessagesPage(e),e.firstElementChild&&(e.firstElementChild.textContent=e.firstElementChild.textContent-1),Mailing.getMessagesPage(e),alertify.success("Рассылка удалена")})})}})}},getMessagesPage:function(e){var t=e.getAttribute("data-page"),a=e.getAttribute("data-type");$.get("/ajax/get/mailing/page",{page:t,type:a},function(e){e.error||(BotConstructor.wideColumn.querySelector('.js-messages-container[data-tab="'.concat(a,'"]')).innerHTML=e.view)})},setPage:function(){switch(parseInt(BotConstructor.search.get("type"))){case Mailing.ACTIONS.CREATE_SEGMENT:Mailing.createSegmentAction();break;case Mailing.ACTIONS.EDIT_SEGMENT:Mailing.editSegmentAction();break;case Mailing.ACTIONS.CREATE_MAILING:var e=BotConstructor.search.get("id");e&&setTimeout(function(){document.querySelector('.js-segment-checkbox[data-id="'.concat(e,'"]')).click()},10),document.getElementById("save-mailing-task-btn").addEventListener("click",function(){var e=BotConstructor.getDataManager("mailingTask"),t=this;t.classList.add("js-loading"),$.post("/ajax/mailing/task/create",{data:e.get()},function(e){t.classList.remove("js-loading"),e.error?alertify.error(e.message):BotConstructor.loadPage({id:e.id,type:4,action:"mailing"}).then(function(){ConstructorUi.afterSave(),alertify.success("Шаблон сохранён")})})}),Mailing.mailingAction();break;case Mailing.ACTIONS.EDIT_MAILING:var a=document.getElementById("copy-mailing-task-btn");a?(a.addEventListener("click",function(){var e=BotConstructor.search.get("id"),t=ConstructorUi.getBotId(!1);a.classList.add("js-loading"),$.post("/ajax/mailing/task/copy",{id:e,data:t},function(e){a.classList.remove("js-loading"),e.error||BotConstructor.loadPage({id:e.id,type:4,action:"mailing"}).then(function(){alertify.success("Рассылка скопирована")})})}),Array.prototype.forEach.call(document.getElementById("messages-list-container").getElementsByClassName("js-content"),function(e){e.removeAttribute("contenteditable")})):(BotConstructor.deletedReplies=BotConstructor.deletedRepliesStore(),document.getElementById("update-mailing-task-btn").addEventListener("click",function(){var e=this,t=BotConstructor.getDataManager("mailingTask"),a=BotConstructor.search.get("id");e.classList.add("js-loading"),$.post("/ajax/mailing/task/update",{id:a,data:t.get()},function(a){setTimeout(function(){e.classList.remove("js-loading")},250),a.error?alertify.error(a.message||"Ошибка сохранения"):(Array.prototype.forEach.call(BotConstructor.wideColumn.querySelector("#messages-list-container").getElementsByClassName("js-content"),function(e,t){e.setAttribute("data-id",a.ids[t])}),ConstructorUi.afterSave(),alertify.success("Шаблон сохранён"))})}),Array.prototype.forEach.call(BotConstructor.wideColumn.getElementsByClassName("js-content"),function(e,t){function a(){this.removeEventListener("focus",a),this.removeEventListener("mouseenter",a),Emoji.replaceContent.call(this,!0),Emoji.parseVariables(this,"matchMailingTemplate")}t<5?(Emoji.replaceContent.call(e,!0),Emoji.parseVariables(e,"matchMailingTemplate")):(e.addEventListener("focus",a),e.addEventListener("mouseenter",a))}),Mailing.mailingAction(),Array.prototype.forEach.call(document.getElementById("mailing-segments-list").getElementsByClassName("js-segment-checkbox js-checked"),function(e){e.click()}));break;default:Mailing.mainPage()}},mailingAction:function(){var n=document.getElementById("postpone-mailing-btn"),s=document.getElementById("postponed-mailing-flatpickr");function e(e){if(!e.classList.contains("js-loaded")&&(e.classList.add("js-loaded"),s.flatpickr=flatpickr(s,{altInput:!0,altFormat:"j F, Y H:i",dateFormat:"H:i d.m.Y",enableTime:!0,minDate:new Date,time_24hr:!0,inline:!0,onValueUpdate:function(e,t){t=flatpickr.parseDate(t,"H:i d.m.Y"),t=flatpickr.formatDate(t,"j F, Y H:i"),n.getElementsByTagName("span")[0].textContent=formatMonth(t),n.classList.add("active")}}),n.hasAttribute("data-time"))){var t=flatpickr.parseDate(new Date(1e3*n.getAttribute("data-time")),"H:i d-m-y");s.flatpickr.setDate(t,!0)}}function o(e){var t=document.getElementById("mailing-test-status");t.checked?e():alertify.okBtn("Подтверждаю").cancelBtn("Отмена").confirm("Подтвердите, что тестовая рассылка проверена",function(){t.click(),e()})}n.addEventListener("click",function(e){var t=e.target;if(t==n||"postpone-mailing-btn"===t.parentNode.id)if(s.flatpickr.input.value){var a=BotConstructor.search.get("id");if(!Mailing.getSegments().length)return alertify.error("Выберите список получателей рассылки"),!1;o(function(){var e=BotConstructor.getDataManager("mailingTask");$.post("/ajax/mailing/task/postpone",{id:a,date:s.flatpickr.input.value,data:e.get()},function(e){e.error?alertify.error(e.message||"Не удалось создать рассылку"):e.inserted?BotConstructor.loadPage({id:e.id,type:4,action:"mailing"}).then(function(){alertify.success("Рассылка сохранена")}):alertify.success("Рассылка сохранена")})})}else alertify.error("Выберите дату рассылки")}),n.addEventListener("mouseenter",function(){e(this),n.timout&&(clearTimeout(n.timout),n.timout=null),s.nextElementSibling.nextElementSibling.classList.add("active")}),n.addEventListener("mouseout",function(e){var t=e.relatedTarget;if(t===n)return!0;for(;t&&t.parentElement;)if((t=t.parentElement).id===n.id)return!0;n.timout=setTimeout(function(){s.nextElementSibling.nextElementSibling.classList.remove("active")},100)});var t=document.getElementById("list-1");t&&t.addEventListener("change",function(){var t=this;Array.prototype.forEach.call(this.parentNode.parentNode.getElementsByTagName("label"),function(e){t.id!==e.htmlFor&&(t.checked?(e.classList.add("disabled"),e.previousElementSibling.checked=!1):e.classList.remove("disabled"))})}),document.getElementById("start-mailing-task").addEventListener("click",function(){if(!Mailing.getSegments().length)return alertify.error("Выберите список получателей рассылки"),!1;var a=document.getElementById("start-mailing-task");a.classList.add("js-loading"),o(function(){var e=BotConstructor.getDataManager("mailingTask"),t=0;BotConstructor.search.get("type")==Mailing.ACTIONS.EDIT_MAILING&&(t=BotConstructor.search.get("id")),$.post("/ajax/mailing/task/start",{id:t,data:e.get()},function(e){a.classList.remove("js-loading"),e.error?alertify.error(e.message||"Ошибка"):(BotConstructor.loadPage({id:e.id,type:4,action:"mailing"}),alertify.success("Начинаем рассылку..."))})})}),document.getElementById("test-mailing-btn").addEventListener("click",function(){var t=this;t.classList.add("js-loading");var e=BotConstructor.getDataManager("mailingTask"),a=Array.prototype.map.call(document.getElementById("test-recipients-list").getElementsByClassName("js-user"),function(e){return e.getAttribute("data-id")}),n=0;BotConstructor.search.get("type")==Mailing.ACTIONS.EDIT_MAILING&&(n=BotConstructor.search.get("id")),$.post("/ajax/mailing/test",{data:e.get(),recipients:a,id:n},function(e){t.classList.remove("js-loading"),e.error||alertify.success("Тест рассылки отправлен")})});var a=document.getElementById("cancel-task-btn");a?(e(n),a.addEventListener("click",function(){alertify.okBtn("Да, отменить").cancelBtn("Нет").confirm("Отменить отложенную рассылку?",function(){var e=ConstructorUi.getBotId(!1),t=BotConstructor.search.get("id");$.post("/ajax/mailing/task/cancel",{id:t,data:e},function(e){e.error?alertify.error(e.message):BotConstructor.loadPage({id:t,type:4,action:"mailing"}).then(function(){alertify.success("Рассылка отменена")})})})})):document.getElementById("delete-task-btn").addEventListener("click",function(){alertify.okBtn("Удалить").cancelBtn("Отмена").confirm("Вы уверены, что хотите удалить рассылку?",function(){var e=BotConstructor.search.get("id");Mailing.deleteMailing(e)})});var r=BotConstructor.wideColumn.querySelector("#messages-list-container");live("keyup",".js-content",function(e){~[9,16,17,18,37,38,39,40].indexOf(e.keyCode)||delayCallback(function(){var e=window.getSelection();if(0<e.rangeCount){var t=e.getRangeAt(0).commonAncestorContainer.parentNode;Emoji.parseVariables(t,"matchMailingTemplate")}},200)},r),$(r).on("blur",".js-content",function(){!function t(e){Array.prototype.forEach.call(e,function(e){e.nodeType===Node.TEXT_NODE?e.nextSibling&&e.nextSibling.nodeType===Node.TEXT_NODE&&(e.nextSibling.textContent=e.textContent+e.nextSibling.textContent,e.parentNode.removeChild(e)):"DIV"===e.tagName&&t(e.childNodes)})}(this.childNodes),Emoji.parseVariables(this,"matchMailingTemplate")}),ConstructorUi.addTextReplyListener(3),addOnClickHandler("js-delete-reply",function(e){e.addEventListener("click",ConstructorUi.deleteReply)},BotConstructor.wideColumn),vkProfileLinkInput(document.getElementById("test-users-input"))},getSegments:function(){var t=[];return Array.prototype.forEach.call(document.getElementById("mailing-segments-list").getElementsByTagName("input"),function(e){e.checked&&t.push(e.getAttribute("data-id"))}),t},deleteMailing:function(e,t){$.post("/ajax/mailing/delete",{id:e,data:ConstructorUi.getBotId()},function(e){e.error?alertify.error("Не удалось удалить рассылку"):t?t():BotConstructor.loadPage({action:"mailing"}).then(function(){alertify.success("Рассылка удалена")})})}},Emoji={tooltipText:"",templates:[{rule:"{name}",tooltip:function(){Emoji.tooltipText="Имя пользователя"}},{rule:"{surname}",tooltip:function(){Emoji.tooltipText="Фамилия пользователя"}},{rule:"{group_name}",tooltip:function(){Emoji.tooltipText="Название сообщества"}},{rule:"{group_url}",tooltip:function(){Emoji.tooltipText="Ссылка на сообщество"}},{rule:"{user_message}",tooltip:function(){Emoji.tooltipText="Сообщение пользователя"}},{rule:"{city}",tooltip:function(){Emoji.tooltipText="Город пользователя"}},{rule:"{user_id}",tooltip:function(){Emoji.tooltipText="Id пользователя во ВКонтакте"}},{rule:"{random_yes_no}",tooltip:function(){Emoji.tooltipText='Случайный текст «<span class="green">да</span>» или «<span class="green">нет</span>»'}},{rule:"{time}",tooltip:function(){Emoji.tooltipText="Текущее время по Москве"}},{rule:"{date}",tooltip:function(){Emoji.tooltipText="Текущая дата по Москве"}},{rule:/^{time_range\[((?:[1-9]|[01]\d|2[0-3]):(?:[0-5]\d)-(?:[1-9]|[01]\d|2[0-3]):(?:[0-5]\d))]:((?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|[^}])*)}$/i,matches:["{time_range[9:00-19:00]:мы открыты}"],tooltip:function(e,t,a){t=t.split("-").join(" - "),Emoji.tooltipText='Если время по Москве <span class="orange">'.concat(t,'</span>, выведет «<span class="green">').concat(a.trim(),"</span>»")}},{rule:/^{(time|date)([+-])(\d{1,6})}$/i,matches:["{time+60}","{date+1}"],tooltip:function(e,t,a,n){a="+"===a?"плюс":"минус","time"===t.toLowerCase()?Emoji.tooltipText="Текущее время по Москве ".concat(a,' <span class="green">').concat(n,"</span> ").concat(sklonen(n,"минута","минуты","минут")):Emoji.tooltipText="Текущяя дата по Москве ".concat(a,' <span class="green">').concat(n,"</span> ").concat(sklonen(n,"час","часа","часов"))}},{rule:/^{([^{]*)\|((?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|[^}])*)}$/,matches:[],tooltip:function(e,t,a){return t=t.trim(),a=a.trim(),""!==t&&(t='<p>Мужчины увидят «<span class="green">'.concat(Emoji.shortTextWithEmoji(t),"</span>»</p>")),""!==a&&(a='<p>Женщины увидят «<span class="orange">'.concat(Emoji.shortTextWithEmoji(a),"</span>»</p>")),""!==t||""!==a?(""!==t&&""!==a&&(t+="<br>"),Emoji.tooltipText=t+a):Emoji.tooltipText="Пустота",!0}},{rule:/^{([^{]*)~((?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|[^}])*)}$/,matches:[],tooltip:function(e,t,a){if(t=t.trim(),a=a.trim(),""!==t||""!==a)return 30<t.length&&(t="".concat(t.substr(0,30).trim(),"...")),30<a.length&&(a="".concat(a.substr(0,30).trim(),"...")),Emoji.tooltipText='Случайно «<span class="green">'.concat(t,'</span>» или «<span class="orange">').concat(a,"</span>»"),!0}},{rule:/^{(not_)?subscribed:((?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|[^}])+)}$/i,matches:["{subscribed: подписчик}","{not_subscribed: не подписчик}"],tooltip:function(e,t,a){var n="Подписчик";return t&&(n="Не подписчик"),30<(a=a.trim()).length&&(a="".concat(a.substr(0,30).trim(),"...")),Emoji.tooltipText="".concat(n,' увидит «<span class="green">').concat(a,"</span>»"),!0}},{rule:/^{random:(\d{1,11}):(\d{1,11})}$/i,matches:["{random:1:10}"],tooltip:function(e,t,a){return a<t&&(t=[a,a=t][0]),Emoji.tooltipText='Случайное число от <span class="green">'.concat(t,'</span> до <span class="green">').concat(a,"</span>"),!0}}],mailingTemplates:[{rule:"{name}",tooltip:function(){Emoji.tooltipText="Имя пользователя"}},{rule:"{surname}",tooltip:function(){Emoji.tooltipText="Фамилия пользователя"}},{rule:"{user_id}",tooltip:function(){Emoji.tooltipText="Id пользователя во ВКонтакте"}},{rule:"{city}",tooltip:function(){Emoji.tooltipText="Город пользователя"}}],getMatchingDefaultVariables:function(a){var n=' class="active" ';return a=a.toLowerCase(),Emoji.templates.reduce(function(t,e){return e.matches?e.matches.some(function(e){return!!e.startsWith(a)&&(t+="<li".concat(n,'><span class="text-var">').concat(e,"</span></li>"),!(n=""))}):e.rule.startsWith(a)&&(t+="<li".concat(n,'><span class="text-var">').concat(e.rule,"</span></li>"),n=""),t},"")},getMatchingUserVariables:function(a,e){var n=1<arguments.length&&void 0!==e?e:"matches",s=' class="active" ';return a=a.toLowerCase(),Emoji.vars.reduce(function(e,t){return a&&!t[n].startsWith(a)||(e+="<li".concat(s,'><span class="text-var number">').concat(t[n],"</span></li>"),s=""),e},"")},shortTextWithEmoji:function(e){var t="",a=0,n=document.createElement("div");return n.innerHTML=e,Array.prototype.some.call(n.childNodes,function(e){return e.nodeType===Node.TEXT_NODE?30<a+e.textContent.length?(t+="".concat(e.textContent.substr(0,30-a).trim(),"..."),!0):(a+=e.textContent.length,t+=e.textContent,!1):(t+=e.outerHTML,a++,!1)}),t},replaceContent:function(e){this.classList.contains("js-emoji-unified")||(this.classList.add("js-emoji-unified"),e?Emoji.replaceNodesEmoji(this):this.innerHTML=wdtEmojiBundle.replaceDefaultEmoji(this.innerHTML))},replaceNodesEmoji:function(e){Array.prototype.forEach.call(e.childNodes,function(e){e.nodeType===Node.TEXT_NODE?Emoji.replaceTextNodeEmoji(e):0<e.childNodes.length&&Emoji.replaceNodesEmoji(e)})},replaceTextNodeEmoji:function(t){if(null!==t){var e=document.createElement("div");e.innerHTML=wdtEmojiBundle.replaceDefaultEmoji(t.textContent),Array.prototype.forEach.call(Array.prototype.slice.call(e.childNodes).reverse(),function(e){t.parentNode.insertBefore(e,t.nextSibling)}),t.parentNode.removeChild(t)}},setEmojiTooltip:function(t,e){var a=t.toLowerCase();if(e){t=decodeEntities(t);var n=new RegExp("^{{\\s*((?:[a-zA-Zа-яА-ЯёЁ](?:[_-]?[a-zA-Z0-9а-яА-ЯёЁ]+)*){1,16})\\s*(?:([+\\-*\\/]\\s*-?\\d+(?:\\.\\d{1,2})?)?\\s*(?:([=><])\\s*(\\d+(?:\\.\\d{1,2})?|(?:[a-zA-Zа-яА-ЯёЁ](?:[_-]?[a-zA-Z0-9а-яА-ЯёЁ]+)*){1,16}):([^}]+))?)?}}$","i"),i=!1;Emoji.vars.some(function(r){return t.replace(n,function(e,t,a,n,s,o){if(i=!0,a=a?a.trim():"",!o)return r.desc?Emoji.tooltipText="".concat(r.desc," ").concat(a):Emoji.tooltipText='Переменная <span class="orange">'.concat(t,"</span> ").concat(a),!0;return Emoji.tooltipText='Если значение переменной <span class="orange">'.concat(t,"</span> ").concat(a," ").concat({">":"больше","<":"меньше","=":"равно"}[n]," ").concat(s,', выведет «<span class="green">').concat(o.trim(),"</span>»"),!0}),i})}else Emoji.templates.some(function(e){if("string"==typeof e.rule){if(e.rule===a)return e.tooltip(),!0}else if("true"===t.replace(e.rule,e.tooltip))return!0;return!1})},parseVariables:function(e,t){var h=1<arguments.length&&void 0!==t?t:"matchDefaultTemplate",p=document.createRange();e&&Array.prototype.forEach.call(e.childNodes,function(_){if(_.nodeType===Node.TEXT_NODE){if("SPAN"!==_.parentNode.tagName)_.textContent.replace(/{[^{][^}]*}|({{[^{][^}]*}})/g,function(e,t,a){var n="}",s="";if(!Emoji[h](e)){if(!t||"matchDefaultTemplate"===h&&!Emoji.matchUserVariables(e))return e;n="}}",s=" number"}_.textContent.length<=a&&(a=_.textContent.length);try{p.setStart(_,a),p.setEnd(_,a+e.length)}catch(e){}var o=document.createElement("span");o.spellcheck=!1,o.className="text-var".concat(s);var r,i=window.getSelection(),l=i.anchorNode===_,c=i.anchorOffset,d=_.textContent,m=p.startContainer;try{p.surroundContents(o)}catch(e){}if(0<i.rangeCount&&(r=i.getRangeAt(0)),l&&~d.substr(c-1).indexOf(n)){for(var f=i.anchorNode,u=0;u+=f.textContent.length,(f=f.nextSibling)&&u<c;);f&&(f.previousSibling&&(f=f.previousSibling),f.nodeType!==Node.TEXT_NODE&&(f=f.firstChild),p.setStart(f,c-(u-f.textContent.length)),p.collapse(!0),i.removeAllRanges(),i.addRange(p))}else r&&m==r.startContainer&&r.setStartAfter(o);Emoji.parseVariables(_.parentNode)});else if(_.parentNode.parentNode&&!Emoji[h](_.parentNode.innerHTML)&&("matchDefaultTemplate"!==h||!Emoji.matchUserVariables(_.parentNode.innerText))){var t=window.getSelection(),e=t.anchorOffset,o=_.parentNode.parentNode,a=document.createElement("div"),n=!1;a.innerHTML=_.parentNode.innerHTML,Array.prototype.forEach.call(Array.prototype.slice.call(a.children),function(e){"IMG"===e.tagName&&(a.replaceChild(document.createTextNode(e.getAttribute("alt")),e),n=!0)});var r=document.createTextNode(a.textContent);if(r.innerHTML=a.textContent,o.replaceChild(r,_.parentNode),n)Array.prototype.some.call(o.childNodes,function(e){if(e!==r)return!1;var t=document.createElement("div");t.innerHTML=wdtEmojiBundle.replaceDefaultEmoji(e.innerHTML);for(var a,n=document.createDocumentFragment();a=t.firstChild;)n.appendChild(a);var s=n.lastElementChild;return o.replaceChild(n,e),Array.prototype.some.call(o.children,function(e){return e===s&&(p.setStartAfter(s),!0)}),!0});else try{p.setStart(r,e)}catch(e){}p.collapse(!0),t.removeAllRanges(),t.addRange(p),Emoji.parseVariables(o),Array.prototype.forEach.call(o.childNodes,function(e){e.nodeType===Node.TEXT_NODE&&t.commonAncestorContainer!==e&&""===e.textContent&&e.parentNode.removeChild(e)}),BotConstructor.tooltip.style.display="none"}}else _.childNodes&&Emoji.parseVariables(_)})},matchDefaultTemplate:function(t){var a=!1,n=t.toLowerCase();return Emoji.templates.some(function(e){if("string"==typeof e.rule){if(e.rule===n)return a=!0}else if(t.match(e.rule))return a=!0;return!1}),a},matchUserVariables:function(e){if(!Emoji.vars)return!1;var t=!1,a=new RegExp("^{{\\s*((?:[a-zA-Zа-яА-ЯёЁ](?:[_-]?[a-zA-Z0-9а-яА-ЯёЁ]+)*){1,16})\\s*(?:([+\\-*\\/]\\s*-?\\d+(?:\\.\\d{1,2})?)?\\s*(?:([=><])\\s*(\\d+(?:\\.\\d{1,2})?|(?:[a-zA-Zа-яА-ЯёЁ](?:[_-]?[a-zA-Z0-9а-яА-ЯёЁ]+)*){1,16}):([^}]+))?)?}}$","i");return Emoji.vars.some(function(){return t=e.match(a)}),t},matchMailingTemplate:function(e){var t=!1,a=e.toLowerCase();return Emoji.mailingTemplates.some(function(e){return e.rule===a&&(t=!0)}),t},getText:function(e){var t=document.createElement("div");return t.innerHTML=e,Array.prototype.forEach.call(Array.prototype.slice.call(t.children),function(e){"IMG"===e.tagName&&t.replaceChild(document.createTextNode(e.getAttribute("alt")),e)}),t.textContent},get:function(e){e||!Emoji.vars?getJSON("/ajax/get/constructor/template_variables",{short:1},function(e){e.error||(Emoji.vars=e.list.reduce(function(e,t){return e.push({id:t.id,name:t.name,matches:"{{".concat(t.name,"}}"),desc:t.description}),e},[]),Emoji.updateBlocksVariables())}):Emoji.updateBlocksVariables()},updateBlocksVariables:function(){var e=BotConstructor.wideColumn.getElementsByClassName("js-variable-name");Array.prototype.forEach.call(e,function(e){var t=e.getAttribute("data-variable-id");if(t){var a=Emoji.getVariable(t).name;e.parentNode.classList.add("active"),e.textContent=a}})},removeVar:function(t){Emoji.vars=Emoji.vars.filter(function(e){return e.id!==t})},addVariable:function(e){Emoji.vars&&Emoji.vars.push({id:e.id,name:e.name,matches:"{{".concat(e.name,"}}"),desc:e.description})},getVariable:function(t){return Emoji.vars.filter(function(e){return e.id==t})[0]}},ConstructorUi={activeTab:0,FORWARD_ITEMS:{ROOT:0,REPLY:1,MESSAGE:2},afterSave:function(){},saveAndCall:function(e){ConstructorUi.afterSave=function(){ConstructorUi.afterSave=function(){},e()},document.getElementsByClassName("js-save-btn")[0].click()},getBotId:function(e){if(e)return document.getElementById("current-bot").getAttribute("data-id");var t={bot_id:document.getElementById("current-bot").getAttribute("data-id")};return JSON.stringify(t)},deleteReply:function(){var a=this;function e(){for(var e=a;!(e=e.parentNode).classList.contains("js-block-wrapper"););var t=e.classList.contains("js-block")?e.getAttribute("data-id"):e.getElementsByClassName("js-block")[0].getAttribute("data-id");null===t&&(t=e.getElementsByClassName("js-content")[0].getAttribute("data-id")),"0"!==t&&BotConstructor.deletedReplies&&BotConstructor.deletedReplies.add(t),e.parentNode.removeChild(e)}getParent(a,"js-advanced-reply")?alertify.okBtn("Удалить").cancelBtn("Отмена").confirm("Вы уверены, что хотите удалить<br> расширенный ответ с его содержимым?",function(){e()}):(ConstructorUi.addPointsPadding(),e())},copyCommand:function(e,t){alertify.okBtn("Да").cancelBtn("Отмена").confirm("Копировать команду? Копия появится в этом же разделе сценария, рядом с текущей командой.",function(){$.post("/ajax/constructor/copy_command",{id:e},function(e){e.error?alertify.error("Ошибка, не удалось скопировать"):(alertify.success("Команда скопирована"),t&&t())})})},bindEvents:function(){var e,t=BotConstructor.search.get("act");({mailing:ConstructorUi.mailingPage,stats:ConstructorUi.statsPage,special:SpecialProjects.giveaway,scenario:function(){function a(){document.getElementById("messages-list-section").addEventListener("click",function(e){var n=e.target;getParent(n,"js-copy-command")?(e.stopPropagation(),e.preventDefault(),ConstructorUi.copyCommand(getParent(n,"js-link").getAttribute("data-id"),function(){location.reload()})):getParent(n,"js-delete-command")&&(e.stopPropagation(),e.preventDefault(),alertify.okBtn("Удалить").cancelBtn("Отмена").confirm("Вы уверены, что хотите удалить команду?<br> Это действие нельзя будет отменить.",function(){var t=getParent(n,"js-link"),a=t.getAttribute("data-id"),e=t.getAttribute("data-type");$.post("/ajax/constructor/delete_message",{id:a,type:e},function(e){e.error?alertify.error("Не удалось удалить"):(BotConstructor.MessagesHistory.remove(a),t.parentNode.removeChild(t),alertify.success("Сообщения удалены"))})}))})}a(),document.addEventListener("scroll",function t(){var a=document.getElementById("messages-list-section");if(a){if(a&&!a.classList.contains("js-loading-items")){var e=document.documentElement;if(e.scrollTop+350>=e.scrollHeight-e.clientHeight){var n;a.classList.add("js-loading-items");var s=document.getElementById("form-search-by-keyword").value.trim();n=0<s.length?a.firstElementChild.children.length-1:a.firstElementChild.lastElementChild.getAttribute("data-id");var o=document.getElementById("messages-list-section-loader");o.classList.remove("hidden"),getText("/ajax/get/bot/scenario/messages",{offset:n,search:s},function(e){o.classList.add("hidden"),e?(a.classList.remove("js-loading-items"),a.firstElementChild.insertAdjacentHTML("beforeend",e)):document.removeEventListener("scroll",t)})}}}else document.removeEventListener("scroll",t)}),document.getElementById("form-search-by-keyword").addEventListener("input",function(){var e=this.value.trim(),t=document.getElementById("messages-list-section");delayCallback(function(){getText("/ajax/get/bot/search_by_keyword",{value:e},function(e){"error"!==e&&(t.outerHTML=e,a())})},""!==e?200:0)}),document.getElementById("keywords-history-block")&&BotConstructor.MessagesHistory.setContent()},keywords:function(){(e=document.getElementById("save-reply-btn"))?(ConstructorUi.messagePage(e),ConstructorUi.fixActiveNavLink(),ConstructorUi.setupForwardBlock()):(e=document.getElementById("save-advanced-message-btn"))&&(ConstructorUi.advancedReplyPage(e),ConstructorUi.fixActiveNavLink(),ConstructorUi.setupForwardBlock())}}[t]||ConstructorUi.settingsPage)();var a=document.getElementById("refresh-command-stats");a&&a.addEventListener("click",function(){var t=this;t.classList.add("js-loading"),$.post("/ajax/bot/constructor/refresh_stats",{id:BotConstructor.search.get("id")},function(e){t.classList.remove("js-loading"),e.error||(Array.prototype.forEach.call(t.parentNode.parentNode.getElementsByClassName("js-uses-count"),function(e){e.textContent=0,e.nextSibling.textContent=" раз"}),t.parentNode.removeChild(t),alertify.success("Статистика сброшена"))})});var n=document.getElementById("page-breadcrumbs");n&&Array.prototype.forEach.call(n.children,function(e){Emoji.replaceTextNodeEmoji(e.firstChild)}),ConstructorUi.addForwardingEventsHandler(BotConstructor.wideColumn.querySelector("#bot-forwarding-section"));var s=document.getElementsByClassName("js-view-page-faq")[0];s&&s.addEventListener("click",function(){s.classList.contains("js-loaded")?$("#faq-page-remodal").remodal().open():(s.classList.add("js-loaded"),getText("/ajax/get/bot/page_faq",{page:this.getAttribute("data-action")},function(e){if(0<e.length){var t=document.getElementById("faq-page-remodal");t.innerHTML=e,$(t).remodal().open()}}))});var o=BotConstructor.wideColumn.getElementsByClassName("js-content-title")[0];o&&o.firstElementChild&&Emoji.replaceTextNodeEmoji(o.firstElementChild.firstChild);var r=document.getElementById("files-library-modal-btn");r&&r.addEventListener("click",function(){var e=document.getElementById("files-library-modal");e?e.classList.contains("hidden")?(FilesLibrary.load(e,void 0,!0),e.getElementsByClassName("js-files-tab")[1].click(),e.querySelector("[data-active-tab]").setAttribute("data-active-tab",1)):($(e).remodal().open(),e.getElementsByClassName("js-files-tab")[1].click()):alertify.error("Подключите к шаблону сообщество, чтобы загружать файлы")});var i=document.getElementById("vars-suggestion-menu");i&&i.firstElementChild.addEventListener("mousedown",function(e){var t=e.target.textContent,a=window.getSelection();if(0<a.rangeCount){var n=a.getRangeAt(0),s=n.startOffset,o=n.commonAncestorContainer,r=o.textContent;(r=(r=r.substr(0,s)).split(" ")).pop(),o.textContent="";var i=document.createTextNode(r.join(" ")+t);return n.insertNode(i),n.collapse(!0),n.setStartAfter(i),o&&o.classList.contains("js-variable-name")&&variableKeyup.call(o,e,!0),!1}}),ConstructorUi.addKeyboardModal(),Array.prototype.forEach.call(BotConstructor.wideColumn.getElementsByClassName("js-vars"),function(e,t){function a(){this.removeEventListener("focus",a),this.removeEventListener("mouseenter",a),Emoji.parseVariables(this),Emoji.replaceContent.call(this,!0)}e.parentNode.parentNode.classList.contains("js-advanced-reply")||(t<5?(Emoji.parseVariables(e),Emoji.replaceContent.call(e,!0)):(e.addEventListener("focus",a),e.addEventListener("mouseenter",a)))});var l=document.getElementById("current-bot");if(l){var c=function(){var e="https://oauth.vk.com/authorize?client_id="+l.getAttribute("data-app-id")+"&scope=wall,stories,manage,messages,photos,docs&redirect_uri="+window.location.protocol+"//"+window.location.host+"/oauth/vk/group&group_ids="+l.getAttribute("data-group-id")+"&response_type=code&v=5.77",t="";window!==window.top&&(t='target="_blank"'),ConstructorUi.topNotification.add('<div class="container">Обнаружена ошибка подключения, бот может не работать. Чтобы устранить ошибку <a href="'+e+'" '+t+' class="inline-link" id="reconnect-group-link">переподключите сообщество</a></div>')},d=l.getAttribute("data-checked");d=parseInt(d);var m=new Date,f=Math.floor(m.getTime()/1e3);l.classList.contains("js-error-status")&&c(),d+300<f&&getJSON("/ajax/get/bot/vk/status?bot_id=".concat(l.getAttribute("data-id")),function(e){if(e.error)e.ignore&&l.setAttribute("data-checked",f);else{if("retry"===e.status)return;l.setAttribute("data-checked",f),"error"!=e.status||document.getElementById("reconnect-group-link")?ConstructorUi.topNotification.remove():(document.getElementById("current-bot").classList.add("js-error-status"),c())}}),ConstructorUi.addFilesCountMouseEnterListeners()}var u=$("#constructor-messages-section");if(u.on("click","[data-action]",function(t){var e,r=t.currentTarget;(_defineProperty(e={},"attach_post",function(){t.stopPropagation(),ConstructorUi.attachPostBtn.call(r,t)}),_defineProperty(e,"reply_application",function(){t.stopPropagation(),ConstructorUi.replyApplicationBtn.call(r,t)}),_defineProperty(e,"reply_send_conditions",function(){ConstructorUi.replySendCondition.call(r,t)}),_defineProperty(e,"variables_toolbar",function(){var e=r.classList;e.contains("js-loaded")||(e.add("js-loaded"),ConstructorUi.variablesOnClick.call(r,t))}),_defineProperty(e,"delete_reply",function(){var e=r.classList;if(e.contains("js-remove-point"))ConstructorUi.setupPointForwards();else if(e.contains("js-remove-condition-point")){var t=r.parentNode.parentNode.parentNode.getAttribute("data-selector"),a=BotConstructor.wideColumn.querySelector('.js-condition-point-end[data-selector="'.concat(t,'"]')),n=t.split("-")[1];ConstructorUi.deleteReply.call(a.firstChild),BotConstructor.wideColumn.querySelector('.js-block[data-id="'.concat(a.getAttribute("data-for"),'"]')).querySelector('.js-add-condition-scope-block[data-type="'.concat(n,'"]')).classList.remove("active")}else if(e.contains("js-remove-condition-points")){var s=r.parentNode.parentNode.parentNode.getAttribute("data-id"),o=BotConstructor.wideColumn.querySelectorAll('.js-cond-point[data-for="'.concat(s,'"]'));Array.prototype.forEach.call(o,function(e){ConstructorUi.deleteReply.call(e.firstChild)})}ConstructorUi.deleteReply.call(r)}),_defineProperty(e,"reply_attachments",function(){t.stopPropagation();var e=document.getElementById("files-library-modal");if(!e)return alertify.error("Подключите к шаблону сообщество, чтобы загружать файлы"),!1;e.classList.contains("js-loaded")||(e.classList.add("js-loaded"),FilesLibrary.load(e,-1)),Array.prototype.forEach.call(e.getElementsByClassName("js-files-tab"),function(e){e.classList.remove("js-loaded"),e.setAttribute("data-page",0)}),Array.prototype.forEach.call(e.getElementsByClassName("js-section-header"),function(e){e.getElementsByClassName("js-search-ui-btn")[0]||e.parentNode.classList.add("js-no-search"),e.parentNode.nextElementSibling.classList.add("js-select-mode")}),ConstructorUi.openRemodal(e,r,function(){var e=document.getElementById("reply-attachments-tab");e.classList.remove("hidden"),e.click(),e.parentNode.firstElementChild.classList.remove("js-loaded")}),e.classList.add("js-reply-attaching")}),_defineProperty(e,"setup_gifts",function(){ConstructorUi.openGiftsRemodal(t.target)}),_defineProperty(e,"reply_toolbar",function(){var e=t.target.getElementsByClassName("js-reply-attachments")[0];e&&e.click()}),_defineProperty(e,"setup_yandex_quickpay",function(){ConstructorUi.openYandexQuickPayRemodal(t.target)}),e)[r.getAttribute("data-action")]()}),u.on("click",".js-delete-reply",function(e){var t=getParent(e.currentTarget,"js-block-wrapper"),a=t.getAttribute("data-type");if(a==ENUM_REPLY_TYPES.TYPE_POINT_ENTITY)ConstructorUi.setupPointForwards();else if(a==ENUM_REPLY_TYPES.TYPE_CONDITION_POINT_ENTITY){var n=t.getAttribute("data-selector"),s=BotConstructor.wideColumn.querySelector('.js-condition-point-end[data-selector="'.concat(n,'"]')),o=n.split("-")[1];ConstructorUi.deleteReply.call(s.firstChild),BotConstructor.wideColumn.querySelector('.js-block[data-id="'.concat(s.getAttribute("data-for"),'"]')).querySelector('.js-add-condition-scope-block[data-type="'.concat(o,'"]')).classList.remove("active")}else if(a==ENUM_REPLY_TYPES.TYPE_CONDITION_ENTITY){var r=t.getAttribute("data-id"),i=BotConstructor.wideColumn.querySelectorAll('.js-cond-point[data-for="'.concat(r,'"]'));Array.prototype.forEach.call(i,function(e){ConstructorUi.deleteReply.call(e.firstChild)})}ConstructorUi.deleteReply.call(e.currentTarget)}),u.on("click",".js-copy-block",function(e){if(!this.classList.contains("js-text-reply")){var o=getParent(e.currentTarget,"js-block-wrapper");e.currentTarget.parentNode.parentNode.parentNode.classList.remove("active"),ConstructorUi.afterSave=function(){ConstructorUi.afterSave=function(){};var e=o.getAttribute("data-id")||o.querySelector(".js-block").getAttribute("data-id");$.post("/ajax/bot/block_copy",{id:e},function(e){if(e.error)alertify.error("Ошибка, не удалось скопировать");else{var t=e.block;o.insertAdjacentHTML("afterend",t);var a=document.getElementById("add-block-template").innerHTML,n=o.nextElementSibling;n.insertAdjacentHTML("beforeend",a);var s=o.getAttribute("data-type");BotConstructor.blockCallbacks[s]&&BotConstructor.blockCallbacks[s](n),Emoji.updateBlocksVariables(),ConstructorUi.setupPointForwards(),AudienceFilters.existingFiltersList(n,!0)}})},document.getElementsByClassName("js-save-btn")[0].click()}}),document.getElementById("page-ref-link")&&(document.getElementById("page-ref-link").addEventListener("click",function(){var i=document.getElementById("ref-link-modal"),l=this,e=l.getAttribute("data-param");document.getElementById("ref-link-param").value=e,document.getElementById("ref-link-status-on").checked=l.classList.contains("active"),i.classList.contains("hidden")&&(i.classList.remove("hidden"),i.querySelector("#save-ref-link-btn").addEventListener("click",function(){var s=this,o=document.getElementById("ref-link-param").value.trim();s.classList.add("js-loading");var r=i.querySelector("#ref-link-status-on").checked;$.post("/ajax/bot/constructor/save_ref_link",{param:o,status:r,id:BotConstructor.search.get("id"),type:BotConstructor.search.get("type")},function(e){if(s.classList.remove("js-loading"),e.error)alertify.error(e.message||"Не удалось сохранить");else{var t,a=r?"add":"remove",n=document.getElementById("copy-ref-link-url");""!==o?(o=o.substr(0,512),document.getElementById("ref-link-param").value=o,t="https://vk.me/club".concat(document.getElementById("current-bot").getAttribute("data-group-id"),"?ref=").concat(o,"&sourceref=").concat(o),n.previousElementSibling.textContent=t.substr(8),n.previousElementSibling.setAttribute("href",t),n.setAttribute("data-clipboard-text",t),n.classList.remove("hidden")):(t="",n.previousElementSibling.setAttribute("href","#0"),a="remove",n.classList.add("hidden")),l.classList[a]("active"),l.setAttribute("data-param",o),i.querySelector("#copy-ref-link-btn").setAttribute("data-clipboard-text",t),alertify.success("Сохранено")}})}),new ClipboardJS("#copy-ref-link-btn"),document.getElementById("copy-ref-link-btn").addEventListener("click",function(){var e=this;e.lastChild.textContent="Ссылка скопирована!",setTimeout(function(){e.lastChild.textContent="Копировать ссылку"},500)}),document.getElementById("ref-link-param").addEventListener("input",function(){var e=this.value.trim();i.querySelector("#copy-ref-link-btn").setAttribute("data-clipboard-text","https://vk.me/club".concat(document.getElementById("current-bot").getAttribute("data-group-id"),"?ref=").concat(e,"&sourceref=").concat(va))})),i.querySelector("#copy-ref-link-btn").setAttribute("data-clipboard-text","https://vk.me/club".concat(document.getElementById("current-bot").getAttribute("data-group-id"),"?ref=").concat(e,"&sourceref=").concat(e)),$(i).remodal().open()}),document.getElementById("copy-ref-link-url").addEventListener("click",function(){var e=this;e.firstElementChild.textContent="Ссылка скопирована!",setTimeout(function(){e.firstElementChild.textContent="Копировать ссылку"},500)}),new ClipboardJS("#copy-ref-link-url")),document.getElementsByClassName("js-uses-count")[0]){var _=document.getElementById("constructor-messages-section").getAttribute("data-id");getText("/ajax/bot/template/get_message_stats",{type:BotConstructor.search.get("type"),id:_},function(t){t&&"error"!==t||(t=0),Array.prototype.forEach.call(document.getElementsByClassName("js-uses-count"),function(e){e.textContent=t,e.nextSibling.textContent=sklonen(t," раз"," раза"," раз")}),0<t&&document.getElementById("refresh-command-stats").classList.remove("hidden")})}},addFilesCountMouseEnterListeners:function(){var s=document.getElementById("current-bot");Array.prototype.forEach.call(BotConstructor.wideColumn.getElementsByClassName("js-load-files-count"),function(n){n.addEventListener("mouseenter",function(){var e=this.parentNode.previousElementSibling.getAttribute("data-id"),t=s.getAttribute("data-id"),a=BotConstructor.getForParam();getJSON("/ajax/get/bot/reply_attachments",{id:e,botId:t,for:a},function(e){if(!e.error&&0<e.count){var t=n.getElementsByClassName("js-reply-attachments")[0].firstElementChild;t.classList.remove("hidden"),t.textContent=e.count}})},{once:!0})})},openGiftsRemodal:function(e){var n=this,i=document.getElementById("gifts-plugin-modal");ConstructorUi.openRemodal(i,e,function(){if(getJSON("/ajax/get/bot/reply/gifts_plugin?id=".concat(i.getAttribute("data-id")),function(a){if(!a.error){var e=i.getElementsByClassName("js-form-control");Array.prototype.forEach.call(e,function(e){e.value=a.data[e.getAttribute("data-field")]});var t=0;a.data.content&&(t=a.data.content.split("\n").length),i.querySelector("#gifts-items-count").textContent=t,i.querySelector("#reply-gifts-plugin-status").checked=1==a.data.active;var n=i.querySelector("#gift-plugin-interval");Array.prototype.some.call(n.options,function(e,t){return e.value==a.data.gift_interval&&(n.selectedIndex=t,!0)});var s=i.querySelector("#gifts-recipients-count");0<a.users_count?(s.textContent=a.users_count,s.classList.remove("hidden")):s.classList.add("hidden");for(var o=i.querySelector("#gifts-notification-users-input");o.parentNode.previousElementSibling;)o.parentNode.parentNode.removeChild(o.parentNode.previousElementSibling);if(0<a.users.length){var r=a.users.reduce(function(e,t){return e+='<div class="ui-users-list__item js-user" data-id="'.concat(t.id,'"><a href="https://vk.com/id').concat(t.id,'" target="_blank">').concat(t.first_name," ").concat(t.last_name,'</a><button class="cross-btn js-remove-user"></button></div>')},"");o.parentNode.insertAdjacentHTML("beforebegin",r),i.querySelector("#gifts-notification-checkbox").checked=!0}else o.parentNode.insertAdjacentHTML("beforebegin",document.getElementById("self-recipient-template").innerHTML)}}),!i.classList.contains("js-inited")){i.classList.add("js-inited"),vkProfileLinkInput(i.querySelector("#gifts-notification-users-input")),i.querySelector("#save-reply-gifts-plugin").addEventListener("click",function(){var o={id:i.getAttribute("data-id")},e=i.getElementsByClassName("js-form-control");Array.prototype.forEach.call(e,function(e){o[e.getAttribute("data-field")]=e.value}),o.content=o.content.split("\n").map(function(e){return e.trim()}).join("\n");var t=i.querySelector("#gifts-file-item");t&&(o.content+="\n".concat(t.getAttribute("data-content")));var a=i.querySelector("#gift-plugin-interval");o.interval=a.options[a.selectedIndex].value;var n=i.querySelector("#gifts-notification-users-input");o.user_ids=[],i.querySelector("#gifts-notification-checkbox").checked&&(o.user_ids=Array.prototype.map.call(n.parentNode.parentNode.getElementsByClassName("js-user"),function(e){return e.getAttribute("data-id")})),o.active=i.querySelector("#reply-gifts-plugin-status").checked?1:0;var r=this;r.classList.add("js-loading"),$.post("/ajax/bot/reply/gifts_plugin",o,function(e){if(r.classList.remove("js-loading"),!e.error){var t,a=document.getElementById("gifts-items-count").textContent,n=BotConstructor.wideColumn.querySelector('.js-block[data-id="'.concat(o.id,'"]')),s=n.querySelector('[data-action="setup_gifts"]');0<a?(t=sklonen(a,"Остался ","Осталось ","Осталось ")+a+sklonen(a," купон"," купона"," купонов"),s.parentNode.classList.remove("js-no-keys")):(s.parentNode.classList.add("js-no-keys"),t="Не осталось купонов"),1==o.active?n.classList.remove("js-off"):n.classList.add("js-off"),s.textContent=t,alertify.success("Изменения сохранены")}})}),i.querySelector("#gifts-keys-content").addEventListener("keyup",function(){var e=0,t=this.value.trim();t&&(e=t.split("\n").filter(function(e){return 0<e.trim().length}).length);var a=i.querySelector("#gifts-file-item");a&&(e+=+a.getAttribute("data-count")),i.querySelector("#gifts-items-count").textContent=e}),document.getElementById("gifts-file-source").addEventListener("change",function(){try{Array.prototype.forEach.call(this.files,function(o){if(o.size<1048576){var e=new FileReader;e.onload=function(e){var t=e.target.result,a=(t=t.split("\n").filter(function(e){return 0<e.trim().length})).length;a+=sklonen(a," купон"," купона"," купонов");var n=i.querySelector("#gifts-plugin-attached-file-list"),s=i.querySelector("#gifts-items-count");n.firstElementChild&&(s.textContent-=n.firstElementChild.getAttribute("data-count")),n.innerHTML='<li id="gifts-file-item" data-count="'.concat(t.length,'" data-content="').concat(t.join("\n"),'">')+'                            <div class="name">'.concat(o.name," <span >").concat(a,"</span></div>")+'                            <button class="cross-btn js-remove-file">                                <span class="text-tooltip text-tooltip--right">Удалить файл</span></button>                        </li>',n.getElementsByClassName("js-remove-file")[0].addEventListener("click",function(){n.innerHTML="",s.textContent-=t.length}),s.textContent=+s.textContent+ +t.length},e.readAsText(o,"UTF-8")}else alertify.error("Максимальный размер файла 3 мб")})}catch(e){}}),$(document.body).on("closed","#gifts-plugin-modal",function(){var e=i.querySelector("#gifts-plugin-first-tab");e.click(),e.nextElementSibling.classList.add("js-load"),e.nextElementSibling.firstElementChild.classList.add("hidden");var t=i.querySelector("#gifts-file-item");t&&t.parentNode.removeChild(t)}),i.querySelector("#gifts-plugin-search-input").addEventListener("input",function(){var e=n.parentNode.parentNode.getElementsByClassName("js-gift-recipient"),t=n.value.trim();if(0===t.length)Array.prototype.forEach.call(e,function(e){e.style.display=""});else{var a=t.toLowerCase().trim();Array.prototype.forEach.call(e,function(e){var t=e.getElementsByClassName("js-recipient-name")[0];~t.textContent.toLowerCase().indexOf(a)||~t.nextElementSibling.firstElementChild.textContent.toLowerCase().indexOf(a)?e.style.display="":e.style.display="none"})}});var t=i.querySelector("#gifts-plugin-users-table");t.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("js-remove-gift-recipient")||t.parentNode.classList.contains("js-remove-gift-recipient")){var a=t.getAttribute("data-id"),n=t;a||(a=t.parentNode.getAttribute("data-id"),n=n.parentNode),$.post("/ajax/bot/reply/remove_gift_recipient",{id:a},function(e){e.error||(n.parentNode.parentNode.parentNode.parentNode.removeChild(n.parentNode.parentNode.parentNode),i.querySelector("#gifts-recipients-count").textContent--)})}}),i.querySelector("#gifts-plugin-users-tab").addEventListener("click",function(){this.classList.contains("js-load")&&(this.classList.remove("js-load"),getJSON("/ajax/get/bot/reply/gifts_plugin_users?id=".concat(i.getAttribute("data-id")),function(e){if(!e.error){if(0===e.items.length)return t.parentNode.previousElementSibling.classList.add("hidden"),void t.nextElementSibling.classList.remove("hidden");t.innerHTML=e.items.reduce(function(e,t){var a=flatpickr.parseDate(new Date(1e3*t.created_at),"H:i d.m.Y");return a=flatpickr.formatDate(a,"j F, Y H:i"),a=formatMonth(a),e+='<div class="js-gift-recipient" data-id="'.concat(t.id,'"><a href="https://vk.com/id').concat(t.user_id,'" target="_blank"></a>')+'                        <div data-label="Пользователь">                            <div>'+'                                <img src="'.concat(t.photo_50,'" alt="" class="table__row-image">')+'                                <div class="label js-recipient-name">'.concat(t.first_name," ").concat(t.last_name,"</div>")+"                                <p>Купон: <b>".concat(t.gift,"</b></p>")+'                            </div>                        </div>                        <div data-label="Получил купон">'+'                            <div class="lowercase">'.concat(a,"</div>")+'                        </div>                        <div>                            <div class="relative hover-hidden">'+'                                <button class="cross-btn js-remove-gift-recipient" data-id="'.concat(t.id,'">')+'                                    <span class="text-tooltip text-tooltip--top right">                                        Удалить запись                                    </span>                                </button>                            </div>                        </div>                    </div>'},"<div><div>Пользователь</div><div>Получил купон</div><div></div></div>"),t.parentNode.previousElementSibling.classList.remove("hidden"),t.nextElementSibling.classList.add("hidden")}}))})}})},openYandexQuickPayRemodal:function(e){var l=document.getElementById("yandex-quickpay-modal");l.classList.remove("hidden"),$(l).remodal().open(),ConstructorUi.openRemodal(l,e,function(){getJSON("/ajax/get/bot/reply/yandex_quickpay_plugin?id=".concat(l.getAttribute("data-id")),function(n){if(!n.error){Object.keys(n.data).map(function(e){var t=n.data[e],a=l.querySelector('[data-field="'.concat(e,'"]'));a&&("checkbox"===a.getAttribute("type")?a.checked=1==t:a.value=t)}),document.getElementById("yandex-qp-comment-checkbox").checked=""!==n.data.comment;var a="";n.data.vars&&"null"!==n.data.vars?(document.getElementById("yandex-qp-change-vars-checkbox").checked=!0,n.data.vars=JSON.parse(n.data.vars),a=" active"):(document.getElementById("yandex-qp-change-vars-checkbox").checked=!1,n.data.vars=[["",""]]);var e='<div class="btn-dropdown">';e+=n.data.vars.reduce(function(e,t){return e+='<div class="flex-wrap js-variables-row">    <div class="relative">        <div class="svp-variables cf-input js-variable-input-space">            <div class="cvp-input-box">'+'                <div class="cvp-input-box__design-input-wrapper'.concat(a,'">')+'                    <div class="cvp-input js-no-line-break js-variable-name js-no-insert" spellcheck="false" placeholder="Введите переменную" contenteditable="true">'.concat(t[0],"</div>")+'                    <div class="sk left">{{</div>                    <div class="sk right">}}</div>                </div>            </div>        </div>    </div>    <div class="division">=</div>    <div>'+'   <div class="form-control form-control--textarea js-contenteditable js-vars" spellcheck="false" contenteditable="true">'.concat(t[1],"</div>")+'    </div>    <div class="ui-conversations__control-btn remove-btn not-focus hidden js-remove-var-row"></div></div>'},""),e+='      <div class="add-option-wrap">              <span class="add-option js-add-variable-row" data-limit="5">                  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="Capa_1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 510 510" style="enable-background:new 0 0 510 510;" xml:space="preserve" class="inline-icon">                  <g>                      <g>                          <path d="M255,0C114.75,0,0,114.75,0,255s114.75,255,255,255s255-114.75,255-255S395.25,0,255,0z M255,459    c-112.2,0-204-91.8-204-204S142.8,51,255,51s204,91.8,204,204S367.2,459,255,459z" fill="#808080"></path>                          <path d="M280.5,229.5V153h-51v76.5H153v51h76.5V357h51v-76.5H357v-51H280.5z" fill="#808080"></path>                      </g>                  </g>                  </svg>                  Добавить поле              </span>      </div>  </div>',document.getElementById("yandex-qp-change-vars-container").innerHTML=e,document.getElementById("yandex-qp-notify-checkbox").checked=null!==n.data.notification_message;for(var t=document.getElementById("yandex-qp-notification-users-input").parentNode;t.previousElementSibling;)t.parentNode.removeChild(t.previousElementSibling);t.insertAdjacentHTML("beforebegin",n.recipients.reduce(function(e,t){return e+='<div class="ui-users-list__item js-user" data-id="'.concat(t.user_id,'"><a href="https://vk.com/id').concat(t.user_id,'" target="_blank">').concat(t.first_name," ").concat(t.last_name,'</a><button class="cross-btn js-remove-user"></button></div>')},""));var s=l.getElementsByClassName("js-forward-breadcrumbs-input")[0],o=s.parentNode.parentNode,r="",i="";n.data.fwd_message_id?(r=ConstructorUi.FORWARD_ITEMS.MESSAGE,i=n.data.fwd_message_id):n.data.fwd_reply_id?(r=ConstructorUi.FORWARD_ITEMS.REPLY,i=n.data.fwd_reply_id):1==n.data.fwd_root&&(r=ConstructorUi.FORWARD_ITEMS.ROOT,i=0),document.getElementById("yandex-qp-forward-user-checkbox").checked=""!==i,s.setAttribute("data-type",r),s.setAttribute("data-value",i),getJSON("/ajax/get/bot/command_by_id",{id:i,type:r},function(e){e.error||e.result&&(s.innerHTML=e.result,ConstructorUi.selectForwardOptions.call(o))})}}),l.classList.contains("js-inited")||(l.classList.add("js-inited"),ConstructorUi.addForwardingEventsHandler(l),vkProfileLinkInput(document.getElementById("yandex-qp-notification-users-input")),document.getElementById("yandex-quickpay-sum").addEventListener("input",function(e){var t=this.value.trim();""!==t&&(15e3<t&&(t=15e3),this.value=t,e.preventDefault())}),document.getElementById("yandex-qp-comment").addEventListener("input",function(){200<this.value.length&&(this.value=this.value.trim().substr(0,200))}),document.getElementById("save-yandex-qp-form").addEventListener("click",function(){var t=this;t.classList.add("js-loading");var a={id:l.getAttribute("data-id")};if(Array.prototype.forEach.call(l.querySelectorAll("[data-field]"),function(e){"checkbox"==e.getAttribute("type")?a[e.getAttribute("data-field")]=e.checked?1:0:a[e.getAttribute("data-field")]=e.value.trim()}),document.getElementById("yandex-qp-comment-checkbox").checked||(a.comment=""),document.getElementById("yandex-qp-forward-user-checkbox").checked){var e=l.getElementsByClassName("js-forward-breadcrumbs-input")[0];a.forward={id:e.getAttribute("data-value"),type:e.getAttribute("data-type")}}document.getElementById("yandex-qp-notify-checkbox").checked&&(a.notification={message:wrapDomElement(document.getElementById("yanedex-qp-notification-message")),recipients:Array.prototype.reduce.call(l.getElementsByClassName("js-user"),function(e,t){return e.push(t.getAttribute("data-id")),e},[])}),document.getElementById("yandex-qp-change-vars-checkbox").checked&&(a.vars=Array.prototype.reduce.call(l.querySelector("#yandex-qp-change-vars-container").getElementsByClassName("js-variable-name"),function(e,t){return e.push({name:t.textContent,value:wrapDomElement(t.parentNode.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.firstElementChild)}),e},[])),$.post("/ajax/bot/reply/yandex_quick_payment_plugin",a,function(e){t.classList.remove("js-loading"),e.error||alertify.success("Настройки плагина сохранены")})}),document.getElementById("yandex-qp-forward-content").innerHTML=document.getElementById("template-forwarding-block").getElementsByClassName("js-forward-link-field")[0].outerHTML)})},selectForwardHandler:function(){var a=this.parentNode.parentNode.nextElementSibling.getElementsByClassName("js-forward-items-list")[0],e=this.options[this.selectedIndex].getAttribute("data-id");getJSON("/ajax/get/constructor/section?id=".concat(e),function(e){if(!e.error){var t=a.parentNode.parentNode.parentNode;0<e.options.length?(a.previousElementSibling&&a.parentNode.removeChild(a.previousElementSibling),5<e.options.length&&a.insertAdjacentHTML("beforebegin",'<div><input class="dropdown__search" placeholder="Поиск"><div class="js-no-results"></div></div>'),a.innerHTML=e.options.reduce(function(e,t){return e+='<li data-id="'.concat(t.id,'" data-type="0">'),t.icon&&(e+='<img src="'.concat(t.icon,'" alt="" class="inline-icon">')),e+="".concat(decodeEntities(t.title),"</li>")},""),5<e.options.length&&addSearchInput(a.previousElementSibling,a.children),t.classList.remove("hidden")):t.classList.add("hidden"),t.getElementsByClassName("js-forward-custom-dropdown")[0].classList.add("active")}})},selectForwardOptions:function(e){if(e&&"A"===e.target.tagName){var t=e.target.previousElementSibling.firstElementChild.lastElementChild,a=t.getAttribute("data-id"),n=t.getAttribute("data-type");if(!a){if(0==(a=e.target.previousElementSibling.getAttribute("data-value")))return void e.target.setAttribute("href","/bot?act=scenario");if(null==a)return!1;n=6}var s="/bot?act=keywords&type=".concat(n,"&id=").concat(a);e.target.setAttribute("href",s)}if(!this.classList.contains("js-loaded")){this.classList.add("js-loaded"),this.parentNode.parentNode.parentNode.parentNode.classList.remove("js-not-modified");var o=this.getElementsByClassName("js-forward-breadcrumbs-input")[0],r=!1,i="",l=o.firstElementChild.getElementsByTagName("div");Array.prototype.forEach.call(l,function(e,t){var a=e.getAttribute("data-id");t%2==0&&(i+='<div class="command-link__row">');var n=l.length-1==t?"active":"";if(null==a&&(n=" "),0==t){var s=2==a?"selected":"";i+='<div class="command-link__select-wrap js-forward-select-wrap '.concat(n,'" data-message-type="0" data-id="0">')+'            <div class="select-wrapper">                <select class="form-control">                    <option value="2" data-id="2">Сценарий</option>'+'                    <option value="1" data-id="1" '.concat(s,">Настройки</option>")+'                </select>            </div>            <div class="command-link__check-point js-radio-check">                <div class="text-tooltip text-tooltip--top">                    Переход в начало сценария                </div>            </div>        </div>',""!==n&&(r=!0,i+='<div class="command-link__select-wrap js-forward-select-wrap" data-message-type="2">    <div class="dropdown-wrapper">        <button type="button" class="dropdown-toggle js-forward-custom-dropdown js-load form-control">            <span class="filter-option"><b class="js-select-text">Выберите команду</b></span>            <span class="arrow"></span>        </button>        <div class="dropdown-menu" data-tooltip-ignore="">            <ul class="js-forward-items-list"></ul>        </div>    </div>    <div class="command-link__check-point js-radio-check">        <div class="text-tooltip text-tooltip--top">            Переход к этой команде        </div>    </div></div>')}else{var o=t%2==1?2:1;1==t&&(o=0),i+='<div class="command-link__select-wrap js-forward-select-wrap '.concat(n,'" data-message-type="').concat(o||2,'" data-id="').concat(a,'">')+'    <div class="dropdown-wrapper">        <button type="button" class="dropdown-toggle js-forward-custom-dropdown js-load form-control">'+'            <span class="filter-option"><b class="js-select-text">'.concat(e.textContent,"</b></span>")+'            <span class="arrow"></span>        </button>        <div class="dropdown-menu" data-tooltip-ignore="">'+'            <ul class="js-forward-items-list"><li class="js-selected" data-id="'.concat(a,'" data-type="').concat(o,'">').concat(e.textContent,"</li></ul>")+'        </div>    </div>    <div class="command-link__check-point js-radio-check">        <div class="text-tooltip text-tooltip--top">            Переход к этой команде        </div>    </div></div>'}t%2==1&&(i+="</div>")}),this.lastElementChild.innerHTML=i,r&&!o.hasAttribute("data-selected")&&ConstructorUi.selectForwardHandler.call(this.getElementsByTagName("select")[0])}},addForwardingEventsHandler:function(e){var t=$(e);function c(e){var t=this.parentNode.parentNode.parentNode.getElementsByClassName("js-forward-select-wrap active")[0],a=this.parentNode,n=a.parentNode.parentNode.previousElementSibling.getElementsByClassName("js-forward-breadcrumbs-input")[0];if(!0!==e){if(t&&(t.classList.remove("active"),t==a))return n.setAttribute("data-type",null),void r(n);if(!a.hasAttribute("data-id"))return void alertify.error("Выберите команду")}var s=a.getAttribute("data-id"),o=a.getAttribute("data-message-type");n.setAttribute("data-value",s),n.setAttribute("data-type",o),getJSON("/ajax/get/bot/command_by_id",{id:s,type:o},function(e){!e.error&&e.result?n.innerHTML=e.result:r(n)}),this.parentNode.classList.add("active")}function r(e){e.removeAttribute("data-value"),e.innerHTML='<div class="breadcrumbs">                        <div class="breadcrumbs__link js-breadcrumbs-placeholder" title="Сценарий">                            Выберите команду для перехода                        </div>                    </div>'}t.on("click",".js-forward-link-field",ConstructorUi.selectForwardOptions),t.on("change",".js-forward-tooltip select",function(){var e=this.parentNode.parentNode.nextElementSibling.getElementsByClassName("js-forward-items-list")[0];e.parentNode.parentNode.parentNode.removeAttribute("data-id"),e.parentNode.previousElementSibling.getElementsByClassName("js-select-text")[0].textContent="Выберите команду",e.parentNode.previousElementSibling.parentNode.parentNode.classList.remove("active");for(var t=this.parentNode.parentNode.parentNode;t.nextElementSibling;)t.parentNode.removeChild(t.nextElementSibling);ConstructorUi.selectForwardHandler.call(this)}),t.on("click",".js-forward-items-list li",function(){var e=this,t=e.parentNode.getElementsByClassName("js-selected")[0],a=e.getAttribute("data-id"),i=e.getAttribute("data-type");if(t&&(t.classList.remove("js-selected"),t==e)){this.parentNode.parentNode.previousElementSibling.getElementsByClassName("js-select-text")[0].textContent="Выберите команду";var n=e.parentNode.parentNode.parentNode.parentNode,s=n.parentNode;if(n.removeAttribute("data-id"),n.classList.remove("active"),r(s.parentNode.previousElementSibling.getElementsByClassName("js-forward-breadcrumbs-input")[0]),0==i||1==i)for(;s.nextElementSibling;)s.parentNode.removeChild(s.nextElementSibling);else 1<s.children.length&&s.removeChild(s.lastElementChild)}else{var l=e.parentNode.parentNode,o=l.parentNode.parentNode;e.classList.add("js-selected"),l.previousElementSibling.getElementsByClassName("js-select-text")[0].innerHTML=e.innerHTML,o.setAttribute("data-id",e.getAttribute("data-id")),l.previousElementSibling.classList.remove("active"),1==o.getAttribute("data-message-type")&&(i=2),getJSON("/ajax/get/constructor/message",{id:a,type:i},function(e){if(!e.error){if(l.previousElementSibling.parentNode.parentNode.classList.contains("active")||0===e.options.length){var t=l.parentNode.parentNode.parentNode.parentNode.getElementsByClassName("js-forward-select-wrap active")[0];t&&t.classList.remove("active");var a=l.parentNode.parentNode.getElementsByClassName("js-radio-check")[0];c.call(a,!0)}if(i==ConstructorUi.FORWARD_ITEMS.ROOT||i==ConstructorUi.FORWARD_ITEMS.REPLY){for(var n=l.parentNode.parentNode.parentNode;n.nextElementSibling;)n.parentNode.removeChild(n.nextElementSibling);if(0===e.options.length)return;var s='<div class="command-link__row"> <div class="command-link__select-wrap js-forward-select-wrap" data-message-type="1">                        <div class="dropdown-wrapper">                            <button type="button" class="dropdown-toggle js-forward-custom-dropdown form-control">                                <span class="filter-option"><b class="js-select-text">Выберите команду</b></span>                                <span class="arrow"></span>                            </button>                            <div class="dropdown-menu" data-tooltip-ignore="">';5<e.options.length&&(s+='<div><input class="dropdown__search" placeholder="Поиск"><div class="js-no-results"></div></div>'),s+='<ul class="js-forward-items-list">',s+=e.options.reduce(function(e,t){return e+='<li data-id="'.concat(t.id,'" data-type="').concat(ConstructorUi.FORWARD_ITEMS.MESSAGE,'">'),t.icon&&(e+='<img src="'.concat(t.icon,'" alt="" class="inline-icon">')),e+="".concat(t.title,"</li>")},""),s+='</ul></div></div><div class="command-link__check-point js-radio-check"><div class="text-tooltip text-tooltip--top">Переход к этой команде</div></div></div></div>',n.insertAdjacentHTML("afterend",s)}else{var o=l.parentNode.parentNode.parentNode;if(1<o.children.length&&o.removeChild(o.lastElementChild),0===e.options.length)return;var r='<div class="command-link__select-wrap js-forward-select-wrap" data-message-type="2">                        <div class="dropdown-wrapper">                            <button type="button" class="dropdown-toggle js-forward-custom-dropdown form-control">                                <span class="filter-option"><b class="js-select-text">Выберите команду</b></span>                                <span class="arrow"></span>                            </button>                            <div class="dropdown-menu" data-tooltip-ignore="">                                <ul class="js-forward-items-list">';r+=e.options.reduce(function(e,t){return e+='<li data-id="'.concat(t.id,'" data-type="').concat(ConstructorUi.FORWARD_ITEMS.REPLY,'">'),t.icon&&(e+='<img src="'.concat(t.icon,'" alt="" class="inline-icon">')),e+="".concat(t.title,"</li>")},""),r+='</ul></div></div><div class="command-link__check-point js-radio-check"><div class="text-tooltip text-tooltip--top">Переход к этой команде</div></div></div>',o.insertAdjacentHTML("beforeEnd",r)}}})}}),t.on("click",".js-radio-check",c),t.on("click",".js-forward-custom-dropdown",function(){var e=this.parentNode.parentNode.parentNode.parentNode.getElementsByClassName("js-forward-custom-dropdown active")[0];if(e&&e!=this&&e.classList.remove("active"),this.classList.contains("js-load")){this.classList.remove("js-load");var t=this.nextElementSibling.firstElementChild,n=this.parentNode.parentNode.getAttribute("data-id"),s=this.parentNode.parentNode.getAttribute("data-message-type");if(!n)return void this.classList.toggle("active");getJSON("/ajax/get/constructor/command_list",{id:n,type:s},function(e){e.error||(s=1==s?2:1,5<e.options.length&&t.insertAdjacentHTML("beforebegin",'<div><input class="dropdown__search" placeholder="Поиск"><div class="js-no-results"></div></div>'),t.innerHTML=e.options.reduce(function(e,t){var a=t.id==n?'class="js-selected"':"";return e+='<li data-id="'.concat(t.id,'" ').concat(a,' data-type="').concat(s,'">'),t.icon&&(e+='<img src="'.concat(t.icon,'" alt="" class="inline-icon">')),e+="".concat(t.title,"</li>")},""),5<e.options.length&&addSearchInput(t.previousElementSibling,t.children))})}this.classList.toggle("active")})},openVarsModal:function(){var e=document.getElementById("open-user-vars-values-modal");if(e){var s=function(e){return e.reduce(function(e,t){return e+='<div class="js-view-user-vars" data-id="'.concat(t.id,'">')+'                    <div data-label="Пользователь">                        <div>'+'                            <img src="'.concat(t.photo_50,'" alt="" class="table__row-image" data-object="photo">')+'                            <div class="label" data-object="name">'.concat(t.first_name," ").concat(t.last_name,"</div>")+'                            <p data-object="vars_count">'.concat(t.vars_count," ").concat(sklonen(t.vars_count,"переменная","переменных","переменных"),"</p>")+'                        </div>                    </div>                    <div data-label="Действие">                        <div>                        </div>                    </div>                </div>'},"")};e.addEventListener("click",function(){var r=document.getElementById("vars-users-modal");getJSON("/ajax/get/bot/variables_users",function(e){$("#vars-users-modal").remodal().open();for(var t=s(e.list),a=document.getElementById("variables-users-table-header");a.nextElementSibling;)a.parentNode.removeChild(a.nextElementSibling);""===t?a.parentNode.nextElementSibling.classList.remove("hidden"):(a.parentNode.nextElementSibling.classList.add("hidden"),a.insertAdjacentHTML("afterend",t)),r.querySelector("#vars-users-list").classList.remove("js-loading-items")}),r.classList.contains("hidden")&&(r.classList.remove("hidden"),live("click",".js-view-user-vars",function(){var s=this.getAttribute("data-id"),o=this;getJSON("/ajax/get/bot/user_variables",{userId:s},function(e){if(!e.error){var n=document.getElementById("vars-users-list");n.classList.add("hidden"),n.previousElementSibling.classList.add("hidden"),n.nextElementSibling.classList.remove("hidden");var t=n.nextElementSibling.nextElementSibling;t.classList.remove("hidden","js-loading-items"),t.nextElementSibling.classList.remove("hidden"),r.querySelector("#update-user-variables-values").setAttribute("data-user-id",s),Array.prototype.forEach.call(o.querySelectorAll("[data-object]"),function(e){var t=e.getAttribute("data-object"),a=n.nextElementSibling.querySelector('[data-object="'.concat(t,'"]'));"IMG"===a.tagName?a.setAttribute("src",e.getAttribute("src")):a.textContent=e.textContent});var a=t.getElementsByTagName("ul")[0];a.innerHTML=e.list.reduce(function(e,t){return e+='<li>     <div class="form__label">'+'         <span class="text-var number">{{ '.concat(t.name," }}</span>")+'     </div>     <div>         <div class="">'+'             <span class="division">=</span> <input type="text" class="form-control js-variable" data-id="'.concat(t.id,'" value="').concat(t.value,'" data-value="').concat(t.value,'">')+"         </div>     </div> </li>"},""),t.addEventListener("scroll",function(){t.scrollTop+350>=t.scrollHeight-t.clientHeight&&!t.classList.contains("js-loading-items")&&(t.classList.add("js-loading-items"),getJSON("/ajax/get/bot/user_variables",{userId:s,offset:a.lastElementChild.getElementsByClassName("js-variable")[0].getAttribute("data-id")},function(e){0<e.list.length&&(a.innerHTML+=e.list.reduce(function(e,t){return e+='<li>     <div class="form__label">'+'         <span class="text-var number">{{ '.concat(t.name," }}</span>")+'     </div>     <div>         <div class="">'+'             <span class="division">=</span> <input type="text" class="form-control js-variable" data-id="'.concat(t.id,'" value="').concat(t.value,'" data-value="').concat(t.value,'">')+"         </div>     </div> </li>"},""),t.classList.remove("js-loading-items"))}))})}})}),r.querySelector("#vars-users-list").addEventListener("scroll",function(){var a=this;if(a.scrollTop+350>=a.scrollHeight-a.clientHeight&&!a.classList.contains("js-loading-items")){a.classList.add("js-loading-items");var n=document.getElementById("variables-users-table-header"),e=n.parentNode.lastElementChild.getAttribute("data-id"),t=r.querySelector("#vars-users-search-input").value.trim();0<t.length&&(e=n.parentNode.children.length-1),getJSON("/ajax/get/bot/variables_users",{offset:e,q:t},function(e){if(0<e.list.length){var t=s(e.list);n.parentNode.insertAdjacentHTML("beforeend",t),a.classList.remove("js-loading-items")}})}return!0}),r.querySelector("#vars-users-search-input").addEventListener("input",function(){var n=document.getElementById("variables-users-table-header"),e=this;delayCallback(function(){var a=r.querySelector("#vars-users-list");a.classList.add("js-loading-items"),getJSON("/ajax/get/bot/variables_users",{q:e.value.trim()},function(e){for(;n.nextElementSibling;)n.parentNode.removeChild(n.nextElementSibling);if(0<e.list.length){var t=s(e.list);n.insertAdjacentHTML("afterend",t),a.classList.remove("js-loading-items")}})},400)}),r.querySelector("#close-vars-user-view").addEventListener("click",function(){var e=document.getElementById("vars-users-list");e.classList.remove("hidden"),e.previousElementSibling.classList.remove("hidden"),e.nextElementSibling.classList.add("hidden"),e.nextElementSibling.nextElementSibling.classList.add("hidden"),e.nextElementSibling.nextElementSibling.nextElementSibling.classList.add("hidden")}),r.querySelector("#update-user-variables-values").addEventListener("click",function(){var t=this;t.classList.add("js-loading");var e=this.getAttribute("data-user-id"),a=Array.prototype.reduce.call(r.getElementsByClassName("js-variable js-changed"),function(e,t){return e.push({id:t.getAttribute("data-id"),val:t.value.trim()}),e},[]);if(0===a.length)return t.classList.remove("js-loading"),void alertify.error("Данные не изменены");$.post("/ajax/bot/constructor/user_variables",{vars:a,userId:e},function(e){t.classList.remove("js-loading"),e.error||(Array.prototype.forEach.call(r.getElementsByClassName("js-variable js-changed"),function(e){e.classList.remove("js-changed"),e.setAttribute("data-value",e.value.trim())}),alertify.success("Значения обновлены"))})}),$(document.body).on("closed","#vars-users-modal",function(){r.querySelector("#close-vars-user-view").click()}),r.addEventListener("input",function(e){var t=e.target;t.classList.contains("js-variable")&&(t.value.trim()!=t.getAttribute("data-value")?t.classList.add("js-changed"):t.classList.remove("js-changed"))}))})}},addKeyboardModal:function(){var e=document.getElementById("open-message-keyboard-modal");if(e){e.addEventListener("click",ConstructorUi.openKeyboardModal);var t=document.getElementById("copy-current-command-btn");t&&(1!=BotConstructor.search.get("type")?t.addEventListener("click",function(){ConstructorUi.copyCommand(BotConstructor.search.get("id"))}):t.classList.add("hidden")),ConstructorUi.openVarsModal();var a=document.getElementById("open-variables-modal-btn");a&&a.addEventListener("click",function(){var o=document.getElementById("variables-remodal");function s(){getJSON("/ajax/get/constructor/template_variables",function(e){if(!e.error){for(var t=o.querySelector("#variables-table-header"),a=t.parentNode;t.nextElementSibling;)a.removeChild(t.nextElementSibling);var n=e.list.reduce(function(e,t){return e+='  <div class="responsivetable__row js-variable-item" data-id="'.concat(t.id,'">\n                            <div data-label="Название">\n                                <div>\n                                    ').concat(t.name,'\n                                </div>\n                            </div>\n                            <div data-label="Тип">\n                                <div class="js-var-type">\n                                    ').concat(0==t.value_type_id?"Строка":"Число",'\n                                </div>\n                            </div>\n                            <div data-label="Значение">\n                                <div>\n                                    <input type="text" class="responsivetable__formfield js-default-value" data-field="default_value" placeholder="" value="').concat(t.default_value||"",'">\n                                </div>\n                            </div>\n                            <div data-label="Описание">\n                                <div>\n                                    <input type="text" class="responsivetable__formfield js-var-description" data-field="description" placeholder="Добавить описание" value="').concat(t.description||"",'">\n                                </div>\n                            </div>\n                            <div data-label="Действие">\n                                <div>\n                                    <button class="default-btn default-btn--icon-style default-btn--outline js-edit-variable-item">\n                                        <img src="/svg/db/elements/edit_gray.svg" alt="" class="btn-icon">\n                                        <span class="text-tooltip text-tooltip--top">\n                                    Редактировать\n                                </span>\n                                    </button>\n                                    <button class="default-btn default-btn--icon-style default-btn--outline js-delete-variable">\n                                        <img src="/svg/db/elements/trash_gray.svg" alt="" class="btn-icon">\n                                        <span class="text-tooltip text-tooltip--top">\n                                        Удалить\n                                    </span>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>')},"");n&&t.insertAdjacentHTML("afterend",n)}})}if(o.classList.add("show"),s(),!o.classList.contains("js-inited")){o.classList.add("js-inited"),o.close=function(){o.classList.remove("show"),o.querySelector("#variable-view-tab").classList.add("hidden")},$(o.querySelector("#variables-table-header").parentNode).on("input","input",function(){var t=this;delayElemCallback(t,function(){var e=getParent(t,"js-variable-item").getAttribute("data-id");$.post("/ajax/bot/constructor/variable/update",{id:e,field:t.getAttribute("data-field"),value:t.value.trim()})},250)}),o.addEventListener("click",function(e){e.target===this&&o.close()}),o.querySelector("#variables-modal-close-action").addEventListener("click",o.close),o.querySelector("#close-variable-view-tab").addEventListener("click",function(){o.querySelector("#variable-view-tab").classList.add("hidden")}),$(document.body).on("closing","#variables-remodal",function(){setTimeout(function(){o.querySelector("#close-variable-modal").click()},500)}),document.getElementById("reset-vars-btn").addEventListener("click",function(){alertify.okBtn("Сбросить значения").cancelBtn("Отмена").confirm("Вы действительно хотите удалить значения всех переменных у пользователей? <br>Это действие нельзя отменить",function(){$.post("/ajax/constructor/reset_vars",{},function(e){e.error||alertify.success("Значения переменных очищены")})})}),live("click",".js-delete-variable",function(e){var t=getParent(this,"js-variable-item"),a=t.getAttribute("data-id");alertify.okBtn("Удалить").cancelBtn("Отмена").confirm("Вы уверены, что хотите безвозвратно удалить переменную?",function(){$.post("/ajax/bot/constructor/variable/remove",{id:a},function(e){e.error||(alertify.success("Переменная удалена"),t.parentNode.removeChild(t))})})},o),live("click",".js-edit-variable-item",function(e){var s=getParent(e.target,"js-variable-item").getAttribute("data-id");getJSON("/ajax/get/constructor/template_variables",{id:s},function(e){if(e.error)alertify.error("Ошибка!");else{var n=e.item,t=o.querySelector("#variable-view-tab");t.setAttribute("data-id",s),t.classList.remove("hidden");var a=t.querySelectorAll("[name]");o.querySelector("#current-variable-name").innerHTML="<span>{{".concat(n.name,"}}</span>"),Array.prototype.forEach.call(a,function(a){"INPUT"===a.tagName?a.value=n[a.name]:"SELECT"===a.tagName?(Array.prototype.forEach.call(a.options,function(e,t){a.options[t].value==n[a.name]&&(a.selectedIndex=t)}),triggerEvent(a,"change")):"BUTTON"===a.tagName&&a.nextElementSibling.querySelector('.js-select-item[data-id="'.concat(n[a.name],'"]')).click()})}})},o.querySelector("#variables-table-header").parentNode),document.getElementById("add-user-variable-btn").addEventListener("click",function(){o.querySelector("#variable-view-tab").classList.remove("hidden");var e=o.querySelector("#variable-view-tab");e.setAttribute("data-id",0),Array.prototype.forEach.call(e.getElementsByTagName("input"),function(e){e.value=""}),Array.prototype.forEach.call(e.getElementsByTagName("select"),function(e){e.selectedIndex=0,triggerEvent(e,"change")});var t=o.querySelector("#current-variable-name");t.previousSibling.textContent="",t.textContent="{{ }}"});var t=document.getElementById("variables-list-search-input"),r=o.querySelector("#variables-table-header").parentNode.parentNode.nextElementSibling;t.addEventListener("input",function(){var e=o.querySelector("#variables-table-header").parentNode.getElementsByClassName("js-variable-item");if(t.value.length){var a=t.value.toLowerCase().trim(),n=!1;Array.prototype.forEach.call(e,function(e){var t=e.getElementsByClassName("js-item-title")[0];~(t=t?t.textContent.toLowerCase():e.textContent.toLowerCase()).indexOf(a)?(e.style.display="",n=!0):e.style.display="none"}),r.classList.toggle("hidden",n)}else Array.prototype.forEach.call(e,function(e){e.style.display=""}),r.classList.add("hidden")}),o.querySelector("#variable-type-select").addEventListener("change",function(){if(1==this.options[this.selectedIndex].value){var e=o.querySelectorAll("[data-number-var]");Array.prototype.forEach.call(e,function(e){e.classList.remove("hidden")})}else{o.getElementsByClassName("js-select-item")[0].click();var t=o.querySelectorAll("[data-number-var]");Array.prototype.forEach.call(t,function(e){e.classList.add("hidden")})}}),o.querySelector("#save-variable-btn").addEventListener("click",function(){var t=this,e=document.getElementById("current-variable-input").value.trim();if(e.match(/^([a-zA-Zа-яА-ЯёЁ]([_-]?[a-zA-Z0-9а-яА-ЯёЁ]+)*)$/))if(24<e.length)alertify.error("Слишком длинное название переменной");else{t.classList.add("js-loading");var a={},n=o.querySelector("#variable-view-tab");a.id=n.getAttribute("data-id")||0,Array.prototype.forEach.call(n.getElementsByTagName("input"),function(e){a[e.getAttribute("name")]=e.value}),Array.prototype.forEach.call(n.getElementsByTagName("select"),function(e){a[e.getAttribute("name")]=e.options[e.selectedIndex].value}),a.type_id=o.querySelector("#variable-type-btn").getAttribute("data-value"),$.post("/ajax/bot/constructor/variable/save",a,function(e){t.classList.remove("js-loading"),e.error?alertify.error(e.message||"Ошибка сохранения"):(s(),n.setAttribute("data-id",e.id),alertify.success("Переменная сохранена"),Emoji.get(!0))})}else alertify.error("Неверный формат названия переменной")}),Array.prototype.forEach.call(o.getElementsByClassName("js-select-item"),function(e){e.addEventListener("click",function(){var e=this.parentNode.parentNode;e.getElementsByClassName("js-selected")[0].classList.remove("js-selected"),this.classList.add("js-selected"),e.previousElementSibling.classList.remove("active"),e.previousElementSibling.firstElementChild.textContent=this.textContent,e.previousElementSibling.setAttribute("data-value",this.getAttribute("data-id"));var t=o.querySelectorAll("[data-dynamic]"),a=o.querySelectorAll("[data-const-hide]");"variable-dynamic-type"===this.id?Array.prototype.forEach.call(t,function(e){e.classList.remove("hidden")}):Array.prototype.forEach.call(t,function(e){e.classList.add("hidden")});var n=o.querySelector("#variable-type-select");0!=n.options[n.selectedIndex].value&&Array.prototype.forEach.call(a,function(e){e.classList.remove("hidden")})})}),document.getElementById("current-variable-input").addEventListener("input",function(){var e=this.value.trim();30<e.length&&(this.value=e.substr(0,30),this.setSelectionRange(30,30)),e.match(/^([a-zA-Zа-яА-ЯёЁ]([_-]?[a-zA-Z0-9а-яА-ЯёЁ]+)*)$/)?this.parentNode.classList.remove("js-error"):this.parentNode.classList.add("js-error"),document.getElementById("current-variable-name").textContent="{{".concat(e,"}}")})}})}},openKeyboardModal:function(o){var e=this,Y=document.getElementById("message-keyboard-modal"),d=Y.querySelector("#keyboard-buttons-container");function r(e){e.sortable=new Sortable(e,{group:{name:2,pull:!0,put:function(e){return e.el.children.length<5}},sort:!0,animation:200,delay:0,touchStartThreshold:3,fallbackTolerance:2,forceFallback:!0,ghostClass:"js-sortable-ghost",chosenClass:"js-sortable-chosen",dragClass:"js-sortable-drag",onStart:function(){d.classList.add("js-dragging")},onEnd:function(e){d.classList.remove("js-dragging"),0===e.from.children.length&&d.removeChild(e.from),e.to.classList.remove("btns-editor__row-container"),e.to.classList.add("js-dragged"),setTimeout(function(){e.to.classList.remove("js-dragged")},10),Array.prototype.forEach.call(d.getElementsByClassName("btns-editor__row-container"),function(e){0===e.children.length&&e.parentNode.removeChild(e)})}})}function t(s,e){var t=BotConstructor.search.get("type");getJSON("/ajax/get/bot/keyboard",{id:s,page_type:t,type:e},function(e){if(!e.error){Y.setAttribute("data-id",s),e.keyboard.id&&document.getElementById("save-bot-keyboard").setAttribute("data-id",e.keyboard.id);var t=document.getElementById("hide-keyboard-notification");t&&(e.note?t.parentNode.classList.add("hidden"):t.parentNode.classList.remove("hidden")),document.getElementById("bot-keyboard-one-time-checkbox").classList.toggle("active",!e.keyboard.one_time),document.getElementById("bot-keyboard-unsubscribe-button").classList.toggle("active",e.keyboard.unsubscribe_button),document.getElementById("bot-keyboard-vk-pay-button").classList.toggle("active",e.keyboard.vk_pay_button),document.getElementById("bot-keyboard-vk-pay-amount").parentNode.classList.toggle("hidden",!e.keyboard.vk_pay_button),document.getElementById("bot-keyboard-offer-button").classList.toggle("hidden",e.keyboard.offer_button),document.getElementById("bot-keyboard-vk-pay-amount").value=e.keyboard.vk_pay_amount;var a=document.getElementById("bot-keyboard-status-checkbox");if(!0===o?(a.checked=!0,a.nextElementSibling.classList.add("hidden")):(a.checked=e.keyboard.active,a.nextElementSibling.classList.remove("hidden")),document.getElementById("bot-keyboard-offer-button").classList.toggle("hidden",!e.settings.chat_offer),0<e.keyboard.buttons.length){Y.querySelector("#bot-keyboard-empty-list").classList.add("hidden");var l=0,c=e.keyboard.buttons.reduce(function(e,t){return+e+ +t.clicks_count},0),n=e.keyboard.buttons.reduce(function(e,t){l!=t.row&&(0!=l&&(e+="</div>"),e+='<div class="btns-editor__row js-keyboard-buttons-row">',l=t.row);var a="",n="";t.fwd_message_id?(a=ConstructorUi.FORWARD_ITEMS.MESSAGE,n=t.fwd_message_id):t.fwd_reply_id?(a=ConstructorUi.FORWARD_ITEMS.REPLY,n=t.fwd_reply_id):1==t.fwd_root&&(a=ConstructorUi.FORWARD_ITEMS.ROOT,n=0);var s=""===n?" hidden":"",o=t.variables,r=" hidden";o&&(o=(o=JSON.parse(o)).reduce(function(e,t){return e.push({variable:t[0],content:t[1]}),e},[]),o=JSON.stringify(o),r="");var i=0<t.clicks_count?["".concat(Math.round(100*t.clicks_count/c),"%"),"(".concat(t.clicks_count,")")]:["",""];return null==t.keywords&&(t.keywords=""),null==t.url&&(t.url=""),e+='<div class="btns-editor__item js-keyboard-button default '.concat(0<t.url.length?"btns-editor__form-control--link":"",'" data-clicks="').concat(t.clicks_count,'" data-color="').concat(t.color,'" data-forward-id="').concat(n,'" data-url="').concat(t.url,'" data-forward-type="').concat(a,"\" data-variables='").concat(o,"' data-keywords=\"").concat(t.keywords,'">')+'<div class="btns-editor__item-stats"><div class="btns-editor__stats-number">'.concat(i[0],'</div> <div class="btns-editor__stats-number btns-editor__stats-number--count">').concat(i[1],"</div></div>")+'<div class="btns-editor__item-content js-keyboard-button-content"><div class="btns-editor__edit-btn"></div>'+'<div class="btns-editor__link-btn js-link-icon'.concat(s,'"></div>')+'<div class="btns-editor__var-btn js-expr-icon'.concat(r,'"></div>')+'<span class="btns-editor__item-label js-keyboard-button-label">'.concat(t.label,"</span></div></div>")},"");n+="</div>",d.innerHTML=n,Array.prototype.forEach.call(d.children,function(e){r(e)}),Array.prototype.forEach.call(d.getElementsByClassName("js-keyboard-button-label"),function(e){Emoji.replaceNodesEmoji(e)})}else Y.querySelector("#bot-keyboard-empty-list").classList.remove("hidden"),Y.querySelector("#keyboard-buttons-container").innerHTML="";Y.classList.remove("hidden"),$(Y).remodal().open()}})}var a=this.getAttribute("data-type");if(Y.setAttribute("data-type",a),"4"===a){var n=function(){return getParent(e,"js-block").getAttribute("data-id")},s=n();s&&"0"!==s?t(s,a):ConstructorUi.saveAndCall(function(){t(s=n(),a)})}else{var i=BotConstructor.wideColumn.querySelector("#constructor-messages-section"),l=i.getAttribute("data-id");!l||i.classList.contains("js-draft")?ConstructorUi.saveAndCall(function(){t(l=i.getAttribute("data-id"),a),Y.classList.remove("hidden"),$(Y).remodal().open()}):(t(l,a),Y.classList.remove("hidden"),$(Y).remodal().open())}if(!Y.classList.contains("js-inited")){Y.classList.add("js-inited"),ConstructorUi.addForwardingEventsHandler(Y),Y.parentNode.addEventListener("click",function(e){e.target.classList.contains("remodal-wrapper")&&$(Y).remodal().close()}),d.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("js-edit-overlay")){var a=t.previousElementSibling.getElementsByClassName("js-forward-button")[0];if(a.nextElementSibling&&!a.nextElementSibling.classList.contains("hidden"))return void a.nextElementSibling.classList.add("hidden");var n=document.querySelector(".js-editable-button");n.classList.remove("js-editable-button"),n.parentNode.sortable.option("disabled",!1),n.hasAttribute("data-old-color")&&(n.setAttribute("data-color",n.getAttribute("data-old-color")),n.removeAttribute("data-old-color"));var s=parseInt(n.getAttribute("data-forward-id"));if(!isNaN(s)){var o=n.getElementsByClassName("js-forward-breadcrumbs-input")[0];o&&o.classList.remove("js-loaded"),n.classList.add("js-load-forward")}return t.parentElement.removeChild(t.previousElementSibling),void t.parentElement.removeChild(t)}if(t.classList.contains("js-delete-button")){var r=document.querySelector(".js-editable-button"),i=r.parentNode;1===i.children.length?(i.parentNode.removeChild(i),0===Y.querySelector("#keyboard-buttons-container").children.length&&Y.querySelector("#bot-keyboard-empty-list").classList.remove("hidden")):i.removeChild(r)}else{if(t.classList.contains("js-variable-value"))if(t.nextElementSibling)t.nextElementSibling.classList.toggle("hidden");else{var l=document.querySelector(".js-editable-button").getAttribute("data-variables"),c="";l&&"null"!==l?(l=JSON.parse(l),c=" active"):l=[{variable:"",content:""}];var d='<div class="btn-dropdown"><p>Измените значение переменных после нажатия кнопки.</p>';d+=l.reduce(function(e,t){return e+='<div class="flex-wrap js-variables-row">    <div class="relative">        <div class="svp-variables cf-input js-variable-input-space">            <div class="cvp-input-box">'+'                <div class="cvp-input-box__design-input-wrapper'.concat(c,'">')+'                    <div class="cvp-input js-no-line-break js-variable-name js-no-insert" spellcheck="false" placeholder="Введите переменную" contenteditable="true">'.concat(t.variable,"</div>")+'                    <div class="sk left">{{</div>                    <div class="sk right">}}</div>                </div>            </div>        </div>    </div>    <div class="division">=</div>    <div>'+'   <div class="form-control form-control--textarea js-contenteditable js-vars" spellcheck="false" contenteditable="true">'.concat(t.content,"</div>")+'    </div>    <div class="ui-conversations__control-btn remove-btn not-focus hidden js-remove-var-row"></div></div>'},""),d+='      <div class="add-option-wrap">              <span class="add-option js-add-variable-row" data-limit="5">                  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="Capa_1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 510 510" style="enable-background:new 0 0 510 510;" xml:space="preserve" class="inline-icon">                  <g>                      <g>                          <path d="M255,0C114.75,0,0,114.75,0,255s114.75,255,255,255s255-114.75,255-255S395.25,0,255,0z M255,459    c-112.2,0-204-91.8-204-204S142.8,51,255,51s204,91.8,204,204S367.2,459,255,459z" fill="#808080"></path>                          <path d="M280.5,229.5V153h-51v76.5H153v51h76.5V357h51v-76.5H357v-51H280.5z" fill="#808080"></path>                      </g>                  </g>                  </svg>                  Добавить поле              </span>      </div>  </div>',t.insertAdjacentHTML("afterend",d)}if(t.classList.contains("js-button-link"))t.parentNode.nextElementSibling.classList.toggle("hidden");else{if(t.classList.contains("js-forward-button")){var m=document.querySelector(".js-editable-button"),f=t.parentNode.nextElementSibling.firstElementChild.nextElementSibling;if(f&&f.classList.add("hidden"),t.nextElementSibling){if(t.nextElementSibling.classList.toggle("hidden"),!m.classList.contains("js-load-forward"))return}else{var u=document.getElementById("template-forwarding-block").getElementsByClassName("js-forward-link-field")[0].outerHTML;t.insertAdjacentHTML("afterend",u)}m.classList.remove("js-load-forward");var _,h=t.nextElementSibling.getElementsByClassName("js-forward-breadcrumbs-input")[0],p=parseInt(m.getAttribute("data-forward-id")),g=!1;if(isNaN(p)){try{Array.prototype.forEach.call(Y.getElementsByClassName("js-link-icon"),function(e){if(!e.classList.contains("hidden"))throw g=e.parentNode.parentNode,new Error})}catch(e){}if(!g)return;_=g.getAttribute("data-forward-type"),p=parseInt(g.getAttribute("data-forward-id"))}else _=m.getAttribute("data-forward-type");var b=h.parentNode.parentNode;return h.setAttribute("data-type",_),h.setAttribute("data-value",p),b.classList.remove("js-loaded"),void getJSON("/ajax/get/bot/command_by_id",{id:p,type:_},function(e){e.error||e.result&&(h.innerHTML=e.result,ConstructorUi.selectForwardOptions.call(b),g&&b.getElementsByClassName("js-forward-select-wrap active")[0].getElementsByClassName("js-radio-check")[0].click())})}if(t.classList.contains("js-synonym-button")){t.nextElementSibling.nextElementSibling.classList.toggle("hidden");var v=document.querySelector(".js-variable-value").nextElementSibling;v&&!v.classList.contains("hidden")&&v.classList.add("hidden")}else{if(t.classList.contains("js-save-keyboard-button")){var y=document.querySelector(".js-editable-button"),E=t.previousElementSibling.previousElementSibling.previousElementSibling,k=document.createElement("div");k.innerHTML=E.innerHTML,Array.prototype.forEach.call(k.children,function(e){"IMG"===e.tagName&&e.insertAdjacentHTML("afterend",e.getAttribute("alt"))});var w=k.textContent.trim();if(0===w.length&&0===(w=k.innerText.trim()||E.textContent.trim()).length)return t.previousElementSibling.focus(),void alertify.error("Введите текст кнопки");y.removeAttribute("data-old-color");var j=y.getElementsByClassName("js-keyboard-button-label")[0];j.textContent=w,Emoji.replaceNodesEmoji(j),y.parentNode.sortable.option("disabled",!1);var C=t.nextElementSibling.getElementsByClassName("js-variables-row"),N=[];0<C.length&&(0<(N=Array.prototype.reduce.call(C,function(e,t){var a=t.getElementsByClassName("js-variable-name")[0].textContent;return a.match(/^[a-zA-Zа-яА-ЯёЁ]([_-]?[a-zA-Z0-9а-яА-ЯёЁ]+)*$/)&&e.push({variable:a,content:t.getElementsByClassName("js-vars")[0].textContent}),e},[])).length?(N=JSON.stringify(N),y.setAttribute("data-variables",N),y.getElementsByClassName("js-expr-icon")[0].classList.remove("hidden")):(y.getElementsByClassName("js-expr-icon")[0].classList.add("hidden"),y.setAttribute("data-variables","")));var L=t.nextElementSibling.getElementsByClassName("js-forward-breadcrumbs-input")[0];if(L){var B=L.getAttribute("data-value");y.setAttribute("data-forward-id",B),y.setAttribute("data-forward-type",L.getAttribute("data-type")),null!=B?(y.classList.add("js-load-forward"),y.getElementsByClassName("js-link-icon")[0].classList.remove("hidden")):y.getElementsByClassName("js-link-icon")[0].classList.add("hidden")}var x=document.getElementById("synonym-keywords").value;return x=(x=(x=x.split(",")).filter(function(e,t,a){return a.indexOf(e)===t})).join(",").toLowerCase(),y.setAttribute("data-keywords",x),y.setAttribute("data-url",document.getElementById("keyboard-button-link").value.trim()),y.removeChild(t.parentNode.nextElementSibling),y.removeChild(t.parentNode),void y.classList.remove("js-editable-button")}if(t.classList.contains("js-button-color")){var A=t.getAttribute("data-color"),S=document.querySelector(".js-editable-button");return S.hasAttribute("data-old-color")||S.setAttribute("data-old-color",S.getAttribute("data-color")),void S.setAttribute("data-color",A)}if(!t.classList.contains("js-keyboard-button-content")){for(;t.parentElement&&!t.classList.contains("js-keyboard-button-content");)t=t.parentElement;if(!t.parentElement)return}if(t.parentNode.parentNode.classList.contains("js-dragged"))t.parentNode.parentNode.classList.remove("js-dragged");else{t.parentNode.parentNode.sortable.option("disabled",!0);var T=t.getElementsByClassName("js-keyboard-button-label")[0].innerHTML;T=Emoji.getText(T);var I=document.createElement("div");I.innerHTML=T,Emoji.replaceNodesEmoji(I);var M=t.parentNode;M.classList.add("js-editable-button");var P=M.getAttribute("data-keywords")||"",q=0;""!==P&&(q=P.split(",").reduce(function(e,t){return""!==t.trim()&&e.push(t),e},[]).length);var O=M.getAttribute("data-url");null===O&&(O="");var H="".concat('<div class="btns-editor__control-tooltip">'+'<div class="form-control btns-editor__form-control js-vars js-no-line-break js-contenteditable '.concat(0<O.length?"btns-editor__form-control--link":"",'" contenteditable="true">')).concat(I.innerHTML,"</div>")+'<div class="js-emoji-container"></div><div class="ui-textarea-toolbar__btn ui-textarea-toolbar__btn--emoji js-emoji-picker"></div><button class="default-btn default-btn--green js-save-keyboard-button">Сохранить</button><div class="btns-list">'+'<div><div class="button-colors '.concat(0<O.length?"hidden":"",'" id="button-color-list">')+'<div class="button-colors__color js-button-color" data-color="default"></div><div class="button-colors__color js-button-color" data-color="primary"></div><div class="button-colors__color js-button-color" data-color="positive"></div><div class="button-colors__color js-button-color" data-color="negative"></div></div></div><div><button class="default-btn js-button-link"><img src="/svg/db/elements/link_white.svg" alt="" class="btn-icon">Добавить ссылку</button></div><div class="hidden"><div class="btn-dropdown"><div class="btn-dropdown__content"><p class="btn-dropdown__text">В ряду может быть не больше 2 кнопок с ссылками, цвет этой кнопки всегда белый.</p>'+'<div class="flex-row"><input name="" id="keyboard-button-link" class="form-control" placeholder="https://..." value="'.concat(O,'" style="height: 38px">')+'<div class="remove-link-btn" id="clear-link-input"></div></div></div></div></div><div><button class="default-btn js-forward-button"><img src="/svg/db/elements/arrow-right_white.svg" alt="" class="btn-icon">Добавить переход</button></div><div><button class="default-btn js-synonym-button"><img src="/svg/db/elements/pencil.svg" alt="" class="btn-icon">Добавить синонимы</button>'+'<div class="mark '.concat(0<q?"":"hidden",'">').concat(q,"</div>")+'<div class="btn-dropdown hidden"><div class="btn-dropdown__content"><p class="btn-dropdown__text">Добавьте ключевые слова, при вводе которых бот среагирует так, словно была нажата эта кнопка.</p>'+'<textarea name="" id="synonym-keywords" class="form-control" placeholder="Ключевые слова через запятую">'.concat(P,"</textarea>")+'</div></div></div><div><button class="default-btn js-variable-value"><img src="/svg/db/elements/divide.svg" alt="" class="btn-icon">Изменить значение</button></div><div><button class="default-btn js-delete-button"><img src="/svg/db/elements/trash_white.svg" alt="" class="btn-icon">Удалить</button></div></div></div><div class="overlay js-edit-overlay"></div>';t.insertAdjacentHTML("afterend",H),document.getElementById("synonym-keywords").addEventListener("keyup",function(){var e=this.value.trim();if(""!==e){var t=e.split(",").reduce(function(e,t){return""!==t.trim()&&e.push(t),e},[]).length;if(0<(this.parentNode.parentNode.previousElementSibling.textContent=t))return void this.parentNode.parentNode.previousElementSibling.classList.remove("hidden")}this.parentNode.parentNode.previousElementSibling.classList.add("hidden")}),document.getElementById("clear-link-input").addEventListener("click",function(){document.getElementById("keyboard-button-link").value="",M.classList.remove("btns-editor__form-control--link"),M.querySelector(".js-contenteditable").classList.remove("btns-editor__form-control--link"),document.getElementById("button-color-list").classList.remove("hidden")}),document.getElementById("keyboard-button-link").addEventListener("keyup",function(){var e=this.value.trim(),t=document.querySelector(".js-editable-button");""!==e&&document.querySelector('.js-button-color[data-color="default"]').click(),t.classList.toggle("btns-editor__form-control--link",""!==e),t.querySelector(".js-contenteditable").classList.toggle("btns-editor__form-control--link",""!==e),document.getElementById("button-color-list").classList.toggle("hidden",""!==e)});var R=t.nextElementSibling.getElementsByClassName("js-vars")[0];Emoji.parseVariables(R),setTimeout(function(){selectElem(R)},50)}}}}}),$(d).on("mousemove",".btns-editor__row",function(e){if(d.classList.contains("js-dragging")){var t=e.currentTarget;if(!t.classList.contains("btns-editor__row-container")){Array.prototype.forEach.call(d.getElementsByClassName("btns-editor__row-container"),function(e){e.children.length||t.nextElementSibling==e||e.parentNode.removeChild(e)});var a=!t.getElementsByClassName("js-sortable-chosen").length,n=document.createElement("div");n.className="btns-editor__row btns-editor__row-container",r(n),a?(t.nextElementSibling||d.insertBefore(n,t.nextSibling),t.previousElementSibling||d.insertBefore(n,t)):(t.nextElementSibling&&t.nextElementSibling.classList.contains("btns-editor__row-container")||d.insertBefore(n,t.nextSibling),t.previousElementSibling&&t.previousElementSibling.classList.contains("btns-editor__row-container")||d.insertBefore(n,t))}}}),Y.querySelector("#add-new-keyboard-btn").addEventListener("click",function(){this.parentNode.previousElementSibling.classList.add("hidden"),10<=this.previousElementSibling.getElementsByClassName("js-keyboard-buttons-row").length?alertify.error("Не больше 10 строк из кнопок"):(this.previousElementSibling.insertAdjacentHTML("beforeend",'<div class="btns-editor__row js-keyboard-buttons-row"><div class="btns-editor__item js-keyboard-button default" data-color="default"><div class="btns-editor__item-content js-keyboard-button-content"><div class="btns-editor__edit-btn"></div><div class="btns-editor__link-btn hidden js-link-icon"></div><div class="btns-editor__var-btn hidden js-expr-icon"></div><span class="btns-editor__item-label js-keyboard-button-label">Текст</span></div></div></div>'),r(this.previousElementSibling.lastElementChild))});var c=Y.querySelector("#save-bot-keyboard"),m=document.getElementById("hide-keyboard-notification");m&&m.addEventListener("click",function(){this.parentNode.classList.add("hidden"),$.post("/ajax/bot/keyboard/hide_notification")}),Y.addEventListener("click",function(e){var t=getParent(e.target,"js-modal-keyboard-option");t&&(t.classList.toggle("active"),"bot-keyboard-vk-pay-button"===t.id&&(t.classList.contains("active")?document.getElementById("bot-keyboard-vk-pay-amount").parentNode.classList.remove("hidden"):document.getElementById("bot-keyboard-vk-pay-amount").parentNode.classList.add("hidden")))}),c.addEventListener("click",function(){var s=this,o="null"===Y.getAttribute("data-id")?BotConstructor.search.get("id"):Y.getAttribute("data-id"),r=Y.getAttribute("data-type"),i={};i.one_time=!Y.querySelector("#bot-keyboard-one-time-checkbox").classList.contains("active"),i.unsubscribe_button=Y.querySelector("#bot-keyboard-unsubscribe-button").classList.contains("active"),i.offer_button=Y.querySelector("#bot-keyboard-offer-button").classList.contains("active"),i.vk_pay_button=Y.querySelector("#bot-keyboard-vk-pay-button").classList.contains("active"),i.vk_pay_amount=Y.querySelector("#bot-keyboard-vk-pay-amount").value.trim(),i.active=Y.querySelector("#bot-keyboard-status-checkbox").checked;var n=0,l=0;s.classList.add("js-loading"),i.rows=Array.prototype.reduce.call(d.children,function(e,t){var a=Array.prototype.reduce.call(t.children,function(e,t){var a,n=t.getAttribute("data-url");return e.push({label:Emoji.getText(t.getElementsByClassName("js-keyboard-button-label")[0].innerHTML),color:t.getAttribute("data-color"),forward:{id:t.getAttribute("data-forward-id"),type:t.getAttribute("data-forward-type")},variables:t.getAttribute("data-variables"),clicks:t.getAttribute("data-clicks"),keywords:t.getAttribute("data-keywords")||"",url:(a=n,new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(a)?n:"")}),e},[]);return l+=a.length,e.push({num:n,buttons:a}),n++,e},[]);var e=BotConstructor.search.get("type");$.post("/ajax/bot/keyboard/save",{id:o,type:r,data:i,page_type:e},function(e){if(setTimeout(function(){s.classList.remove("js-loading")},200),e.error)alertify.error("Не удалось сохранить");else{if(e.id){c.setAttribute("data-id",e.id);var t=Y.querySelector('.js-saved-keyboard[data-id="'.concat(e.id,'"]'));t&&(t.lastElementChild.textContent="".concat(l," ").concat(sklonen(l,"кнопка","кнопки","кнопок")))}var a=document.getElementById("keyboard-buttons-count");if(4==r){var n=BotConstructor.wideColumn.querySelector('.js-block[data-id="'.concat(o,'"]'));n&&(n.getElementsByClassName("js-setup-keyboard")[0].lastElementChild.textContent=l)}else i.active?i.rows&&(a.textContent=l,a.classList.remove("hidden")):a.classList.add("hidden");alertify.success("Клавиатура сохранена")}})})}},mailingPage:function(){Mailing.setPage()},statsPage:function(){document.getElementById("narrow-column-tabs").setAttribute("data-active-tab",1);var e=document.getElementById("bot-plan-data");if(e){Charts.init();var s=e.value,o=~[2,3,8,9].indexOf(s);if(0==s){var t=flatpickr.formatDate(new Date,"Y-m-d");Charts.minDate=new Date(flatpickr.parseDate(t,"Y-m-d").getTime()-864e5)}else if(o){var a=flatpickr.formatDate(new Date,"Y-m-d");Charts.minDate=new Date(flatpickr.parseDate(a,"Y-m-d").getTime()-5184e5)}document.getElementById("daily-dialogs-period-selector").parentNode.previousElementSibling.addEventListener("click",function(e){var t=e.target;function a(){t.className="js-disabled",setTimeout(function(){t.className=""},200),alertify.okBtn("Повысить тариф").cancelBtn("Отмена").confirm("Повысьте тариф сообщества, чтобы просматривать всю статистику",function(){location.href="/balance"})}if("LABEL"==t.tagName&&""===t.className){var n=t.getAttribute("data-period");0==s?"today"!=n&&"yesterday"!=n&&a():o&&"today"!=n&&"yesterday"!=n&&"week"!=n&&a()}}),Charts.createPeriodSelector("daily-dialogs-period-selector","/ajax/get/vk_group/dialogs_stats",function(e,t){Charts._series=e.series,Charts._period=t,Charts.conf.lineConfig.xAxis={categories:Charts.getCategories(e.series.slice(),t)};var a=document.getElementById("narrow-column-container");e.counters.forEach(function(e){a.querySelector('.js-count[data-type="'.concat(e.name,'"]')).textContent=getSeparatedNumber(e.value||0)}),e.data.forEach(function(e){var t=document.getElementById(e.id);e.items[0]&&e.items[1]?(Charts.conf.lineConfig.series=e.items,Highcharts.chart(t,Charts.conf.lineConfig),t.classList.remove("hidden"),t.nextElementSibling.classList.add("hidden")):(t.nextElementSibling.classList.remove("hidden"),t.classList.add("hidden"))})}),document.getElementById("users-analytics-stats").addEventListener("click",function(e){(function(){var o=this.getAttribute("data-page")||1;getJSON("/ajax/bot/stats/popular_commands?page=".concat(o),function(e){if(!e.error){for(var t=n.firstElementChild;t.nextElementSibling;)n.removeChild(t.nextElementSibling);var s="";o=o&&0!=o?50*(o-1):0,e.result.forEach(function(e,t){var a,n;if(e.event_type_id){a=e.event_type_id,n=1,e.message=["Приветственные сообщения","Реакция на подписку","Реакция на отписку","Реакция на неизвестную команду","Ответ на картинку","Ответ на видео","Ответ на товар","Ответ на стикер","Ответ на документ","Ответ на аудиофайл"][a-1]}else a=e.message_id,n=2,64<e.message.length&&(e.message=e.message.substr(0,64)+"...");s+="".concat('<div>            <div data-label="№">                <div>').concat(o+(t+1),"</div>")+'            </div>            <div data-label="Сообщение">'+'                <div class="keyword-item keyword-item--fullwidth">'.concat(e.message,"</div>")+'            </div>            <div data-label="Вызвали">'+"                <div>".concat(e.counter,"</div>")+'            </div>            <div class="ta-right" data-label="Действие">                <div>'+'                    <a href="/bot?act=keywords&type='.concat(n,"&id=").concat(a,'" target="_blank"><button class="default-btn default-btn--outline hover-none" data-page="').concat(o,'" data-id="').concat(e.id,'">Открыть команду</button></a>')+"                </div>            </div>        </div>"}),""===s?(s='<div class="empty-list empty-list--gradient"><p>Нет популярных комманд</p></div>',n.insertAdjacentHTML("afterend",s)):(n.insertAdjacentHTML("beforeend",s),n.nextElementSibling&&n.parentNode.removeChild(n.nextElementSibling),n.parentNode.insertAdjacentHTML("beforeend",e.pages))}})}).call(document.getElementById("users-analytics-stats"))},{once:!0});var r=document.getElementById("unknown-keywords-table");r.parentNode.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("js-delete-keyword")){var a=t.getAttribute("data-id");$.post("/ajax/bot/stats/unknown_keywords/delete",{id:a},function(e){e.error||(alertify.success("Неизвестная команда удалена"),t.parentNode.parentNode.parentNode.parentNode.children.length<3&&t.setAttribute("data-page",t.getAttribute("data-page")/10),i.call(t))})}else t.classList.contains("js-get-page")&&i.call(t)});var n=document.getElementById("popular-commands-table");document.getElementById("unknown-commands-stats").addEventListener("click",i,{once:!0})}function i(){var n=this.getAttribute("data-page");getJSON("/ajax/bot/stats/unknown_keywords?page=".concat(n),function(e){if(!e.error){for(var t=r.firstElementChild;t.nextElementSibling;)r.removeChild(t.nextElementSibling);var a="";n=n&&0!=n?50*(n-1):0,e.result.forEach(function(e,t){a+="".concat('<div>            <div data-label="№">                <div>').concat(n+(t+1),"</div>")+'            </div>            <div data-label="Сообщение">'+'                <div class="keyword-item keyword-item--fullwidth">'.concat(e.message,"</div>")+'            </div>            <div data-label="Встретилось">'+"                <div>".concat(e.counter,"</div>")+'            </div>            <div class="ta-right" data-label="Действие">                <div>'+'                    <button class="default-btn default-btn--outline hover-none js-delete-keyword" data-page="'.concat(n,'" data-id="').concat(e.id,'">Удалить</button>')+"                </div>            </div>        </div>"}),""===a?(a='<div class="empty-list empty-list--gradient"><p>Нет ключевых слов без ответа</p></div>',r.insertAdjacentHTML("afterend",a)):(r.insertAdjacentHTML("beforeend",a),r.nextElementSibling&&r.parentNode.removeChild(r.nextElementSibling),r.parentNode.insertAdjacentHTML("beforeend",e.pages))}})}},settingsPage:function(){if("#connected"===window.location.hash){var e=document.getElementById("robochat-connected-modal");e&&(e.classList.remove("hidden"),$(e).remodal().open(),$(document.body).on("closing","#robochat-connected-modal",function(){ConstructorUi.tutorialTooltips("groups-header-list").add()}))}var t=document.getElementById("bot-payment-remaining-time");if(t){var a=new Timer(Timer.FORMATS.default,function(){});a.item=t,a.start(t.getAttribute("data-time"),function(){a.previousSibling.textContent="Оплаченный период закончился!",a.textContent=""}),BotConstructor.afterMove=function(){a.stop(),a=null,BotConstructor.afterMove=function(){}}}var n=document.getElementById("limited-offer-bonus");if(n){var s=n.querySelector("[data-time]"),o=new Timer(Timer.FORMATS.short,function(){n.parentNode.removeChild(n),$("#limited-offer-modal").remodal().close()});o.items=[s,document.getElementById("limited-offer-bonus-timer")],o.start(s.getAttribute("data-time"),function(){})}var r=document.getElementById("limited-time-discount-block");if(r){var i=document.getElementsByClassName("js-limited-discount-modal");1<i.length&&Array.prototype.forEach.call(i,function(e,t){t<i.length&&e.parentNode.removeChild(e)});var l=document.getElementById("limited-time-discount");document.body.appendChild(l),l.classList.remove("hidden");var c=$("body");c.on("opening","#limited-time-discount",function(){l.style.display=""}),c.on("closed","#limited-time-discount",function(){l.style.display="none"}),getCookie("discount-popup")||(setCookie("discount-popup",1,1),$("#limited-time-discount").remodal().open());var d=r.querySelector("[data-time]"),m=new Timer(Timer.FORMATS.short,function(){r.parentNode.removeChild(r),$("#limited-time-discount").remodal().close()});m.items=[d,document.getElementById("limited-time-discount-timer")],m.start(d.getAttribute("data-time"),function(){}),Array.prototype.forEach.call(r.getElementsByClassName("js-limited-timer-discount"),function(e){e.addEventListener("click",function(){$("#limited-time-discount").remodal().open()})})}var f=document.getElementById("bot-settings-btn");f&&(document.getElementById("refresh-api-key").addEventListener("click",function(){$.post("/ajax/bot/api_key/refresh",function(e){e.error||(document.getElementById("api-key-input").value=e.api_key,alertify.success("Ключ API обновлён"))})}),f.addEventListener("click",function(){var e=document.getElementById("vk-bot-settings-remodal");$("#vk-bot-settings-remodal").remodal().open();function t(){getJSON("/ajax/get/bot/tokens",function(e){if(document.getElementById("bot-additional-token-link")){document.getElementById("api-key-input").value=e.api_key,e.link?document.getElementById("bot-additional-token-link").setAttribute("href",e.link):document.getElementById("bot-additional-token-link").classList.add("hidden");var t=e.tokens.reduce(function(e,t,a){var n=flatpickr.parseDate(new Date(1e3*t.created_at),"H:i d-m-y");return n=flatpickr.formatDate(n,"j F Y, H:i"),n=formatMonth(n),e+='<div class="callback-keys__item js-callback-key">\n                    <div class="callback-keys__item-title">\n                        Ключ №'.concat(++a,'\n                    </div>\n                    <div class="callback-keys__item-subtitle">\n                        Добавлен ').concat(n,"\n                    </div>\n                </div>")},""),a=document.getElementById("callback-keys-container");Array.prototype.forEach.call(Array.from(a.children),function(e){e.classList.contains("js-callback-key")&&a.removeChild(e)}),document.getElementById("callback-keys-container").insertAdjacentHTML("beforeend",t)}})}if(t(),e.classList.contains("hidden")){var a;document.getElementById("bot-additional-token-link").addEventListener("click",function(){a=a||setInterval(function(){document.getElementById("bot-additional-token-link")?t():clearInterval(a)},1e3)}),e.classList.remove("hidden");var i=document.getElementById("add-bot-access-input");vkProfileLinkInput(i),getJSON("/ajax/get/bot/settings",function(a){if(!a.error){if(i.parentNode.insertAdjacentHTML("beforebegin",a.admins),a.settings.disable_duration){document.getElementById("bot-disable-on-message-checkbox").checked=!0;var n=document.getElementById("disabled-bot-on-admin-message");n.previousElementSibling.value=a.settings.disable_duration,Array.prototype.some.call(n.options,function(e,t){return e.value==a.settings.disable_on_message&&(n.selectedIndex=t,!0)})}if("1"===a.settings.enabled_in_period){document.getElementById("enabled-time-period").checked=!0;var s=document.getElementById("enabled-time-period-from"),o=a.settings.enabled_from.split(":"),r=a.settings.enabled_to.split(":");Array.prototype.some.call(s.options,function(e,t){return e.value==o[0]&&(s.selectedIndex=t,!0)}),Array.prototype.some.call(s.nextElementSibling.options,function(e,t){return e.value==o[1]&&(s.nextElementSibling.selectedIndex=t,!0)}),s=document.getElementById("enabled-time-period-to"),Array.prototype.some.call(s.options,function(e,t){return e.value==r[0]&&(s.selectedIndex=t,!0)}),Array.prototype.some.call(s.nextElementSibling.options,function(e,t){return e.value==r[1]&&(s.nextElementSibling.selectedIndex=t,!0)})}}})}}),document.getElementById("save-bot-settings-btn").addEventListener("click",function(){var t=[];Array.prototype.forEach.call(document.getElementById("add-bot-access-input").parentNode.parentNode.getElementsByClassName("js-user"),function(e){e.classList.contains("js-admin")||t.push(e.getAttribute("data-id"))});var e=document.getElementById("disabled-bot-on-admin-message"),a={disable_duration:null,disable_on_message:null,enabled_from:null,enabled_to:null,enable_in_period:!1};if(document.getElementById("bot-disable-on-message-checkbox").checked){var n=e.previousElementSibling.value.trim();999<n&&(n=999,e.previousElementSibling.value=999),a={disable_duration:n,disable_on_message:e.options[e.selectedIndex].value}}if(document.getElementById("enabled-time-period").checked){var s=document.getElementById("enabled-time-period-from"),o=document.getElementById("enabled-time-period-to");a.enabled_from=[s.options[s.selectedIndex].value,s.nextElementSibling.options[s.nextElementSibling.selectedIndex].value],a.enabled_to=[o.options[o.selectedIndex].value,o.nextElementSibling.options[o.nextElementSibling.selectedIndex].value],a.enable_in_period=!0}var r=this;r.classList.add("js-loading"),$.post("/ajax/bot/save_settings",{users:t,settings:a},function(e){r.classList.remove("js-loading"),e.error||alertify.success("Настройки сохранены")})}),document.getElementById("bot-status").addEventListener("click",function e(t){var a=this;a.checked?$.post("/ajax/bot/toggle_status",{id:a.getAttribute("data-id")},function(e){e.error||(a.parentNode.previousElementSibling.textContent="Бот сообщества включен",alertify.success("Бот включён"))}):(t.preventDefault(),alertify.okBtn("Выключить").cancelBtn("Отмена").confirm("Вы действительно хотите выключить бота?",function(){a.removeEventListener("click",e),a.click(),a.addEventListener("click",e),$.post("/ajax/bot/toggle_status",{id:a.getAttribute("data-id")},function(e){e.error||(a.parentNode.previousElementSibling.textContent="Бот сообщества выключен",alertify.success("Бот выключен"))})}))}),document.getElementById("reply-unanswered-messages-btn").addEventListener("click",function(){var t=this;t.classList.add("js-loading-gray"),$.post("/ajax/bot/constructor/reply_unanswered_messages",{},function(e){t.classList.remove("js-loading-gray"),e.error?alertify.error(e.message||"Не удалось отправить сообщения"):alertify.success("Бот ответит на последние неотвеченные сообщения")})}))},messagePage:function(s){Emoji.get();var o=BotConstructor.getDataManager("message");BotConstructor.deletedReplies=BotConstructor.deletedRepliesStore();var n=BotConstructor.search.get("id");n&&0==document.getElementById("constructor-messages-section").getAttribute("data-id")&&BotConstructor.MessagesHistory.remove(n),s.addEventListener("click",function(){if(this.classList.contains("js-loading"))return!1;this.classList.add("js-loading"),$.post("/ajax/constructor/save_replies",{data:o.get()},function(e){if(setTimeout(function(){s.classList.remove("js-loading")},300),e.error)alertify.error(e.message||"Ошибка! Попробуйте обновить страницу");else{if(e.message_id){var t=parseInt(BotConstructor.search.get("type"));t!=BotConstructor.EDITOR_ACTIONS.DEFAULT_EVENTS_MESSAGE&&BotConstructor.search.set("id",e.message_id),BotConstructor.search.get("id")&&(t===BotConstructor.EDITOR_ACTIONS.NEW_NESTED_MESSAGE?BotConstructor.search.set("type",BotConstructor.EDITOR_ACTIONS.COMMON_MESSAGE):t===BotConstructor.EDITOR_ACTIONS.NEW_NESTED_DEFAULT_EVENT&&BotConstructor.search.set("type",BotConstructor.EDITOR_ACTIONS.NESTED_DEFAULT_EVENT)),t!=BotConstructor.EDITOR_ACTIONS.COMMON_MESSAGE&&t!=BotConstructor.EDITOR_ACTIONS.NEW_NESTED_MESSAGE||document.getElementById("page-breadcrumbs").firstElementChild.getAttribute("data-action")&&BotConstructor.MessagesHistory.add(e.message_id,document.getElementById("message-keywords-container").textContent),document.getElementById("page-ref-link").parentNode.classList.remove("hidden"),setHistoryState(BotConstructor.search);var a=document.getElementById("delete-message-btn");a.classList.remove("hidden"),a.previousElementSibling.classList.remove("hidden"),BotConstructor.search.get("type")!=BotConstructor.EDITOR_ACTIONS.DEFAULT_EVENTS_MESSAGE&&document.getElementById("copy-current-command-btn").classList.remove("hidden");var n=document.getElementById("constructor-messages-section");n.setAttribute("data-id",e.message_id),n.classList.remove("js-draft")}BotConstructor.deletedReplies.clear(),o.clearContainers(e.replies),ConstructorUi.afterSave(),alertify.success("Команда сохранена")}})});var e=document.getElementById("message-keywords-container");function r(e){var a=this;if(!e.target.classList.contains("js-reply-send-conditions")&&!e.target.classList.contains("js-delete-reply")&&!getParent(e.target,"js-control-menu")){e.stopPropagation();var n=this;n.disabled||(n.disabled=!0,$.post("".concat(BotConstructor.API,"/ajax/constructor/save_replies"),{data:o.get()},function(e){var t;(n.disabled=!1,e.error)?alertify.error(e.message):(BotConstructor.deletedReplies.clear(),o.clearContainers(e.replies),(t=(t=getParent(a,"js-block").querySelector(".js-contenteditable").getAttribute("data-id"))||(n.parentNode.previousElementSibling?n.parentNode.previousElementSibling.getAttribute("data-id"):n.firstElementChild.getAttribute("data-id")))&&BotConstructor.loadPage({id:t,type:BotConstructor.EDITOR_ACTIONS.MESSAGE_ADVANCED_REPLY,action:"keywords"}))}),ConstructorUi.activeTab=0)}}e&&(Emoji.replaceContent.call(e),e.addEventListener("keyup",function(){var e=document.getElementById("page-breadcrumbs").lastElementChild;e.textContent=Emoji.getText(this.innerHTML),Emoji.replaceTextNodeEmoji(e.firstChild),this.classList.remove("js-not-modified")})),$("#constructor-messages-section").on("click",".js-copy-block",function(e){if(this.classList.contains("js-text-reply")){var t=getParent(this,"js-control-menu");if(!t.disabled){var a=getParent(this,"js-block"),n=a.querySelector(".js-contenteditable").getAttribute("data-id");t.disabled=!0;var s=function(){$.post("/ajax/bot/reply_copy",{id:n},function(e){t.disabled=!1,e.error?alertify.error("Ошибка, не удалось скопировать"):(t.classList.remove("active"),a.insertAdjacentHTML("afterend",e.result),a.nextElementSibling.querySelector(".js-reply-layers").addEventListener("click",r),alertify.success("Ответ скопирован"))})};n&&"0"!==n?s():ConstructorUi.saveAndCall(function(){n=a.querySelector(".js-contenteditable").getAttribute("data-id"),s()})}}}),addOnClickHandler("js-reply-layers",function(e){e.addEventListener("click",r)}),Array.prototype.forEach.call(BotConstructor.wideColumn.getElementsByClassName("js-select-item"),function(e){e.addEventListener("click",selectItem)}),Array.prototype.forEach.call(document.getElementById("narrow-column-tabs").getElementsByClassName("js-select-item"),function(e){e.addEventListener("click",selectItem)}),document.getElementById("back-link-btn").addEventListener("click",function(){ConstructorUi.activeTab=1}),document.getElementById("new-reply-field").addEventListener("focus",function(){var e=this.parentNode.parentNode.parentNode.previousElementSibling;e.insertAdjacentHTML("beforeend",document.getElementById("reply-template").innerHTML);var n=e.lastElementChild,s=n.getElementsByClassName("js-content")[0];n.getElementsByClassName("js-reply-layers")[0].addEventListener("click",r),s.addEventListener("blur",function e(t){this.getAttribute("data-id")&&this.removeEventListener("blur",e);for(var a=t.explicitOriginalTarget;a&&a.parentElement;)if((a=a.parentElement).previousElementSibling===s)return!0;""!==this.innerHTML.trim()&&"<br>"!==this.innerHTML||0===n.getElementsByClassName("js-settings active").length&&n.parentNode.removeChild(n)}),s.focus()});var t=document.getElementById("market-select");if(t){var a=function(e){var a=BotConstructor.search.get("id");a=/\d+-\d+/.test(a)?a.split("-")[1]:null,document.getElementById("market-items-list").innerHTML=e.reduce(function(e,t){return e+='<li class="list__item '.concat(t.id==a?"list__item--checked":"",' js-market-item" data-id="').concat(t.id,'">\n                        <div class="list__item-image">\n                            <img src="').concat(t.thumb_photo,'" alt="">\n                        </div>\n                        <div class="list__item-text">').concat(t.title,'</div>\n                        <div class="list__item-subtext">\n                            ').concat(t.price.text,"\n                        </div>\n                    </li>")},"")};document.getElementById("any-market-item-option").addEventListener("click",function(){this.classList.contains("list__item--checked")||BotConstructor.loadPage({id:7,type:1,action:"keywords"})}),document.getElementById("market-items-list").addEventListener("click",function(e){var t=getParent(e.target,"js-market-item");if(t&&!t.classList.contains("list__item--checked")){var a=t.getAttribute("data-id");t.classList.add("list__item--checked"),document.getElementById("any-market-item-option").classList.remove("list__item--checked"),BotConstructor.loadPage({id:"7-".concat(a),type:1,action:"keywords"})}}),document.getElementById("market-search-input").addEventListener("keyup",function(e){delayCallback(function(){var e=document.getElementById("market-search-input").value.trim();getJSON("/ajax/get/bot/market_search",{query:e},function(e){e.error?alertify.error(e.message||"Не удалось получить список товаров сообщества"):a(e.items)})},100)}),t.addEventListener("click",function(){getJSON("/ajax/get/bot/market_items",{},function(e){e.error?alertify.error(e.message||"Не удалось получить список товаров сообщества"):a(e.items)})},{once:!0})}var i=document.getElementById("command-status");if(i){i.addEventListener("click",function t(e){var a=this;a.checked?$.post("/ajax/bot/message_status",{id:BotConstructor.search.get("id"),type:BotConstructor.search.get("type")},function(e){e.error||(a.parentNode.previousElementSibling.textContent="Команда включена",alertify.success("Команда включена"))}):(e.preventDefault(),alertify.okBtn("Выключить").cancelBtn("Отмена").confirm("Выключить команду?",function(){$.post("/ajax/bot/message_status",{id:BotConstructor.search.get("id"),type:BotConstructor.search.get("type")},function(e){e.error?alertify.error("Не удалось выключить команду"):(a.removeEventListener("click",t),a.click(),a.addEventListener("click",t),a.parentNode.previousElementSibling.textContent="Команда выключена",alertify.success("Команда выключена"))})}))});var l=document.getElementById("command-global");l&&l.addEventListener("click",function(){var t=l.checked;$.post("/ajax/constructor/global_message",{id:n,status:t},function(e){e.error?alertify.error("Ошибка"):alertify.success(t?"Включён глобальный режим команды":"Выключен глобальный режим команды")})});var c=document.getElementById("command-type");c&&c.addEventListener("click",function(e){var t=getParent(e.target,"js-select-item");if(t){var a=t.getAttribute("data-id");n=n||BotConstructor.search.get("id"),$.post("/ajax/constructor/message_type",{id:n,type:a},function(e){e.error?alertify.error("Ошибка"):(alertify.success("Сохранено"),e.reconnect&&alertify.okBtn("Переподключить бота").cancelBtn("Отмена").confirm("Заново выдайте доступ к сообществу, чтобы ответы в комментариях работали.",function(){var e=document.getElementById("current-bot").getAttribute("data-group-id");location.href="https://oauth.vk.com/authorize?client_id=6615643&scope=wall,stories,manage,messages,photos,docs&redirect_uri="+window.location.protocol+"//"+window.location.host+"/oauth/vk/group&group_ids="+e+"&response_type=code&v=5.77"}))})}}),document.getElementById("delete-message-btn").addEventListener("click",function(){alertify.okBtn("Удалить").cancelBtn("Отмена").confirm("Вы уверены, что хотите удалить команду?<br> Это действие нельзя будет отменить.",function(){var t=BotConstructor.search.get("id"),e=BotConstructor.search.get("type");e==BotConstructor.EDITOR_ACTIONS.DEFAULT_EVENTS_MESSAGE&&(t=document.getElementById("constructor-messages-section").getAttribute("data-id")),$.post("/ajax/constructor/delete_message",{id:t,type:e},function(e){e.error?alertify.error("Не удалось удалить"):(BotConstructor.MessagesHistory.remove(t),alertify.success("Сообщения удалены"),document.getElementById("back-link-btn").click())})})})}},setupForwardBlock:function(){var t=this;function a(e){var t=e.target;function a(){t.value="",t.nextElementSibling.classList.add("hidden"),t.nextElementSibling.nextElementSibling.setAttribute("href","#0")}if(t.classList.contains("js-bot-forward-link-input")){var n=t.value.trim();if(""!==n){var s=setTimeout(function(){a()},500);isURL(n)&&(clearTimeout(s),getJSON("/ajax/get/bot/command_by_link",{link:n},function(e){e.error?a():(t.nextElementSibling.classList.remove("hidden"),t.nextElementSibling.innerHTML=e.result,t.nextElementSibling.nextElementSibling.setAttribute("href",n),t.setAttribute("data-id",e.id))}))}else a()}}var n=document.getElementById("bot-forwarding-section");function s(e){this.removeEventListener("mouseenter",s),this.removeEventListener("focus",s),a(e)}n.addEventListener("input",function(e){n.classList.remove("js-not-modified"),a.call(t,e)}),n.addEventListener("click",function(e){var t=e.target;t.classList.contains("js-remove-block")?(t.parentNode.parentNode.parentNode.parentNode.removeChild(t.parentNode.parentNode.parentNode),n.classList.remove("js-not-modified")):!t.classList.contains("js-forward-custom-dropdown")&&"INPUT"!==e.target.tagName||n.classList.remove("js-not-modified")}),n.querySelector("#add-bot-forwarding-block").addEventListener("click",function(){var e=document.getElementById("template-forwarding-block").innerHTML;this.parentNode.insertAdjacentHTML("beforebegin",e)}),Array.prototype.forEach.call(n.getElementsByClassName("js-load-link-command"),function(e){e.addEventListener("mouseenter",s),e.addEventListener("focus",s)}),addOnClickHandler("js-forward-radio ",function(e){e.addEventListener("click",function(){if(this.classList.contains("js-checked"))this.classList.remove("js-checked"),document.getElementById("hidden-forward-checkbox").click();else{var e=this.parentNode.parentNode.getElementsByClassName("js-checked")[0];e&&e.classList.remove("js-checked"),this.classList.add("js-checked")}})})},addTextReplyListener:function(e){var t=document.getElementById("messages-list-container");document.getElementById("add-text-reply-btn").addEventListener("click",function(){if(e&&t.getElementsByClassName("js-content").length+1>e)return alertify.error("Нельзя добавить больше ".concat(e," сообщений")),!1;t.insertAdjacentHTML("beforeend",document.getElementById("reply-template").innerHTML)}),new Sortable(t,{group:{name:1,pull:!1,put:!1},handle:".js-reply-handle",animation:200,delay:0,touchStartThreshold:2,fallbackTolerance:2,forceFallback:!0,ghostClass:"js-sortable-ghost",chosenClass:"js-sortable-chosen",dragClass:"js-sortable-drag",onStart:function(){document.getElementById("messages-list-container").classList.add("js-dragging")},onEnd:function(){document.getElementById("messages-list-container").classList.remove("js-dragging")}})},setPointsNumbers:function(n){var e=document.querySelectorAll('.js-block[data-type="'.concat(ENUM_REPLY_TYPES.TYPE_CONDITION_ENTITY,'"]')),s=[];Array.prototype.forEach.call(e,function(t){var e=t.getAttribute("data-id");if(n){var a=BotConstructor.wideColumn.querySelectorAll('.js-cond-point[data-for="'.concat(e,'"]'));Array.prototype.forEach.call(a,function(e){t.querySelector('.js-add-condition-scope-block[data-type="'.concat(e.getAttribute("data-scope"),'"]')).classList.add("active")})}s.push([e,t])}),s.sort(function(e,t){return e[0]-t[0]}),Array.prototype.forEach.call(e,function(e,a){a++;var t=e.getAttribute("data-id");e.getElementsByTagName("h4")[0].textContent="Условие #".concat(a);var n=BotConstructor.wideColumn.querySelectorAll('.js-cond-point[data-for="'.concat(t,'"]'));Array.prototype.forEach.call(n,function(e){var t=(e=e.getElementsByClassName("js-point-name")[0]).textContent.split(" ");1!==t.length&&t.pop(),e.textContent="".concat(t.join(" ")," #").concat(a)})})},addPointsPadding:function(){Array.prototype.forEach.call(BotConstructor.wideColumn.getElementsByClassName("js-block-wrapper"),function(e){e.classList.contains("js-cond-point")||e.classList.remove("ui-conversations__item-row--padding","if")}),Array.prototype.forEach.call(BotConstructor.wideColumn.getElementsByClassName("js-condition-point-start"),function(e){var t=document.querySelector('.js-condition-point-end[data-selector="'+e.getAttribute("data-selector")+'"]'),a=1==e.getAttribute("data-scope")?"if":null;if(t)for(var n=t.previousElementSibling;n!==e;)n.classList.add("ui-conversations__item-row--padding",a),n=n.previousElementSibling})},advancedReplyPage:function(a){var e=BotConstructor.search.get("id"),t=document.getElementById("header-chat-bot-selector").getAttribute("data-template-id");getText("/ajax/constructor/advanced_reply",{reply_id:e,templateId:t},function(e){if("error"!==e){var t=document.getElementById("messages-list-container"),a=document.getElementById("advanced-replies-preloader");if(a&&a.classList.add("hidden"),""!==e){var n=document.getElementById("add-block-template").innerHTML;t.innerHTML=e,Array.prototype.forEach.call(t.children,function(e){e.insertAdjacentHTML("beforeend",n)}),ConstructorUi.setupPointForwards()}Emoji.get(),AudienceFilters.initFilters(t,function(){AudienceFilters.existingFiltersList(t,!0)},!0),ConstructorUi.setPointsNumbers(!0),ConstructorUi.addFilesCountMouseEnterListeners(),Array.prototype.forEach.call(BotConstructor.wideColumn.getElementsByClassName("js-select-item"),function(e){e.addEventListener("click",selectItem)}),ConstructorUi.addPointsPadding(),Array.prototype.forEach.call(document.getElementById("wide-column-container").getElementsByClassName("js-vars"),function(e){e.classList.contains("js-vars-parsed")||(e.classList.add("js-vars-parsed"),Emoji.parseVariables(e),Emoji.replaceNodesEmoji(e))})}});var n=BotConstructor.getDataManager("advancedReply");BotConstructor.deletedReplies=BotConstructor.deletedRepliesStore();var c=document.getElementById("messages-list-container");new Sortable(c,{group:{name:1,pull:!1,put:!1},handle:".js-reply-handle",animation:200,delay:0,touchStartThreshold:2,fallbackTolerance:2,forceFallback:!0,ghostClass:"js-sortable-ghost",chosenClass:"js-sortable-chosen",dragClass:"js-sortable-drag",onStart:function(e){if(c.classList.add("js-dragging"),e.item.classList.contains("js-condition-point-start")){var t=e.item.getAttribute("data-selector");c.querySelector('.js-condition-point-end[data-selector="'.concat(t,'"]')).classList.add("hidden")}},onEnd:function(e){c.classList.remove("js-dragging");var t=e.item;if(t.classList.contains("js-condition-point-start")){var a=t.getAttribute("data-selector"),n=c.querySelector('.js-condition-point-end[data-selector="'.concat(a,'"]'));n.classList.remove("hidden"),t.parentNode.insertBefore(n,t.nextSibling)}ConstructorUi.addPointsPadding()}}),ConstructorUi.addForwardingEventsHandler(document.getElementById("messages-list-container"));var s=document.getElementById("default-reply-block");s&&(s.nextElementSibling.insertAdjacentHTML("beforeend",document.getElementById("add-block-template").innerHTML),s.parentNode.removeChild(s)),document.getElementById("reply-funnel-container").addEventListener("input",function(e){var t=e.target;if(t.classList.contains("js-time-value")){var a=Number(t.value);9999<a&&(a=9999),t.parentNode.parentNode.previousSibling.textContent=a+" "+t.nextElementSibling.options[t.nextElementSibling.selectedIndex].textContent}}),document.getElementById("reply-funnel-container").addEventListener("change",function(e){var t=e.target;t.classList.contains("js-time-unit")&&(t.parentNode.parentNode.previousSibling.textContent=Number(t.previousElementSibling.value)+" "+t.options[t.selectedIndex].textContent)}),document.getElementById("add-funnel-message-btn").addEventListener("click",function(){var e=document.getElementById("funnel-message-template"),t=e.innerHTML,a="funnel-forward-block"===e.nextElementSibling.id;document.getElementById("funnel-forward-block").insertAdjacentHTML("beforeBegin",t),a&&(e.nextElementSibling.getElementsByClassName("js-paragraph-header")[0].innerHTML='                   Прошло <div class="ui-tooltip-trigger" data-tooltip="">                        30 секунд                        <div class="ui-tooltip ui-tooltip--140w" data-tooltip-ignore="">                            <div class="ui-tooltip__content-wrap">                                <input class="inline-input js-time-value" value="30" maxlength="3" type="number">                                <select name="" class="form-control js-time-unit inline-images">                                    <option value="1">секунд</option>                                    <option value="2">минут</option>                                    <option value="3">часов</option>                                    <option value="3">дней</option>                                </select>                            </div>                        </div>                    </div>, то отправить сообщение:')}),document.getElementById("advanced-reply-nested-messages-table").addEventListener("click",function(e){var t=e.target;if(getParent(t,"js-copy-command"))e.stopPropagation(),ConstructorUi.copyCommand(getParent(t,"js-link").getAttribute("data-id"),function(){location.reload()});else if(getParent(t,"js-delete-command")){e.stopPropagation();var a=t.parentNode.parentNode.parentNode;alertify.okBtn("Удалить").cancelBtn("Отмена").confirm("Вы уверены, что хотите удалить команду?<br> Это действие нельзя будет отменить.",function(){var t=a.getAttribute("data-id");$.post("/ajax/constructor/delete_message",{id:t,type:2},function(e){e.error?alertify.error("Не удалось удалить"):(BotConstructor.MessagesHistory.remove(t),a.parentNode.removeChild(a),alertify.success("Сообщения удалены"))})})}}),c.addEventListener("focusin",function(e){e.target.classList.contains("js-point-name")&&selectElem(e.target)}),live("keyup",".js-point-name",function(){if(32<this.textContent.length){var e,t,a=window.getSelection();0<a.rangeCount&&(e=(t=a.getRangeAt(0)).startOffset),this.textContent=this.textContent.substr(0,32),t&&(t.setStart(this.firstChild,32<e?32:e),t.collapse(!0))}else delayCallback(function(){ConstructorUi.setupPointForwards()},1e3)},c),live("click",".js-remove-user",function(){this.parentNode.parentNode.removeChild(this.parentNode)},c),live("click",".js-add-condition-scope-block",function(){var e=this.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode,t=e.getAttribute("data-id");if(t){var a=this.getAttribute("data-type"),n=c.querySelector('[data-selector="'.concat(t,"-").concat(a,'"]'));if(n)$([document.documentElement,document.body]).animate({scrollTop:$(n).offset().top-150},500);else{this.classList.add("active");var s,o=document.getElementById("add-block-template").innerHTML,r="То",i="if";"0"===a&&(r="Иначе",i="else");var l=ENUM_REPLY_TYPES.TYPE_CONDITION_POINT_ENTITY;s='<div class="ui-conversations__item-row point ui-message-row js-block-wrapper js-block js-cond-point js-condition-point-start" data-scope="'.concat(a,'" data-for="').concat(t,'" data-selector="').concat(t,"-").concat(a,'" data-type="').concat(l,'" data-id="0">')+'    <div class="ui-conversations__item">        <div class="card-block__item-wrap">'+'            <div class="point__name js-point-name point__name--'.concat(i,'">').concat(r,"</div>")+'            <div class="ui-conversations__control-btn move-reply-btn js-reply-handle"></div><div class="ui-conversations__control-btn remove-btn not-focus js-delete-reply js-remove-condition-point"></div></div></div></div>',e.insertAdjacentHTML("afterend",s),e.nextElementSibling.insertAdjacentHTML("beforeend",o),l=ENUM_REPLY_TYPES.TYPE_CONDITION_END_POINT_ENTITY,s='<div class="ui-conversations__item-row point ui-message-row js-block-wrapper js-block js-cond-point js-condition-point-end" data-scope="'.concat(a,'" data-for="').concat(t,'" data-selector="').concat(t,"-").concat(a,'" data-type="').concat(l,'" data-id="0">')+'    <div class="ui-conversations__item point-end">        <div class="card-block__item-wrap">'+'            <div class="point__name js-point-name point__name--'.concat(i,'">Конец условия</div>')+"        </div>    </div></div>",e.nextElementSibling.insertAdjacentHTML("afterend",s),e.nextElementSibling.nextElementSibling.insertAdjacentHTML("beforeend",o),ConstructorUi.setPointsNumbers()}}},c),live("click",".js-setup-keyboard",function(e){var t=e.target;"BUTTON"!==t.tagName&&(t=t.parentNode),ConstructorUi.openKeyboardModal.call(t,!0)},c),live("paste",".js-users-link-input",getVkUserByUrl,c),live("input",".js-users-link-input",getVkUserByUrl,c),live("click",".js-users-link-input",function(){this.classList.contains("js-inited")||(this.classList.add("js-inited"),VkUsersHistory().addTooltip(this),this.click())},c),live("click",".js-block-plus-btn",function(){var e=c.getElementsByClassName("js-active-plus-block")[0];e&&e.classList.remove("js-active-plus-block");var t=this;t.classList.add("active");var a=t.nextElementSibling.nextElementSibling;a.classList.contains("js-event-attached")||(a.classList.add("js-event-attached"),a.addEventListener("click",function(){t.classList.remove("js-active-plus-block"),a.classList.remove("js-event-attached"),t.classList.remove("active")},{once:!0}),document.addEventListener("keydown",function(e){27===e.keyCode&&a.click()},{once:!0})),t.classList.add("js-active-plus-block");var n=this.nextElementSibling;0===n.children.length&&(n.innerHTML=document.getElementById("ui-blocks-box").innerHTML)},c),live("click",".js-variable-input-space",function(e){if(e.target.classList.contains("js-variable-input-space")){var t=e.target.getElementsByClassName("js-variable-name")[0];selectElem(t)}},c),live("click",".js-dropdown-item",function(e){var t=e.target,a=t.parentNode.parentNode,n=t.parentNode.getElementsByClassName("js-selected")[0];if(a.hasAttribute("data-radio")){if(t.classList.contains("js-selected"))return;n&&n!==t&&n.classList.remove("js-selected"),t.classList.add("js-selected")}else n&&n!==t&&n.click(),t.classList.toggle("js-selected");if(a.nextElementSibling&&(t.classList.contains("js-num-validation")?a.nextElementSibling.classList.remove("hidden"):a.nextElementSibling.classList.add("hidden")),t.classList.contains("js-selected"))a.setAttribute("data-value",t.getAttribute("data-value")),a.previousElementSibling.firstElementChild.textContent=t.textContent;else{a.setAttribute("data-value",0),a.nextElementSibling&&a.nextElementSibling.classList.add("hidden");var s=a.previousElementSibling.firstElementChild;s.textContent=s.getAttribute("data-default")}},c),live("click",".js-select-forward-type",function(e){var t=e.target;if(!t.classList.contains("active")){var a=t.parentNode;a.getElementsByClassName("active")[0].classList.remove("active"),t.classList.add("active"),a.parentNode.classList.remove("active");var n=t.getAttribute("data-id");a.previousElementSibling.textContent=t.textContent,a.previousElementSibling.setAttribute("data-value",n);var s=a.parentNode.parentNode.parentNode.querySelectorAll("[data-forward-item]");Array.prototype.forEach.call(s,function(e){e.classList.toggle("hidden",e.getAttribute("data-forward-item")!=n)})}},c),live("click",".js-select-timer-type",function(e){var t=e.target;if(!t.classList.contains("active")){var a=t.parentNode;a.getElementsByClassName("active")[0].classList.remove("active"),t.classList.add("active"),a.parentNode.classList.remove("active");var n=t.getAttribute("data-id");a.previousElementSibling.textContent=t.textContent,a.previousElementSibling.setAttribute("data-value",n);var s=a.parentNode.parentNode.parentNode.querySelectorAll("[data-item-type]");Array.prototype.forEach.call(s,function(e){e.classList.toggle("hidden",e.getAttribute("data-item-type")!=n)})}},c),live("click",".js-open-plugin-modal",function(){var a=document.getElementById("chat-bot-plugins-remodal");a.classList.contains("hidden")&&(a.classList.remove("hidden"),a.querySelector("#bot-plugins-list").addEventListener("click",function(e){for(var t=e.target;t.parentElement&&!t.classList.contains("js-add-plugin");)t=t.parentElement;t.parentElement&&$(a).remodal().close()})),$(a).remodal().open()},c.parentNode),a.addEventListener("click",function(){if(this.classList.contains("js-loading"))return!1;this.classList.add("js-loading");var e=BotConstructor.wideColumn.getElementsByClassName("js-delayed"),t=Array.prototype.map.call(e,function(e){return clearTimeout(e.timer),e.callback()});Promise.all(t).then(function(){$.post("/ajax/constructor/save_replies",{data:n.get()},function(e){setTimeout(function(){a.classList.remove("js-loading")},500),e.error?alertify.error(e.message):(BotConstructor.deletedReplies.clear(),n.clearContainers(e.replies),ConstructorUi.afterSave(),alertify.success("Команда сохранена"))})})}),document.getElementById("narrow-column-tabs-container").children[ConstructorUi.activeTab].click(),document.getElementById("delete-message-btn").addEventListener("click",function(){alertify.okBtn("Удалить").cancelBtn("Отмена").confirm("Вы уверены, что хотите удалить все реакции? Это действие нельзя будет отменить.",function(){var e=BotConstructor.search.get("id");$.post("/ajax/constructor/delete_advanced_message",{id:e},function(e){e.error?alertify.error("Не удалось удалить"):(BotConstructor.loadPage({id:BotConstructor.search.get("id"),type:BotConstructor.EDITOR_ACTIONS.MESSAGE_ADVANCED_REPLY,action:"keywords"}),ConstructorUi.activeTab=1,alertify.success("Реакции удалены"))})})}),document.getElementById("delete-replies-btn").addEventListener("click",function(){alertify.okBtn("Удалить").cancelBtn("Отмена").confirm("Вы уверены, что хотите удалить цепочку ответов? Это действие нельзя будет отменить.",function(){var e=BotConstructor.search.get("id");$.post("/ajax/constructor/delete_replies",{id:e},function(e){e.error?alertify.error("Не удалось удалить"):(BotConstructor.loadPage({id:BotConstructor.search.get("id"),type:BotConstructor.EDITOR_ACTIONS.MESSAGE_ADVANCED_REPLY,action:"keywords"}),ConstructorUi.activeTab=0,alertify.success("Ответы удалены"))})})})},setupPointForwards:function(){var e=BotConstructor.wideColumn.getElementsByClassName("js-point-block"),t=[];Array.prototype.forEach.call(e,function(e){t.push([e.getAttribute("data-id"),e.getElementsByClassName("js-point-name")[0].textContent.trim()])});var s=t.reduce(function(e,t){return e+='<li class="js-dropdown-item" data-value="'.concat(t[0],'">').concat(t[1],"</li>")},""),a=BotConstructor.wideColumn.getElementsByClassName("js-forward-point-list");Array.prototype.forEach.call(a,function(e){e.innerHTML=s;var t=parseInt(e.parentNode.getAttribute("data-value"));if(t){var a=e.querySelector('[data-value="'.concat(t,'"]'));if(a)a.click();else{e.parentNode.setAttribute("data-value",null);var n=e.parentNode.previousElementSibling.firstElementChild;n.textContent=n.getAttribute("data-default")}}})},variablesOnClick:function(){var e=this.getElementsByTagName("ul")[0];e.innerHTML=document.getElementById("bot-variables-template").innerHTML,e.addEventListener("click",function(e){if("js-insert-variable"===e.target.className){var t=e.target.parentNode.parentNode.parentNode.parentNode.parentNode.getElementsByClassName("js-contenteditable")[0];BotConstructor.replaceSelectionWithHtml(t,e.target.getAttribute("title")),this.parentNode.parentNode.parentNode.classList.remove("active")}})},attachPostBtn:function(){var e=document.getElementById("attach-post-remodal"),t=parseInt(this.getAttribute("data-attachment-type"));if("mailing"===BotConstructor.getForParam()?e.classList.add("js-short-view"):e.classList.remove("js-short-view"),e.classList.contains("js-inited")||(e.classList.add("js-inited"),Array.prototype.forEach.call(e.getElementsByClassName("js-select-item"),function(e){e.addEventListener("click",selectItem)})),t==parseInt(t)){var a=e.querySelector('.js-attachments-radio[data-type="'.concat(t,'"]'));if(a.parentNode.classList.contains("js-checked")||a.click(),3==t||4==t){var n=parseInt(this.getAttribute("data-attachment-settings"));if(n==parseInt(n)&&e.querySelector('.js-select-item[data-id="'.concat(n,'"]')).click(),4==t){var s=e.querySelector("#links-random-post");s.parentNode.previousElementSibling.value=this.getAttribute("data-attachment-value"),n&&(s.nextElementSibling.checked=!0)}}}else{var o=e.getElementsByClassName("js-checked")[0];o&&(o.getElementsByTagName("input")[0].click(),e.getElementsByTagName("textarea")[0].value="")}ConstructorUi.openRemodal(e,this)},replyApplicationBtn:function(){var i=document.getElementById("reply-application-remodal");if(i.classList.contains("hidden")){var a=document.getElementById("forward-reply-users-input");vkProfileLinkInput(a),i.querySelector("#save-reply-appointment-btn").addEventListener("click",function(){var n=this;n.classList.add("js-loading");var e=wrapDomElement(i.getElementsByClassName("js-message")[0]),t=Array.prototype.reduce.call(a.parentNode.parentNode.getElementsByClassName("js-user"),function(e,t){return e.push(t.getAttribute("data-id")),e},[]),s={reply_id:i.getAttribute("data-id"),message:e.children||[],recipients:t,status:i.querySelector("#application-status").checked?1:0,link:i.querySelector("#add-forward-message-link").checked?1:0};$.post("/ajax/bot/reply/save_application",{data:s},function(e){if(n.classList.remove("js-loading"),!e.error){alertify.success("Сохранено");var t=BotConstructor.wideColumn.querySelector('.js-content[data-id="'.concat(s.reply_id,'"]')),a=t.nextElementSibling.getElementsByClassName("js-reply-application")[0];s.status?a.classList.add("active"):a.classList.remove("active"),BotConstructor.checkReplyPointed(t.nextElementSibling)}})})}var e=this.parentNode.parentNode.parentNode.parentNode.previousElementSibling.getAttribute("data-id");0==e?i.getElementsByClassName("js-message")[0].innerHTML="":getJSON("/ajax/get/bot/reply_application",{id:e},function(e){if(e.error){i.querySelector("#application-status").checked=!1,i.querySelector("#add-forward-message-link").checked=!0,i.getElementsByClassName("js-message")[0].innerHTML="";for(var t=i.querySelector("#self-recipient-template").innerHTML,a=document.getElementById("forward-reply-users-input").parentNode;a.previousElementSibling;)a.parentNode.removeChild(a.previousElementSibling);a.insertAdjacentHTML("beforebegin",t)}else{var n=!1,s=!1;1==e.result.status&&(n=!0),1==e.result.link&&(s=!0);for(var o=e.result.recipients.reduce(function(e,t){return"".concat(e,'<div class="ui-users-list__item js-user" data-id="').concat(t.id,'">                            <a href="https://vk.com/id').concat(t.id,'" target="_blank">').concat(t.name,'</a><button class="cross-btn js-remove-user"></button></div>')},""),r=document.getElementById("forward-reply-users-input").parentNode;r.previousElementSibling;)r.parentNode.removeChild(r.previousElementSibling);r.insertAdjacentHTML("beforebegin",o),i.querySelector("#application-status").checked=n,i.querySelector("#add-forward-message-link").checked=s,i.getElementsByClassName("js-message")[0].innerHTML=e.result.message}}),ConstructorUi.openRemodal(i,this)},replySendCondition:function(){var o=document.getElementById("send-conditions-remodal");o.classList.contains("hidden")&&o.querySelector("#save-reply-conditions-btn").addEventListener("click",function(){var a=this;a.classList.add("js-loading");var e=AudienceFilters.parseFilters(o.getElementsByClassName("js-filter-row")),n=o.querySelector("#reply-send-conditions-status").checked,t=o.querySelector("#reply-condition-requirement").getAttribute("data-value"),s=o.getAttribute("data-id");$.post("/ajax/bot/reply/save_conditions",{filters:e,enabled:n,required:t,id:s},function(e){if(a.classList.remove("js-loading"),e.error)alertify.error(e.message);else{var t=n?"add":"remove";BotConstructor.wideColumn.querySelector('.js-content[data-id="'.concat(s,'"]')).nextElementSibling.getElementsByClassName("js-reply-send-conditions")[0].classList[t]("js-pointed"),alertify.success("Условия отправки сохранены")}})}),ConstructorUi.openRemodal(o,this,function(e){getJSON("/ajax/get/bot/reply_conditions?id=".concat(e),function(e){if(!e.error){var t,a=o.querySelector("#reply-send-conditions-content");a.innerHTML=e.result,t=1==e.required?'<span data-value="1" id="reply-condition-requirement">будет</span><ul class="ui-select__tooltip" data-tooltip-ignore=""><li class="js-select-item active" data-id="1">будет</li><li class="js-select-item" data-id="0">не будет</li>':'<span data-value="0" id="reply-condition-requirement">не будет</span><ul class="ui-select__tooltip" data-tooltip-ignore=""><li class="js-select-item" data-id="1">будет</li><li class="js-select-item active" data-id="0">не будет</li>',o.querySelector("#reply-send-conditions-status").checked=1==e.enabled,a.querySelector("#audience-filters-list").firstElementChild.insertAdjacentHTML("beforebegin","".concat('<div class="options__header">Сообщение <label class="ui-select ui-select--active-hidden" data-tooltip=""><span class="ui-select__arrows"></span>').concat(t,"</ul></label>отправлено пользователю:")+"</div>"),Array.prototype.forEach.call(a.getElementsByClassName("js-select-item"),function(e){e.addEventListener("click",selectItem)});var n=a.getElementsByClassName("js-audience-filters-list")[0];AudienceFilters.initFilters(n,function(){e.new?AudienceFilters.newFiltersList(n,!0):AudienceFilters.existingFiltersList(n,!0)},!0),Emoji.updateBlocksVariables()}})})},openRemodal:function(e,t,a){var n,s;if("mailing"!=BotConstructor.search.get("act")){var o=getParent(t,"js-block-wrapper");n=function(){var e=parseInt(o.getAttribute("data-id"));return e||(o.querySelector(".js-block")?parseInt(o.querySelector(".js-block").getAttribute("data-id")):o.querySelector(".js-content")?parseInt(o.querySelector(".js-content").getAttribute("data-id")):0)}}else{for(var r=t.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode,i=0;r=r.previousElementSibling;)i++;n=function(){return parseInt(document.getElementById("messages-list-container").children[i].getElementsByClassName("js-content")[0].getAttribute("data-id"))}}(s=n())?(e.classList.remove("hidden"),e.setAttribute("data-id",s),a&&a(s),$(e).remodal().open()):ConstructorUi.saveAndCall(function(){s=n(),e.classList.remove("hidden"),e.setAttribute("data-id",s),$(e).remodal().open(),a&&a(s)})},fixActiveNavLink:function(){if(!document.getElementById("page-breadcrumbs").firstElementChild.getAttribute("data-action")){var e=document.getElementById("main-nav-list").getElementsByClassName("js-nav-link")[0];e.nextElementSibling.classList.remove("active"),e.classList.add("active"),(e=document.getElementById("mobile-nav-list").getElementsByClassName("js-nav-link")[0]).nextElementSibling.classList.remove("active"),e.classList.add("active")}},fillBotsRemodal:function(a,n,e){getBots(function(e){var t="";0<e.list.length?e.list.forEach(function(e){t+='<div class="table-row js-chat-bot-item" data-id="'.concat(e.id,'">')+'                <div>                    <div class="status-icon"></div>'+'                    <img src="'.concat(e.avatar,'" alt="" class="table__row-image">')+'                    <div class="label">'.concat(e.name,"</div>")+"                    <p>".concat(getSeparatedNumber(e.members)," ").concat(sklonen(e.members,"подписчик","подписчика","подписчиков"),"</p>")+"                </div></div>"}):t=' <div class="empty-list">Нет сообществ<p></p></div>',n.innerHTML=t,Array.prototype.forEach.call(n.getElementsByClassName("js-chat-bot-item"),function(e){e.addEventListener("click",function(){var e=this.parentNode.parentNode.parentNode.getElementsByClassName("js-action-btn")[0];toggleButtonText.call(this,e,e.firstElementChild)})}),$(a).remodal().open()},e)},topNotification:{add:function(e){var t=document.createElement("div");t.className="block-notification block-notification--inline red topBar-notification",t.innerHTML=e,t.id="top-notification";var a=document.getElementById("main");a.insertBefore(t,a.firstElementChild.nextSibling)},remove:function(){var e=document.getElementById("top-notification");e&&e.parentNode.removeChild(e)}},tutorialTooltips:function(e){var t={"groups-header-list":{id:1,targetElem:"#header-chat-bot-selector",start:function(){window.history.pushState(null,null,"#")},callback:function(){ConstructorUi.tutorialTooltips("bot-manage-button").add()}},"bot-manage-button":{id:2,targetElem:"#bot-settings-btn"}}[e],a=document.querySelector('[data-tutorial-tooltip="'.concat(t.id,'"]')),n={add:function(){t.start&&t.start(),a.classList.add("active"),a.getElementsByClassName("js-close-tooltip-btn")[0].addEventListener("click",n.hide,{once:!0}),document.querySelector(t.targetElem).addEventListener("click",function(){n.hide()},{once:!0})},hide:function(){a.classList.remove("active"),t.callback&&t.callback()}};return n}},SpecialProjects={STATUS_TEMPLATE:1,STATUS_STARTED:2,STATUS_FINISHED:3,MESSAGE_TYPE_FAIL:1,MESSAGE_TYPE_WIN:2,MESSAGE_TYPE_GIVEAWAY_POST:8,MESSAGES_TYPES:[{type:6,description:"Комментарий с предложением сделать репост",defaultText:"не хотим расстраивать, но у тебя кончились ходы. В следующий раз ты сможешь сходить через {{таймер}}... Но мы знаем, как заработать еще – сделай репост записи с игрой. Сразу же получишь дополнительный ход, а каждые 10 часов будешь получать не один, а целых ДВА хода 😎 Чтобы мы увидели твой репост, сначала убедись, что ты не скрыл свою стену настройками приватности!"},{type:4,description:"Комментарий с предложением поставить лайк",defaultText:"ты сильный игрок, но ходы все равно кончаются... Есть еще один способ продолжить игру: лайкнуть последний пост от сообщества на нашей стене, не считая этого 😉 После этого еще один дополнительный ход будет ждать тебя в игре. Правда, ход за лайк может начисляться с задержкой до 5 минут, не пугайся)"},{type:7,description:"Комментарий, если закончились все призы",defaultText:"к сожалению, все призы закончились! Следи за новостями, мы объявим, будут ли добавлены новые призы "},{type:5,description:"Комментарий с предложением написать в личку",defaultText:"жаль, но ходы кончились... В следующий раз ты сможешь сходить через  😓 Зато есть ходы не по расписанию 😉 Напиши нам в личку vk.me/club161878998 кодовое слово – сразу получишь ТРИ дополнительных хода!"},{type:3,description:"Комментарий, если человек не подписан",defaultText:"чтобы начать играть, нужно подписаться на нас 😉 У нас все еще много призов. Подписывайся и врывайся в игру!"}],giveaway:function(){var e=BotConstructor.search.get("id");e?SpecialProjects.editGiveaway(e):SpecialProjects.listGiveaways(),document.getElementById("page-layout").classList.add("js-no-columns")},editGiveaway:function(o){getJSON("/ajax/get/special/giveaway",{id:o},function(n){var e;if(document.getElementById("giveaway-prizes-count").textContent="Призы (".concat(n.prizes.length,")"),e=0===n.prizes.length?SpecialProjects.getPrizeView({name:"",promocodes:"",description:"",chance:""},1):n.prizes.reduce(function(e,t,a){return e+=SpecialProjects.getPrizeView(t,++a)},""),n.giveaway.start_at){var t=flatpickr.parseDate(new Date(1e3*n.giveaway.start_at),"H:i d.m.Y"),a=flatpickr.formatDate(t,"j F в H:i");t=flatpickr.formatDate(t,"j F H:i");var s=flatpickr.parseDate(new Date(1e3*n.giveaway.finish_at),"H:i d.m.Y");s=flatpickr.formatDate(s,"j F H:i");var o=document.getElementById("giveaway-start-date");o.textContent="с ".concat(formatMonth(t)," до ").concat(formatMonth(s)),o.setAttribute("data-date","".concat(n.giveaway.start_at,",").concat(n.giveaway.finish_at));var r=Math.floor((n.giveaway.finish_at-n.giveaway.start_at)/86400);document.getElementById("giveaway-start-date-text").textContent=formatMonth(a),document.getElementById("giveaway-duration").textContent="".concat(r," ").concat(sklonen(r,"день","дня","дней"),", до ").concat(formatMonth(s))}document.getElementById("giveaway-win-chance").value=n.giveaway.win_chance;var i=document.getElementById("win-message-block");SpecialProjects.MESSAGES_TYPES.forEach(function(t){var e=n.messages.find(function(e){return e.type==t.type}),a=e?e.content:t.defaultText;a='<div class="c-row__item">\n                        <h3 class="c-row-title">\n                          <div class="c-row-title__text">'.concat(t.description,'</div>\n                        </h3>\n                            <section class="ui-message-section js-draft">').concat(SpecialProjects.getMessageView(a,t.type),"</section>\n                        </div>"),i.insertAdjacentHTML("afterend",a)});var l=n.messages.find(function(e){return e.type==SpecialProjects.MESSAGE_TYPE_WIN}),c=l?l.content:"поздравляем 🏆 Твоя награда: {{приз}}. Мы уже выслали в личку информацию о том, как забрать трофей. Поскорее возвращайся в игру, пока удача на твоей стороне 😉";document.getElementById("win-message-section").innerHTML="".concat(SpecialProjects.getMessageView(c,SpecialProjects.MESSAGE_TYPE_WIN));var d=n.messages.find(function(e){return e.type==SpecialProjects.MESSAGE_TYPE_GIVEAWAY_POST});document.getElementById("giveaway-wall-post").innerHTML=d&&d.content||"";var m=document.getElementById("new-reply-block");n.messages.forEach(function(e){if(e.type==SpecialProjects.MESSAGE_TYPE_FAIL){var t=e?e.content:"";t="".concat(SpecialProjects.getMessageView(t,SpecialProjects.MESSAGE_TYPE_FAIL,e.id)),m.insertAdjacentHTML("beforebegin",t)}}),n.giveaway.images.forEach(function(e){document.querySelector('.js-background-image[data-type="'.concat(e.type,'"]')).setAttribute("src",e.src)}),n.giveaway.bots.forEach(function(e){var t;(t=(t=1==e.is_test?document.getElementById("test-bots-selector"):document.getElementById("giveaway-bots-selector")).firstElementChild).firstElementChild.setAttribute("src",e.avatar),t.firstElementChild.nextElementSibling.textContent=e.name,t.firstElementChild.nextElementSibling.nextElementSibling.textContent="".concat(e.members," ").concat(sklonen(e.members,"подписчик","подписчика","подписчиков"))}),document.getElementById("prizes-responsive-table").insertAdjacentHTML("beforeend",e),document.getElementById("project-title-input").textContent=n.giveaway.name||"<Без названия>",document.getElementById("giveaway-main-keyword").value=n.giveaway.main_keyword||"",Emoji.get()}),document.getElementById("giveaway-winners-tab").addEventListener("click",function(){var e=BotConstructor.search.get("id");$.get("/ajax/special/giveaway/winners",{id:e},function(e){})}),document.getElementById("start-giveaway-test").addEventListener("click",function(){$.post("/ajax/special/giveaway/save",{type:"giveaway_test",id:o},function(e){BotConstructor.search.set("id",e.id)})}),document.getElementById("plan-giveaway-start").addEventListener("click",function(){var t=this;t.classList.add("js-loading"),$.post("/ajax/special/giveaway/save",{type:"giveaway_status",id:o},function(e){t.classList.remove("js-loading")})}),document.getElementById("giveaway-start-date").addEventListener("click",function(){if(this.classList.contains("js-loaded"))this.nextElementSibling.classList.toggle("hidden");else{this.classList.add("js-loaded");var e=document.getElementById("giveaway-start-date").getAttribute("data-date");e=e.split(","),flatpickr("#giveaway-start-date",{altInput:!1,altFormat:"j F, Y H:i",dateFormat:"H:i d.m.Y",defaultDate:[new Date(1e3*e[0]),new Date(1e3*e[1])],enableTime:!0,minDate:new Date,time_24hr:!0,inline:!0,mode:"range",onValueUpdate:function(e,t,a){var n=t.split(" to "),s=flatpickr.parseDate(n[0],"H:i d.m.Y"),o=s.getTime()/1e3;if(!n[1])return s=flatpickr.formatDate(s,"j F H:i"),void(document.getElementById("giveaway-start-date").textContent="с ".concat(formatMonth(s),"..."));a.set("enable",[]);var r=flatpickr.parseDate(n[1],"H:i d.m.Y"),i=r.getTime()/1e3,l=Math.floor((i-o)/86400);if(30<l){l=30;var c=flatpickr.parseDate(n[0],"H:i d.m.Y");(r=Object.assign(c)).setTime(r.getTime()+2592e6),a.setDate([s,r],!1)}r=flatpickr.formatDate(r,"j F H:i"),s=flatpickr.formatDate(s,"j F H:i"),document.getElementById("giveaway-start-date").textContent="с ".concat(formatMonth(s)," по ").concat(formatMonth(r)),document.getElementById("giveaway-start-date-text").textContent=formatMonth(s),document.getElementById("giveaway-duration").textContent="".concat(l," ").concat(sklonen(l,"день","дня","дней"),", до ").concat(formatMonth(r));var d=BotConstructor.search.get("id");t=flatpickr.parseDate(t,"H:i d.m.Y").getTime()/1e3,$.post("/ajax/special/giveaway/save",{type:"giveaway_start",id:d,startDateTime:o,finishDateTime:i},function(e){BotConstructor.search.set("id",e.id)})}})}}),Array.prototype.forEach.call(document.querySelectorAll(".js-tab-action"),function(e){e.addEventListener("click",function(){e.parentNode.querySelector(".is-active").classList.remove("is-active"),e.classList.add("is-active");var t=e.getAttribute("data-tab-num");Array.prototype.forEach.call(document.querySelectorAll("[data-tab]"),function(e){e.getAttribute("data-tab")==t?e.classList.remove("hidden"):e.classList.add("hidden")})})}),document.getElementById("add-prize-action").addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("prizes-responsive-table"),a=SpecialProjects.getPrizeView({name:"",description:"",promocodes:"",chance:""},t.children.length);t.insertAdjacentHTML("beforeend",a),document.getElementById("giveaway-prizes-count").textContent="Призы (".concat(t.children.length-1,")")}),document.getElementById("giveaway-main-keyword").addEventListener("input",function(){delayElemCallback(this,function(){var e=document.getElementById("giveaway-main-keyword").value.trim(),t=BotConstructor.search.get("id");$.post("/ajax/special/giveaway/save",{type:"main_keyword",id:t,value:e},function(e){BotConstructor.search.set("id",e.id)})},1e3)}),document.getElementById("activate-giveaway-coupon-action").addEventListener("click",function(){var e=document.getElementById("giveaway-coupon-input").value.trim();$.get("/ajax/special/get/coupon",{value:e},function(e){})}),document.getElementById("giveaway-win-chance").addEventListener("keyup",function(){delayElemCallback(this,function(){var e=document.getElementById("giveaway-win-chance").value.trim(),t=BotConstructor.search.get("id");$.post("/ajax/special/giveaway/save",{type:"win_chance",id:t,value:e},function(e){BotConstructor.search.set("id",e.id)})},1e3)}),document.getElementById("project-title-input").addEventListener("keyup",function(){delayElemCallback(this,function(){var e=document.getElementById("project-title-input").innerText.trim(),t=BotConstructor.search.get("id");$.post("/ajax/special/giveaway/save",{type:"title",id:t,value:e},function(e){BotConstructor.search.set("id",e.id)})},1e3)});var e=$("#prizes-responsive-table");e.on("keyup","[name]",function(s){delayElemCallback(this,function(){var e=s.target.name,t=s.target.value.trim(),a=s.target.parentNode.parentNode.parentNode.parentNode,n=a.getAttribute("data-id");$.post("/ajax/special/giveaway/save",{type:"prize_edit",id:o,value:t,prizeId:n,field:e},function(e){e.result&&e.result.id&&a.setAttribute("data-id",e.result.id)})},1e3)}),e.on("click",".js-prize-image",function(e){e.currentTarget.nextElementSibling.click()}),e.on("change","input",function(e){var a=e.target.parentNode.parentNode.parentNode,t=a.getAttribute("data-id"),n=e.target.files[0],s=new FormData;s.append("photo",n),s.append("prizeId",t),s.append("id",o),s.append("type","prize_photo"),$.ajax({url:"/ajax/special/giveaway/save",data:s,cache:!1,contentType:!1,processData:!1,method:"POST",success:function(){var t=new FileReader;t.onloadend=function(){var e=a.querySelector(".js-image");e.setAttribute("src",t.result),e.classList.remove("hidden")},t.readAsDataURL(n)}})}),Array.prototype.forEach.call(document.querySelectorAll(".js-upload-design"),function(s){s.addEventListener("click",function(){s.firstElementChild.click()}),s.nextElementSibling.addEventListener("click",function(){var a=s.getAttribute("data-type");$.post("/ajax/special/giveaway/save",{type:"giveaway_photo_default",id:o,photoType:a},function(e){var t=document.querySelector('.js-background-image[data-type="'.concat(a,'"]'));t.setAttribute("src",t.getAttribute("data-default-src"))})}),s.firstElementChild.addEventListener("change",function(e){var t=e.target.files[0],a=s.getAttribute("data-type"),n=new FormData;n.append("photo",t),n.append("id",o),n.append("type","giveaway_photo"),n.append("photo_type",a),$.ajax({url:"/ajax/special/giveaway/save",data:n,cache:!1,contentType:!1,processData:!1,method:"POST",success:function(){var e=new FileReader;e.onloadend=function(){document.querySelector('.js-background-image[data-type="'.concat(a,'"]')).setAttribute("src",e.result)},e.readAsDataURL(t)}})})}),e.on("click",".js-delete-prize",function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,a=t.getAttribute("data-id");$.post("/ajax/special/giveaway/save",{type:"prize_delete",id:o,prizeId:a},function(e){e.error||(t.parentNode.removeChild(t),alertify.success("Приз удалён"))})});var t=$("#giveaway-messages-tab");function a(){this.removeEventListener("mouseenter",a),this.removeEventListener("click",a);var s=this;getJSON("/ajax/get/bots",{},function(e){var t=s.querySelector("#giveaway-chat-bots-list"),a="";e.list.forEach(function(e){a+='<li class="js-chat-row" data-id="'.concat(e.id,'" title="').concat(e.name,'">                <img src="').concat(e.avatar||"/img/db/default_bot.png",'" alt="" class="avatar">                    <div class="label js-item-title">').concat(e.name,'</div> <p class="subtext">').concat(e.members," ").concat(sklonen(e.members,"подписчик","подписчика","подписчиков"),"</p></li>")}),0===e.list.length?a='<div class="empty-list"><p>Сообщества отсутствуют</p></div>':5<e.list.length?(a="<div class='search-wrapper'><input type='text' placeholder='Найти шаблон...'></div><ul>".concat(a,"</ul>"),a+='<div class="empty-list js-no-results hidden"><p>Ничего не найдено</p></div>'):a="<ul>".concat(a,"</ul>"),t.innerHTML="".concat(a,'<div class="add-new-community"><a href="/connect"></a>Добавить сообщество <img src="/svg/db/nav/plus_blue.svg" alt="" class="inline-icon"></div>');var n=t.getElementsByClassName("js-chat-row");Array.prototype.forEach.call(n,function(e){e.addEventListener("click",function(){var e=this.getAttribute("data-id"),t=this.parentNode.parentNode.parentNode;t.firstElementChild.setAttribute("src",this.querySelector("img").getAttribute("src")),t.firstElementChild.nextElementSibling.textContent=this.firstElementChild.nextElementSibling.textContent,t.firstElementChild.nextElementSibling.nextElementSibling.textContent=this.firstElementChild.nextElementSibling.nextElementSibling.textContent,t.classList.remove("active");var a=BotConstructor.search.get("id");$.post("/ajax/special/giveaway/save",{type:"giveaway_bot",id:a,botId:e},function(e){BotConstructor.search.set("id",e.id)})})}),addSearchInput(t,n)})}t.on("click",".js-variables-toolbar",function(e){var t=e.target;t.classList.contains("js-loaded")||(t.classList.add("js-loaded"),ConstructorUi.variablesOnClick.call(t,e))}),t.on("click",".js-delete-reply",function(a){var e=a.target.previousElementSibling.previousElementSibling.getAttribute("data-id");$.post("/ajax/special/giveaway/save",{type:"message_delete",id:o,messageId:e},function(e){if(!e.error){var t=a.target.parentNode.parentNode.parentNode;t.parentNode.removeChild(t),alertify.success("Ответ удалён")}})}),t.on("keyup",".js-contenteditable",function(o){delayElemCallback(this,function(){var e=BotConstructor.search.get("id"),t=document.createElement("div");t.innerHTML=o.target.innerHTML,Array.prototype.forEach.call(Array.prototype.slice.call(t.children),function(e){"IMG"===e.tagName?t.replaceChild(document.createTextNode(e.getAttribute("alt")),e):"BR"===e.tagName?t.replaceChild(document.createTextNode("\n"),e):e.firstElementChild&&"BR"===e.firstElementChild.tagName&&t.replaceChild(document.createTextNode("\n\n"),e)});var a=t.innerText;a=(a=a.trim()).replace(/\n/g,"<br>");var n=o.target.getAttribute("data-type"),s=o.target.getAttribute("data-id");$.post("/ajax/special/giveaway/save",{type:"message_edit",id:e,value:a,messageId:s,messageType:n},function(e){BotConstructor.search.set("id",e.id),e.result&&e.result.message_id&&o.target.setAttribute("data-id",e.result.message_id)})},1e3)}),document.getElementById("giveaway-plan-start").addEventListener("click",function(){var e=document.getElementById("start-giveaway-modal");e.classList.remove("hidden"),$(e).remodal().open(),$.get("/ajax/special/giveaway/games",{},function(e){document.getElementById("giveaway-games-balance").textContent=e.count})}),document.getElementById("giveaway-wall-post").addEventListener("keyup",function(n){delayElemCallback(this,function(){var e=BotConstructor.search.get("id"),t=document.createElement("div");t.innerHTML=n.target.innerHTML,Array.prototype.forEach.call(Array.prototype.slice.call(t.children),function(e){"IMG"===e.tagName?t.replaceChild(document.createTextNode(e.getAttribute("alt")),e):"BR"===e.tagName?t.replaceChild(document.createTextNode("\n"),e):e.firstElementChild&&"BR"===e.firstElementChild.tagName&&t.replaceChild(document.createTextNode("\n\n"),e)});var a=t.innerText;a=(a=a.trim()).replace(/\n/g,"<br>"),$.post("/ajax/special/giveaway/save",{type:"giveaway_wall_post",id:e,value:a},function(e){BotConstructor.search.set("id",e.id)})},1e3)});var n=document.getElementById("giveaway-bots-selector");function r(){this.removeEventListener("mouseenter",r),this.removeEventListener("click",r);var s=this;getJSON("/ajax/get/bots",{},function(e){var t=s.querySelector("#test-chat-bots-list"),a="";e.list=e.list.filter(function(e){return e.members<=100}),e.list.forEach(function(e){a+='<li class="js-chat-row" data-id="'.concat(e.id,'" title="').concat(e.name,'">                <img src="').concat(e.avatar||"/img/db/default_bot.png",'" alt="" class="avatar">                    <div class="label js-item-title">').concat(e.name,'</div> <p class="subtext">').concat(e.members," ").concat(sklonen(e.members,"подписчик","подписчика","подписчиков"),"</p></li>")}),0===e.list.length?a='<div class="empty-list"><p>Сообщества отсутствуют</p></div>':5<e.list.length?(a="<div class='search-wrapper'><input type='text' placeholder='Найти шаблон...'></div><ul>".concat(a,"</ul>"),a+='<div class="empty-list js-no-results hidden"><p>Ничего не найдено</p></div>'):a="<ul>".concat(a,"</ul>"),t.innerHTML="".concat(a,'<div class="add-new-community"><a href="/connect"></a>Добавить сообщество <img src="/svg/db/nav/plus_blue.svg" alt="" class="inline-icon"></div>');var n=t.getElementsByClassName("js-chat-row");Array.prototype.forEach.call(n,function(e){e.addEventListener("click",function(){var e=this.getAttribute("data-id"),t=this.parentNode.parentNode.parentNode;t.firstElementChild.setAttribute("src",this.querySelector("img").getAttribute("src")),t.firstElementChild.nextElementSibling.textContent=this.firstElementChild.nextElementSibling.textContent,t.firstElementChild.nextElementSibling.nextElementSibling.textContent=this.firstElementChild.nextElementSibling.nextElementSibling.textContent,t.classList.remove("active");var a=BotConstructor.search.get("id");$.post("/ajax/special/giveaway/save",{type:"giveaway_bot",id:a,botId:e,isTest:1},function(e){BotConstructor.search.set("id",e.id)})})}),addSearchInput(t,n)})}n.addEventListener("mouseenter",a),n.addEventListener("click",a);var s=document.getElementById("test-bots-selector");s.addEventListener("mouseenter",r),s.addEventListener("click",r),document.getElementById("new-reply-field").addEventListener("focus",function(){var e=document.getElementById("new-reply-block");e.insertAdjacentHTML("beforebegin",SpecialProjects.getMessageView("",SpecialProjects.MESSAGE_TYPE_FAIL));var a=e.previousElementSibling,n=a.getElementsByClassName("js-contenteditable")[0];n.addEventListener("blur",function(e){for(var t=e.explicitOriginalTarget;t&&t.parentElement;)if((t=t.parentElement).previousElementSibling===n)return!0;""!==this.innerHTML.trim()&&"<br>"!==this.innerHTML||0===a.getElementsByClassName("js-settings active").length&&a.parentNode.removeChild(a)}),n.focus()})},getMessageView:function(e,t,a){return'<div class="ui-message-row ui-message-row--replies">\n                                <div class="reply-wrapper">\n                                    <div class="form-control-wrapper ">\n                                        <div contenteditable="true" aria-multiline="true" class="form-control form-control--textarea js-vars js-contenteditable" data-type="'.concat(t,'" data-id="').concat(a||0,'">').concat(e,'</div>\n                                        <div class="ui-textarea-toolbar js-emoji-container">\n                                            <div class="ui-textarea-toolbar__btn ui-textarea-toolbar__btn--emoji js-emoji-picker"></div>\n                                            <div class="ui-textarea-toolbar__btn ui-textarea-toolbar__btn--macros js-variables-toolbar" data-tooltip="">\n                                                <div class="text-tooltip text-tooltip--top">\n                                                    Вставить макрос\n                                                </div>\n                                                <div class="ui-tooltip right" data-tooltip-ignore="">\n                                                    <div class="c-tooltip a-position">\n                                                        <a href="/faq/popular#what-are-macros" target="_blank"></a>\n                                                        ?\n                                                        <div class="c-tooltip__content">\n                                                            <p>\n                                                                Нажмите, чтобы узнать о макросах подробнее\n                                                            </p>\n                                                        </div>\n                                                    </div>\n                                                    <p class="title">Макросы</p>\n                                                    <ul></ul>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        ').concat(t==SpecialProjects.MESSAGE_TYPE_FAIL?'<div class="ui-conversations__control-btn remove-btn js-delete-reply" title="Удалить ответ"></div>':"","\n                                    </div>\n\n                                </div>\n                            </div>")},getPrizeView:function(e,t){return'<div class="" data-id="'.concat(e.id||0,'">\n                            <div>\n                                <div>').concat(t,'</div>\n                            </div>\n                            <div data-label="Фото">\n                                <div>\n                                    <div class="c-prize-image js-prize-image">                                        \n                                        <div class="text-tooltip text-tooltip--top">\n                                            PNG картинка приза 400px*400px<br>с прозрачным фоном\n                                        </div>  \n                                        <div class="c-prize-image__brick">                                      \n                                            <img src="').concat(e.image_src||"#",'" alt="" class="js-image ').concat(e.image_src?"":"hidden",'">\n                                        </div>                                        \n                                    </div>\n                                    <input type="file" accept="image/*" class="hidden">\n                                </div>\n                            </div>\n                            <div data-label="Название">\n                                <div>\n                                    <input type="text" class="form-control" name="name" placeholder="Например, чизбургер" maxlength="1024" value="').concat(e.name,'">\n                                </div>\n                            </div>\n                            <div data-label="Шанс выпадения, %">\n                                <div>\n                                    <input type="text" class="form-control" name="chance" placeholder="1" value="').concat(e.chance,'" style="max-width: 60px">\n                                </div>\n                            </div>\n                            <div data-label="Промокоды">\n                                <div>\n                                    <div class="c-prize__textfield-wrapper">\n                                        <div class="c-prize__textfield-counter">0</div>\n                                        <textarea class="c-prize-textarea" name="promocodes" placeholder="Каждый промокод с новой строки">').concat(e.promocodes,'</textarea>\n                                    </div>\n                                </div>\n                            </div>\n                            <div data-label="Как использовать">\n                                <div>\n                                    <div class="c-prize__textfield-wrapper">\n                                        <textarea class="c-prize-textarea" name="description" placeholder="Инструкция по активации промокода">').concat(e.description,'</textarea>\n                                    </div>\n                                    <div class="c-prize__action js-delete-prize">\n                                        <div class="c-prize__remove-btn" role="button"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>')},listGiveaways:function(){document.getElementById("templates-list").addEventListener("click",function(e){if(getParent(e.target,"js-control")&&(e.preventDefault(),e.stopPropagation(),e.target.classList.toggle("active")),getParent(e.target,"js-copy-giveaway")){var t=getParent(e.target,"js-giveaway-item").getAttribute("data-id");$.post("/ajax/special/giveaway/copy",{id:t},function(e){})}else if(getParent(e.target,"js-delete-giveaway")){var a=getParent(e.target,"js-giveaway-item").getAttribute("data-id");$.post("/ajax/special/giveaway/delete",{id:a},function(e){})}}),Array.prototype.forEach.call(document.getElementsByClassName("js-tab-action"),function(e){e.addEventListener("click",function(){var t=e.getAttribute("data-tab-num");e.parentNode.querySelector(".is-active").classList.remove("is-active"),e.classList.add("is-active"),Array.prototype.forEach.call(document.getElementsByClassName("js-giveaway-item"),function(e){e.classList.toggle("hidden",e.getAttribute("data-status")!=t)})})}),getJSON("/ajax/get/special/giveaway_list",{},function(e){var t,a=(_defineProperty(t={},SpecialProjects.STATUS_TEMPLATE,0),_defineProperty(t,SpecialProjects.STATUS_STARTED,0),_defineProperty(t,SpecialProjects.STATUS_FINISHED,0),t);for(var n in e.items.map(function(e){a[e.status]++}),a){var s=document.querySelector('[data-tab-num="'.concat(n,'"]')).firstElementChild,o=s.textContent.trim().split(" ")[0];s.textContent="".concat(o," (").concat(a[n],")")}document.getElementById("templates-list").innerHTML=e.items.reduce(function(e,t){return e+='<div class="c-templates-item js-link js-giveaway-item" data-id="'.concat(t.id,'" data-action="special" data-status="').concat(t.status,'">\n                                <div class="c-templates-item__image">\n                                    <div class="c-templates-item__image-avatar">\n                                        <div class="c-templates-item__status c-templates-item__status--online"></div>\n                                        <img src="https://pp.userapi.com/c636128/v636128517/84fbc/7mPYaR7kacU.jpg" alt="">\n                                    </div>\n                                    <div class="c-templates-item__control js-control" data-tooltip="">\n                                        <div class="c-templates-item__control-icon">\n                                        </div>\n                                        <div class="ui-tooltip" data-tooltip-ignore="">\n                                            <ul class="ui-menu-list">\n                                                <li class="js-copy-giveaway">\n                                                    <p>Копировать</p>\n                                                </li>\n                                                <li class="red js-delete-giveaway">\n                                                    <p>Удалить</p>\n                                                </li>\n                                            </ul>\n                                        </div>                                        \n                                    </div>\n                                    <div class="c-templates-item__image-text">').concat(t.main_keyword,'</div>\n                                </div>\n                                <div class="c-templates-item__header">\n                                    <div class="c-templates-item__title">\n                                        <div class="c-templates-item__title-text">').concat(t.name||"<Без названия>",'</div>\n                                    </div>\n                                    <div class="c-templates-item__date">\n                                        14 марта — 29 марта\n                                    </div>\n                                    <div class="c-templates-item__stats">\n                                        <div class="c-templates-item__stats-text">\n                                            45,6k • 22,5k\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>')},""),document.querySelector(".js-tab-action").click()})}},ENUM_REPLY_TYPES={TYPE_TEXT:1,TYPE_TIMER:2,TYPE_PLUGIN_ALBUM_PHOTO:3,TYPE_PLUGIN_ALBUM_VIDEO:4,TYPE_PLUGIN_GIFTS:5,TYPE_ANONYMOUS_CHAT:6,TYPE_YANDEX_QUICK_PAY:7,TYPE_CALL_BOT:131,TYPE_DATING_BOT:132,TYPE_PAUSE_ENTITY:100,TYPE_EMAIL_ENTITY:101,TYPE_FORM_ENTITY:102,TYPE_POINT_ENTITY:103,TYPE_FORWARD_ENTITY:104,TYPE_COMMENT_ENTITY:106,TYPE_VARIABLES_ENTITY:107,TYPE_NOTIFICATION_ENTITY:108,TYPE_CONDITION_ENTITY:109,TYPE_BUTTONS_ENTITY:110,TYPE_CRM_ENTITY:111,TYPE_JSON_API_ENTITY:112,TYPE_GOOGLE_SPREADSHEET_ENTITY:113,TYPE_CONDITION_POINT_ENTITY:120,TYPE_CONDITION_END_POINT_ENTITY:121},BotConstructor={EDITOR_ACTIONS:{DEFAULT_EVENTS_MESSAGE:1,COMMON_MESSAGE:2,MESSAGE_ADVANCED_REPLY:3,NEW_NESTED_MESSAGE:4,NEW_NESTED_DEFAULT_EVENT:5,NESTED_DEFAULT_EVENT:6},API:"",search:new URLSearchParams(window.location.search),deletedReplies:null,wideColumn:document.getElementById("wide-column-container"),tooltip:document.getElementById("absolute-tooltip"),blockCallbacks:(_defineProperty(_blockCallbacks={},ENUM_REPLY_TYPES.TYPE_TIMER,function(e){var t=e.getElementsByClassName("js-checkbox")[0],a="checkbox-"+Math.floor(Math.random()*(1e6+1));t.id=a,t.nextElementSibling.setAttribute("for",a)}),_defineProperty(_blockCallbacks,ENUM_REPLY_TYPES.TYPE_BUTTONS_ENTITY,function(e){var t=e.getElementsByClassName("js-checkbox");Array.prototype.forEach.call(t,function(e){var t="checkbox-"+Math.floor(Math.random()*(1e6+1));e.id=t,e.nextElementSibling.setAttribute("for",t)})}),_defineProperty(_blockCallbacks,ENUM_REPLY_TYPES.TYPE_CALL_BOT,function(e){var t=e.getElementsByClassName("js-checkbox");Array.prototype.forEach.call(t,function(e){var t="checkbox-"+Math.floor(Math.random()*(1e6+1));e.id=t,e.nextElementSibling.setAttribute("for",t)})}),_defineProperty(_blockCallbacks,ENUM_REPLY_TYPES.TYPE_CONDITION_ENTITY,function(e){AudienceFilters.fillFilterSelect(e),AudienceFilters.addFilterRowListeners(e.getElementsByClassName("js-filter-row")[0],e.getElementsByClassName("js-add-filter-row-btn")[0])}),_blockCallbacks),blocks:{},initApp:function(){BotConstructor.$wideColumn=$(BotConstructor.wideColumn),BotConstructor.addListeners(),ConstructorUi.bindEvents(),document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1),BotConstructor.$wideColumn.on({mouseenter:function(){"vars-menu js-tooltip-menu"!==this.parentNode.parentNode.className&&(Emoji.setEmojiTooltip(this.innerHTML,"text-var"!==this.className),BotConstructor.tooltip.innerHTML=Emoji.tooltipText,BotConstructor.tooltip.timout=setTimeout(function(){BotConstructor.tooltip.style.display="inline-block"},100))},mouseleave:function(){clearTimeout(BotConstructor.tooltip.timout),BotConstructor.tooltip.style.display="none"},mousemove:function(e){BotConstructor.tooltip.style.top="".concat(e.pageY+15,"px"),BotConstructor.tooltip.style.left="".concat(e.pageX,"px")}},"span.text-var")},afterMove:function(){},getForParam:function(){return"mailing"===BotConstructor.search.get("act")?"mailing":""},addListeners:function(){Array.prototype.forEach.call(document.getElementsByClassName("js-nav-link"),function(s){s.addEventListener("click",function(e){if(e.preventDefault(),s.classList.contains("js-disabled"))return!1;s.classList.add("js-disabled");var t=setTimeout(function(){s.classList.add("js-loading-blue")},400);s.parentNode.getElementsByClassName("active")[0].classList.remove("active"),s.classList.add("active"),s.parentNode.previousElementSibling&&s.parentNode.previousElementSibling.classList.remove("active");var a="",n=s.firstChild.getAttribute("href").split("act=");1<n.length&&(a=n[1]),BotConstructor.loadPage({action:a}).then(function(){clearTimeout(t),setTimeout(function(){s.classList.remove("js-loading-blue","js-disabled")},300)})})}),document.getElementById("save-reply-attachments-btn").addEventListener("click",function(){var n=this,e=n.parentNode.parentNode.parentNode;n.classList.add("js-loading");var t=e.getElementsByClassName("js-checked")[0],s={id:e.getAttribute("data-id"),type:null,settings:null,value:null,for:BotConstructor.getForParam()};if(t){var a=t.nextElementSibling.getElementsByTagName("textarea")[0],o=t.parentNode.getElementsByClassName("js-settings-value")[0];if(s.type=t.getElementsByTagName("input")[0].getAttribute("data-type"),o)if(4==s.type){var r=t.nextElementSibling.querySelector("#links-random-post");r&&r.checked&&(s.settings=o.textContent)}else s.settings=o.textContent;a&&(s.value=a.value)}$.post("/ajax/constructor/reply_attachments",{data:s},function(e){if(n.classList.remove("js-loading"),e.error)alertify.error(e.message);else{var t=BotConstructor.wideColumn.querySelector('.js-content[data-id="'.concat(s.id,'"]')),a=t.nextElementSibling.getElementsByClassName("js-attach-post")[0];s.type?(a.classList.add("active"),a.setAttribute("data-attachment-type",s.type),a.setAttribute("data-attachment-value",s.value),a.setAttribute("data-attachment-settings",s.settings),t.nextElementSibling.getElementsByClassName("js-reply-toolbar")[0].classList.add("js-pointed")):(a.setAttribute("data-attachment-type",null),a.classList.remove("active"),BotConstructor.checkReplyPointed(t.nextElementSibling)),alertify.success("Сохранено")}})}),document.body.addEventListener("click",function(e){for(var t=e.target;t&&!t.classList.contains("js-link");)t=t.parentElement;if(!t){for(t=e.target;t&&!t.classList.contains("js-emoji-picker");)t=t.parentElement;return t&&wdtEmojiBundle.addEditor(t.parentNode.parentNode.querySelector("[contenteditable]")),!0}var a=t.getAttribute("data-action"),n=t.getAttribute("data-type"),s=t.getAttribute("data-id");BotConstructor.loadPage({id:s,type:n,action:a})}),Array.prototype.forEach.call(document.getElementsByClassName("js-attachments-radio"),function(t){t.addEventListener("click",function(){if(t.parentNode.classList.contains("js-checked"))t.checked=!1,t.parentNode.classList.remove("js-checked"),"link-post"===t.id&&t.parentNode.parentNode.querySelector("#post-links-content").classList.add("hidden");else{var e=t.parentNode.parentNode.parentNode.getElementsByClassName("js-checked")[0];e&&(e.classList.remove("js-checked"),"link-post"===e.getElementsByTagName("input")[0].id&&e.parentNode.querySelector("#post-links-content").classList.add("hidden")),t.parentNode.classList.add("js-checked"),"link-post"===t.id&&t.parentNode.parentNode.querySelector("#post-links-content").classList.remove("hidden")}})}),live("click",".js-toggle-active",function(){this.classList.toggle("active"),this.classList.contains("js-settings")&&BotConstructor.checkReplyPointed(this.parentNode.parentNode.parentNode.parentNode)},BotConstructor.wideColumn),BotConstructor.$wideColumn.on("click",".js-new-block",function(){var r=this,i=r.getAttribute("data-type");function t(){"tooltip-blocks-list"===r.parentNode.id&&r.parentNode.parentNode.previousElementSibling.classList.remove("active");var e,t,a=document.getElementById("messages-list-container"),n=document.getElementById("add-block-template").innerHTML,s=BotConstructor.blocks[i],o=BotConstructor.wideColumn.getElementsByClassName("js-active-plus-block")[0];e=(o?(o.classList.remove("active","js-active-plus-block"),o.parentNode.parentNode.insertAdjacentHTML("afterend",s),(t=o.parentNode.parentNode.nextElementSibling).insertAdjacentHTML("beforeend",n)):(a.insertAdjacentHTML("beforeend",s),(t=a.lastElementChild).insertAdjacentHTML("beforeend",n)),t.getElementsByClassName("js-autofocus")[0]),BotConstructor.blockCallbacks[i]&&BotConstructor.blockCallbacks[i](t),e&&selectElem(e),r.classList.contains("js-save")?(document.getElementById("save-advanced-message-btn").click(),ConstructorUi.afterSave=function(){ConstructorUi.afterSave=function(){},ConstructorUi.setupPointForwards()}):r.classList.contains("js-forward")&&ConstructorUi.setupPointForwards(),ConstructorUi.addPointsPadding()}BotConstructor.blocks[i]?t():getText("/ajax/get/constructor/template",{type:i},function(e){BotConstructor.blocks[i]=e,t()})}),BotConstructor.$wideColumn.on("blur",".js-vars",function(e){var t=document.getElementById("vars-suggestion-menu");t.classList.contains("active")&&t.classList.remove("active"),function t(e){Array.prototype.forEach.call(e,function(e){e.nodeType===Node.TEXT_NODE?e.nextSibling&&e.nextSibling.nodeType===Node.TEXT_NODE&&(e.nextSibling.textContent=e.textContent+e.nextSibling.textContent,e.parentNode.removeChild(e)):"DIV"===e.tagName?t(e.childNodes):"SPAN"!==e.tagName||e.firstChild||e.parentNode.removeChild(e)})}(this.childNodes),Emoji.parseVariables(this)});var e=$(document.body);e.on("mouseenter",".js-emoji-picker",function(){if(wdtEmojiBundle.emojiPickerHideTimer&&clearTimeout(wdtEmojiBundle.emojiPickerHideTimer),!this.classList.contains("js-emoji-picker-open")){var e=this;wdtEmojiBundle.emojiPickerShowTimer=setTimeout(function(){e.click()},200)}}),e.on("mouseout",".js-emoji-picker",function(){var e=this;wdtEmojiBundle.emojiPickerShowTimer&&clearTimeout(wdtEmojiBundle.emojiPickerShowTimer),wdtEmojiBundle.emojiPickerHideTimer=setTimeout(function(){e.classList.remove("js-emoji-picker-open"),wdtEmojiBundle.popup&&wdtEmojiBundle.popup.classList.remove("open")},300)})},loadPage:function(t){var a=location.href;return getText("".concat(BotConstructor.API,"/ajax/constructor/get"),t,function(e){if("error"!==e){document.getElementById("page-layout").classList.toggle("js-no-columns","special"===t.action),e=e.split("<!((((---))))!>"),document.getElementById("narrow-column-container").innerHTML=e[0],document.getElementById("wide-column-container").innerHTML=e[1],BotConstructor.search.set("act",t.action),t.type?BotConstructor.search.set("type",t.type):BotConstructor.search.delete("type"),t.id?BotConstructor.search.set("id",t.id):BotConstructor.search.delete("id"),setHistoryState(BotConstructor.search);try{yaCounter49303681.hit(location.href,{referer:a}),gtag("config","UA-105846709-2",{page_location:location.href,page_path:location.pathname})}catch(e){}ConstructorUi.topNotification.remove(),ConstructorUi.bindEvents(),BotConstructor.afterMove()}})},deletedRepliesStore:function(){var t=[];return{add:function(e){t.push(e)},clear:function(){t=[]},get:function(){return t}}},MessagesHistory:{items:null,getId:function(){return document.getElementById("header-chat-bot-selector").getAttribute("data-template-id")},getItems:function(){if(!BotConstructor.MessagesHistory.items){var e=BotConstructor.MessagesHistory.getId();BotConstructor.MessagesHistory.items=store.get("keywords-history-".concat(e)),"[object Array]"!==Object.prototype.toString.call(BotConstructor.MessagesHistory.items)&&(BotConstructor.MessagesHistory.items=[])}return BotConstructor.MessagesHistory.items},findIndex:function(e,t){for(var a=0;a<t.length;a++)if(t[a].id==e)return a;return!1},flush:function(){var e=BotConstructor.MessagesHistory.getId();BotConstructor.MessagesHistory.items=null,store.remove("keywords-history-".concat(e))},add:function(e,t){var a=BotConstructor.MessagesHistory.getItems(),n=BotConstructor.MessagesHistory.findIndex(e,a);t=t.substr(0,40),!1!==n?(a.splice(0,0,a.splice(n,1)[0]),a[0].keywords=t):a.unshift({id:e,keywords:t}),8<a.length&&a.pop(),BotConstructor.MessagesHistory.save(a)},remove:function(e){var t=BotConstructor.MessagesHistory.getItems(),a=BotConstructor.MessagesHistory.findIndex(e,t);t.splice(a,1),BotConstructor.MessagesHistory.save(t)},setContent:function(){var e=BotConstructor.MessagesHistory.getItems();if(!e.length)return'<div class="empty-list">Изменений нет</div>';document.getElementById("keywords-history-block").innerHTML=e.reduce(function(e,t){return"".concat(e,'<div class="ui-block__line ui-block__line--action js-link" data-action="keywords" data-type="2" data-id="').concat(t.id,'">')+'<div><a href="#0"></a>'.concat(t.keywords,"</div></div>")},"")},save:function(e){var t=BotConstructor.MessagesHistory.getId();store.set("keywords-history-".concat(t),e),BotConstructor.MessagesHistory.items=e}},getSelectionParentElement:function(){var e,t=null;return window.getSelection?(e=window.getSelection()).rangeCount&&1!=(t=e.getRangeAt(0).commonAncestorContainer).nodeType&&(t=t.parentNode):(e=document.selection)&&"Control"!=e.type&&(t=e.createRange().parentElement()),t},replaceSelectionWithHtml:function(e,t){var a;if(e!==BotConstructor.getSelectionParentElement()&&e.focus(),window.getSelection&&0<window.getSelection().rangeCount){(a=window.getSelection().getRangeAt(0)).deleteContents();var n=document.createElement("div");n.innerHTML=t;for(var s,o=document.createDocumentFragment();s=n.firstChild;)o.appendChild(s);a.insertNode(o),a.collapse(!0)}else document.selection&&document.selection.createRange&&((a=document.selection.createRange()).pasteHTML(t),a.collapse(!0))},checkReplyPointed:function(e){e.getElementsByClassName("js-settings active")[0]?e.getElementsByClassName("js-reply-toolbar")[0].classList.add("js-pointed"):e.getElementsByClassName("js-reply-toolbar")[0].classList.remove("js-pointed")},getDataManager:function(e){function o(e){var t=e.innerHTML;t=(t=(t=(t=(t=this.filterContent(t)).split(",")).map(function(e){return e.trim()})).filter(function(e,t,a){return""!==e.trim()&&a.indexOf(e)===t})).join(", "),e.innerHTML=t}function t(){this.get=function(){try{return this.clearData(),this.setReplies(),this.beforeSend(),JSON.stringify(this.data)}catch(e){console.error(e)}}}function a(){t.apply(this,arguments)}function n(){t.apply(this,arguments)}function s(){t.apply(this,arguments)}return t.prototype.getContainers=function(){var e=BotConstructor.wideColumn.querySelector("#constructor-messages-section").getElementsByClassName("js-content");return Array.prototype.reduce.call(e,function(e,t){return t.parentNode.parentNode.classList.contains("js-advanced-reply")||e.push(t),e},[])},t.prototype.filterContent=function(e){return(e=(e=(e=e.replace(/((<br>)+$)|^(<br>)+/g,"")).replace(/&nbsp;/g," ")).replace(/\s\s+/g," ")).trim()},t.prototype.clearData=function(){var e;this.data={template_id:document.getElementById("header-chat-bot-selector").getAttribute("data-template-id"),replies:[],deleted_replies:BotConstructor.deletedReplies.get(),message:{id:document.getElementById("constructor-messages-section").getAttribute("data-id"),reply_type:document.getElementById("message-reply-type").getAttribute("data-value"),type:BotConstructor.search.get("type")||BotConstructor.EDITOR_ACTIONS.COMMON_MESSAGE,match_type:this.getMatchType(),keywords:this.getKeywords(),event_id:this.getEventId(),market_item_id:(e=BotConstructor.search.get("id"),/\d+-\d+/.test(e)?e.split("-")[1]:null)}}},t.prototype.setReplies=function(){var s=this,e=s.getContainers();Array.prototype.forEach.call(e,function(e){var t=0,a=e.nextElementSibling.getElementsByClassName("js-settings active");Array.prototype.forEach.call(a,function(e){t+=+e.getAttribute("data-value")});var n=e.nextElementSibling.getElementsByClassName("js-reply-send-conditions js-pointed")[0];n&&(t+=+n.getAttribute("data-value")),e.setAttribute("data-settings",t),e.innerHTML=e.innerHTML.replace(/(<div><br><\/div>){2,}/g,"<div><br></div>"),e.innerHTML=e.innerHTML.replace(/(<br>){3,}/g,"<br><br>"),s.data.replies.push(wrapDomElement(e))})},t.prototype.getEventId=function(){var e=BotConstructor.search.get("id");return/\d+-\d+/.test(e)?e.split("-")[0]:null},t.prototype.clearContainers=function(a){var e,n=this,t=n.getContainers();e=a?function(e,t){e.setAttribute("data-id",a[t]),e.getAttribute("data-type")==ENUM_REPLY_TYPES.TYPE_TEXT&&(e.innerHTML=n.filterContent(e.innerHTML))}:function(e){e.getAttribute("data-type")==ENUM_REPLY_TYPES.TYPE_TEXT&&(e.innerHTML=n.filterContent(e.innerHTML))},Array.prototype.forEach.call(t,e)},t.prototype.getMatchType=function(){var e=document.getElementById("message-match-type");return e?e.getAttribute("data-value"):null},t.prototype.getKeywords=function(){var e=document.getElementById("message-keywords-container");return e?!e.classList.contains("js-not-modified")&&(this.filterKeywords(),wrapDomElement(e)):null},t.prototype.beforeSend=function(){},t.prototype.forwardingMessages=function(){var e=document.getElementById("forwarding-keywords"),n=[];if(e.checked){if(e.parentNode.parentNode.classList.contains("js-not-modified"))return;var s=this;Array.prototype.forEach.call(e.parentNode.getElementsByClassName("js-contenteditable"),function(e){var t=e.parentNode.parentNode.nextElementSibling.getElementsByClassName("js-forward-breadcrumbs-input")[0];o.call(s,e);var a=wrapDomElement(e);a.children&&(a=(a=(a=(a=getContentFromElements(a.children)).split(",")).map(function(e){return e.trim()})).filter(function(e,t,a){return a.indexOf(e)===t}),n.push({keywords:a,type:t.getAttribute("data-type"),id:t.getAttribute("data-value")}))}),n.length&&e.classList.add("js-not-empty")}else{e.classList.contains("js-not-empty")&&(n=!1);var t=document.getElementById("instant-forward");if(t.checked){var a=t.nextElementSibling.nextElementSibling.nextElementSibling.getElementsByClassName("js-forward-breadcrumbs-input")[0];a&&(this.data.message.forward={type:a.getAttribute("data-type"),id:a.getAttribute("data-value")})}}this.data.forwarding_messages=n},((a.prototype=Object.create(t.prototype)).constructor=a).prototype.filterKeywords=function(){var e=document.getElementById("message-keywords-container");e&&(o.call(this,e),e.classList.add("js-not-modified"),triggerEvent(e,"keyup"))},a.prototype.clearContainers=function(e){t.prototype.clearContainers.call(this,e)},a.prototype.beforeSend=function(){this.forwardingMessages()},((n.prototype=Object.create(t.prototype)).constructor=n).prototype.beforeSend=function(){this.forwardingMessages();try{this.setFunnel()}catch(e){console.error(e)}var e=document.getElementById("instant-forward-warning");document.getElementById("instant-forward").checked?e.classList.remove("hidden"):e.classList.add("hidden")},n.prototype.setReplies=function(){var e,n=this,t=n.getContainers(),s=(_defineProperty(e={},ENUM_REPLY_TYPES.TYPE_TEXT,function(e){var t=0,a=e.nextElementSibling.getElementsByClassName("js-settings active");Array.prototype.forEach.call(a,function(e){t+=+e.getAttribute("data-value")});var n=e.nextElementSibling.getElementsByClassName("js-reply-send-conditions js-pointed")[0];return n&&(t+=+n.getAttribute("data-value")),e.setAttribute("data-settings",t),e.innerHTML=e.innerHTML.replace(/(<div><br><\/div>){2,}/g,"<div><br></div>"),e.innerHTML=e.innerHTML.replace(/(<br>){3,}/g,"<br><br>"),wrapDomElement(e)}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_PLUGIN_ALBUM_PHOTO,function(e){var t={};if(t.value=e.getElementsByTagName("input")[0].value.trim(),t.id=e.getAttribute("data-id"),t.quantity=e.getElementsByClassName("js-plugin-select")[0].previousElementSibling.getAttribute("data-value"),0<t.value.length)return t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_PLUGIN_ALBUM_VIDEO,function(e){var t={};if(t.value=e.getElementsByTagName("input")[0].value.trim(),t.id=e.getAttribute("data-id"),t.quantity=e.getElementsByClassName("js-plugin-select")[0].previousElementSibling.getAttribute("data-value"),0<t.value.length)return t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_PLUGIN_GIFTS,function(e){return{id:e.getAttribute("data-id")}}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_YANDEX_QUICK_PAY,function(e){return{id:e.getAttribute("data-id")}}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_ANONYMOUS_CHAT,function(e){var t={};return t.id=e.getAttribute("data-id"),t.type=ENUM_REPLY_TYPES.TYPE_ANONYMOUS_CHAT,t.type=ENUM_REPLY_TYPES.TYPE_ANONYMOUS_CHAT,t.group_only=e.getElementsByClassName("js-group-only-chat")[0].checked,t.finish_btn=e.getElementsByClassName("js-chat-finish-btn")[0].checked,t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_CALL_BOT,function(e){var t={};t.id=e.getAttribute("data-id"),t.type=ENUM_REPLY_TYPES.TYPE_CALL_BOT;var a=e.getElementsByClassName("js-checkbox");return Array.prototype.forEach.call(a,function(e){e.checked&&(t.items_type=e.value)}),t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_DATING_BOT,function(e){var t={};return t.id=e.getAttribute("data-id"),t.type=ENUM_REPLY_TYPES.TYPE_CALL_BOT,t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_POINT_ENTITY,function(e){var t={};return t.id=e.getAttribute("data-id"),t.title=e.getElementsByClassName("js-point-name")[0].textContent.trim(),t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_BUTTONS_ENTITY,function(e){var t={};t.id=e.getAttribute("data-id");var a=0,n=e.getElementsByClassName("js-settings active");Array.prototype.forEach.call(n,function(e){a+=+e.getAttribute("data-value")});var s=e.getElementsByClassName("js-reply-send-conditions js-pointed")[0];s&&(a+=+s.getAttribute("data-value"));var o=e.getElementsByClassName("js-contenteditable")[0];o.setAttribute("data-settings",a);var r=e.getElementsByClassName("js-variable-name")[0];t.variable_id=r.getAttribute("data-variable-id"),t.variable_name=r.textContent.trim(),t.content=wrapDomElement(o),t.click_required=e.getElementsByClassName("js-btn-click-required")[0].checked;var i=e.getElementsByClassName("js-inline-keyboard")[0].checked?2:0,l=e.getElementsByClassName("js-btn-continue-scenario")[0].checked?1:0;return t.settings=i|l,t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_JSON_API_ENTITY,function(e){var t={};return t.id=e.getAttribute("data-id"),t.method_type=e.getElementsByClassName("js-dropdown-menu")[0].getAttribute("data-value"),t.variables=e.getElementsByClassName("js-contenteditable")[0].textContent,t.error_message=wrapDomElement(e.getElementsByClassName("js-error-message")[0]),t.webhook_url=e.getElementsByTagName("input")[0].value.trim(),t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_GOOGLE_SPREADSHEET_ENTITY,function(e){var t={};return t.id=e.getAttribute("data-id"),t.variables=e.getElementsByClassName("js-contenteditable")[0].textContent,t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_COMMENT_ENTITY,function(e){var t={};return t.id=e.getAttribute("data-id"),t.content=wrapDomElement(e.getElementsByClassName("js-contenteditable")[0]),t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_CONDITION_ENTITY,function(e){var t={};return t.id=e.getAttribute("data-id"),t.filters=AudienceFilters.parseFilters(e.getElementsByClassName("js-filter-row")),t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_PAUSE_ENTITY,function(e){var t={};t.id=e.getAttribute("data-id");var a=e.getElementsByTagName("input")[0],n=a.nextElementSibling.firstElementChild;return t.value=a.value,t.unit=n.options[n.selectedIndex].value,t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_TIMER,function(e){var t={};t.id=e.getAttribute("data-id");var a=e.getElementsByTagName("input")[0],n=a.nextElementSibling.firstElementChild;t.value=a.value,t.unit=n.options[n.selectedIndex].value,t.activity=e.getElementsByClassName("js-activity-flag")[0].checked;var s=e.querySelector(".js-timer-date"),o=e.querySelector(".js-date-hour-select"),r=e.querySelector(".js-date-minute-select");return t.date_item=s.options[s.selectedIndex].value,t.date_hour=o.options[o.selectedIndex].value,t.date_minute=r.options[r.selectedIndex].value,t.timer_type=e.querySelector(".js-timer-type-value").getAttribute("data-value")-1,t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_NOTIFICATION_ENTITY,function(e){var t={};t.id=e.getAttribute("data-id");var a=e.getElementsByClassName("js-users-link-input")[0];return t.content=wrapDomElement(e.getElementsByClassName("js-contenteditable")[0]),t.list=Array.prototype.reduce.call(a.parentNode.parentNode.getElementsByClassName("js-user"),function(e,t){return e.push(t.getAttribute("data-id")),e},[]),t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_EMAIL_ENTITY,function(e){var t={};return t.id=e.getAttribute("data-id"),t.title=e.getElementsByClassName("js-email-title")[0].textContent,t.body=wrapDomElement(e.getElementsByClassName("js-email-body")[0]),t.recipients=e.getElementsByTagName("input")[0].value.trim(),t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_FORM_ENTITY,function(e){var t={};t.id=e.getAttribute("data-id"),t.rows=Array.prototype.reduce.call(e.getElementsByClassName("js-input-row"),function(e,t){var a=t.getElementsByClassName("js-variable-name")[0];return e.push({message:wrapDomElement(t.getElementsByClassName("js-vars")[0]),validation_type:t.getElementsByClassName("js-dropdown-menu")[0].getAttribute("data-value"),variable_id:a.getAttribute("data-variable-id"),variable_name:a.textContent.trim(),min_value:parseInt(t.getElementsByClassName("js-input-min-value")[0].value.trim())||null,max_value:parseInt(t.getElementsByClassName("js-input-max-value")[0].value.trim())||null}),e},[]);var a=e.getElementsByClassName("js-validation-text");return Array.prototype.forEach.call(a,function(e){t[e.getAttribute("data-field")]=wrapDomElement(e)}),t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_VARIABLES_ENTITY,function(e){var t={};return t.id=e.getAttribute("data-id"),t.rows=Array.prototype.reduce.call(e.getElementsByClassName("js-input-row"),function(e,t){var a=t.getElementsByClassName("js-variable-name")[0];return e.push({variable_id:a.getAttribute("data-variable-id"),variable_name:a.textContent.trim(),expression:wrapDomElement(t.getElementsByClassName("js-expression")[0])}),e},[]),t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_FORWARD_ENTITY,function(e){var t={};t.id=e.getAttribute("data-id"),t.forward={};var a=e.getElementsByClassName("js-forward-breadcrumbs-input")[0];return t.forward.value_type=e.getElementsByClassName("js-forward-type-value")[0].getAttribute("data-value"),t.forward.id=a.getAttribute("data-value"),t.forward.type=a.getAttribute("data-type"),t.forward.point_id=e.getElementsByClassName("js-forward-point-value")[0].getAttribute("data-value"),t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_CONDITION_POINT_ENTITY,function(e){var t={};return t.id=e.getAttribute("data-id"),t.for=e.getAttribute("data-for"),t.scopeType=e.getAttribute("data-scope"),t.pointType=0,t}),_defineProperty(e,ENUM_REPLY_TYPES.TYPE_CONDITION_END_POINT_ENTITY,function(e){var t={};return t.id=e.getAttribute("data-id"),t.for=e.getAttribute("data-for"),t.scopeType=e.getAttribute("data-scope"),t.pointType=1,t}),e);Array.prototype.forEach.call(t,function(e){var t=e.getAttribute("data-type"),a=s[t](e);a&&(a.type=t,n.data.replies.push(a))})},n.prototype.getContainers=function(){return BotConstructor.wideColumn.querySelector("#constructor-messages-section").getElementsByClassName("js-block")},n.prototype.setFunnel=function(){if(document.getElementById("reply-funnel-checkbox").checked){var a=[];Array.prototype.forEach.call(document.getElementById("reply-funnel-container").getElementsByClassName("js-contenteditable"),function(e,t){0!==t&&a.push({content:wrapDomElement(e),time_value:e.parentNode.parentNode.parentNode.getElementsByClassName("js-time-value")[0].value,time_unit:e.parentNode.parentNode.parentNode.getElementsByClassName("js-time-unit")[0].value})});var e=document.getElementById("funnel-forward-block").getElementsByClassName("js-forward-breadcrumbs-input")[0];this.data.funnel={must_be_in_chain:1==document.getElementById("must-be-in-chain-flag").getAttribute("data-value"),is_timer:1!=document.getElementById("is-timer-funnel-flag").getAttribute("data-value"),one_time:document.getElementById("one-time-funnel-checkbox").checked,messages:a,forward:{id:e.getAttribute("data-value"),type:e.getAttribute("data-type")}}}else this.data.funnel={}},n.prototype.clearData=function(){this.data={template_id:document.getElementById("header-chat-bot-selector").getAttribute("data-template-id"),replies:[],deleted_replies:BotConstructor.deletedReplies.get(),parent_reply:{id:document.getElementById("constructor-messages-section").getAttribute("data-id"),type:BotConstructor.search.get("type")},message:{},funnel:{}}},((s.prototype=Object.create(t.prototype)).constructor=s).prototype.getContainers=function(){return BotConstructor.wideColumn.querySelector("#messages-list-container").getElementsByClassName("js-content")},s.prototype.clearData=function(){this.data={bot_id:document.getElementById("current-bot").getAttribute("data-id"),notify:document.getElementById("mailing-end-notification").checked,unsubscribe_button:document.getElementById("mailing-unsubscribe-button").checked,deleted_replies:BotConstructor.deletedReplies&&BotConstructor.deletedReplies.get(),replies:[],segments:[]}},s.prototype.beforeSend=function(){this.data.segments=Mailing.getSegments()},new{message:a,advancedReply:n,mailingTask:s}[e]}};BotConstructor.initApp();